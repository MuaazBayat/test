{
    "config": {
        "rescue_workflow": "Rescue"
    },
    "const": {
        "MIDDLEWARE": "https://bot.eskom.qa.helm.africa/v1",
        "MOCK_MIDDLEWARE": "https://bot.eskom.qa.helm.africa/mock"
    },
    "created_at": "2024-09-19 17:30:13.246724+0000",
    "default_action": {
        "ref": "NRi28eP2QoaHkfZLl_1zug",
        "type": "workflow"
    },
    "id": "QianU0V7Tx-g2PBqe0TysA",
    "menu": {
        "greeting": "Welcome to the Eskom bot"
    },
    "name": "Eskom Facebook Flow",
    "nlu": {
        "instances": [
            {
                "apikey": "3c17440f-6ade-46d3-816b-fff5bde117cb",
                "classifiers": [
                    {
                        "desc": "router",
                        "id": "router",
                        "name": "router",
                        "type": "intent_classifiers"
                    },
                    {
                        "desc": "question",
                        "id": "question-or-route",
                        "name": "question?",
                        "type": "intent_classifiers"
                    },
                    {
                        "desc": "fault classifier",
                        "id": "fault-classifier",
                        "name": "fault",
                        "type": "intent_classifiers"
                    }
                ],
                "name": "NLU Playground",
                "url": "https://nlu.feersum.io/nlu/v2"
            }
        ]
    },
    "nlu_config": {
        "apikey": "3c17440f-6ade-46d3-816b-fff5bde117cb",
        "url": "https://nlu.feersum.io/nlu/v2"
    },
    "nlu_models": {
        "annotators": [
            {
                "collection_uri": "/faq_matchers",
                "has_labels": true,
                "long_name": "Eskom FAQ v 0.1",
                "model_type": "faq_matcher",
                "name": "eskom-faq-v-01",
                "unique_name": "faq_matcher/eskom-faq-v-01",
                "uuid": "2fedaac5-a3e4-4316-bc47-e1bd5424a1b8"
            },
            {
                "collection_uri": "/faq_matchers",
                "has_labels": true,
                "long_name": "Eskom FAQ v 0.2",
                "model_type": "faq_matcher",
                "name": "eskom-faq-v-02",
                "unique_name": "faq_matcher/eskom-faq-v-02",
                "uuid": "d34cb483-e689-4434-b4a8-b842d3efc9f6"
            },
            {
                "collection_uri": "/faq_matchers",
                "has_labels": true,
                "long_name": "Eskom FAQ split",
                "model_type": "faq_matcher",
                "name": "eskom-faq-v-03",
                "unique_name": "faq_matcher/eskom-faq-v-03",
                "uuid": "af66fae6-e5c7-4dea-b9bb-c51ed84cce1b"
            },
            {
                "collection_uri": "/faq_matchers",
                "has_labels": true,
                "long_name": "Eskom FAQ v 0.4",
                "model_type": "faq_matcher",
                "name": "eskom-faq-v-04",
                "unique_name": "faq_matcher/eskom-faq-v-04",
                "uuid": "60f857ea-976a-47d3-af68-9d4a53a43675"
            },
            {
                "collection_uri": "/faq_matchers",
                "has_labels": true,
                "long_name": "Eskom KRN FAQ",
                "model_type": "faq_matcher",
                "name": "eskom-krn-faq",
                "unique_name": "faq_matcher/eskom-krn-faq",
                "uuid": "acabdf4f-d9f0-4f6b-a4a6-0fa5eb7bd718"
            },
            {
                "collection_uri": "/faq_matchers",
                "has_labels": true,
                "long_name": "Eskom KRN FAQ v 0.4",
                "model_type": "faq_matcher",
                "name": "eskom-krn-faq-v-04",
                "unique_name": "faq_matcher/eskom-krn-faq-v-04",
                "uuid": "3474acd9-6927-40f8-87c1-72086cdf4d6b"
            },
            {
                "collection_uri": "/intent_classifiers",
                "has_labels": true,
                "long_name": "fault-classifier",
                "model_type": "intent_classifier",
                "name": "fault-classifier",
                "unique_name": "intent_classifier/fault-classifier",
                "uuid": "db6c74b7-0cf5-43cb-9bff-bf8dbdec70cf"
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "BPEmb for English",
                "model_type": "sentence_encoder",
                "name": "feers_bpemb_eng",
                "unique_name": "sentence_encoder/feers_bpemb_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "BPEmb for isiZulu",
                "model_type": "sentence_encoder",
                "name": "feers_bpemb_zul",
                "unique_name": "sentence_encoder/feers_bpemb_zul",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "Elmo encoder for English",
                "model_type": "sentence_encoder",
                "name": "feers_elmo_eng",
                "unique_name": "sentence_encoder/feers_elmo_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Sub-Word Manifold for Afrikaans",
                "model_type": "sentence_encoder",
                "name": "feers_ft_afr",
                "unique_name": "sentence_encoder/feers_ft_afr",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Sub-Word Manifold for English",
                "model_type": "sentence_encoder",
                "name": "feers_ft_eng",
                "unique_name": "sentence_encoder/feers_ft_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Sub-Word Manifold for isiZulu",
                "model_type": "sentence_encoder",
                "name": "feers_ft_zul",
                "unique_name": "sentence_encoder/feers_ft_zul",
                "uuid": ""
            },
            {
                "collection_uri": "/image_encoders",
                "has_labels": false,
                "long_name": "Resnet used as an image encoder.",
                "model_type": "image_encoder",
                "name": "feers_resnet",
                "unique_name": "image_encoder/feers_resnet",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "Sentence Bert for English",
                "model_type": "sentence_encoder",
                "name": "feers_sbert_eng",
                "unique_name": "sentence_encoder/feers_sbert_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "Sense2Vec word embedding model trained on 2015 English Reddit corpus.",
                "model_type": "sentence_encoder",
                "name": "feers_sense2vec_eng",
                "unique_name": "sentence_encoder/feers_sense2vec_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_translators",
                "has_labels": false,
                "long_name": "Afr to Eng NMT model.",
                "model_type": "sentence_translator",
                "name": "feers_seq2seq_afr_eng",
                "unique_name": "sentence_translator/feers_seq2seq_afr_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_translators",
                "has_labels": false,
                "long_name": "Eng to Afr NMT model.",
                "model_type": "sentence_translator",
                "name": "feers_seq2seq_eng_afr",
                "unique_name": "sentence_translator/feers_seq2seq_eng_afr",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_translators",
                "has_labels": false,
                "long_name": "Eng to Xho NMT model.",
                "model_type": "sentence_translator",
                "name": "feers_seq2seq_eng_xho",
                "unique_name": "sentence_translator/feers_seq2seq_eng_xho",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_translators",
                "has_labels": false,
                "long_name": "Xho to Eng NMT model.",
                "model_type": "sentence_translator",
                "name": "feers_seq2seq_xho_eng",
                "unique_name": "sentence_translator/feers_seq2seq_xho_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "Google's Usent encoder for English",
                "model_type": "sentence_encoder",
                "name": "feers_usent_eng",
                "unique_name": "sentence_encoder/feers_usent_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for Afrikaans",
                "model_type": "sentence_encoder",
                "name": "feers_wm_afr",
                "unique_name": "sentence_encoder/feers_wm_afr",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "Glove Word Manifold for English",
                "model_type": "sentence_encoder",
                "name": "feers_wm_eng",
                "unique_name": "sentence_encoder/feers_wm_eng",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for isiXhosa (REUSED for isiNdebele)",
                "model_type": "sentence_encoder",
                "name": "feers_wm_nbl",
                "unique_name": "sentence_encoder/feers_wm_nbl",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for Sepedi",
                "model_type": "sentence_encoder",
                "name": "feers_wm_nso",
                "unique_name": "sentence_encoder/feers_wm_nso",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for Sesotho",
                "model_type": "sentence_encoder",
                "name": "feers_wm_sot",
                "unique_name": "sentence_encoder/feers_wm_sot",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for siSwati",
                "model_type": "sentence_encoder",
                "name": "feers_wm_ssw",
                "unique_name": "sentence_encoder/feers_wm_ssw",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for Setswana",
                "model_type": "sentence_encoder",
                "name": "feers_wm_tsn",
                "unique_name": "sentence_encoder/feers_wm_tsn",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for Xitsonga",
                "model_type": "sentence_encoder",
                "name": "feers_wm_tso",
                "unique_name": "sentence_encoder/feers_wm_tso",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for Tshivenda",
                "model_type": "sentence_encoder",
                "name": "feers_wm_ven",
                "unique_name": "sentence_encoder/feers_wm_ven",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for isiXhosa",
                "model_type": "sentence_encoder",
                "name": "feers_wm_xho",
                "unique_name": "sentence_encoder/feers_wm_xho",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "FastText Word Manifold for isiZulu",
                "model_type": "sentence_encoder",
                "name": "feers_wm_zul",
                "unique_name": "sentence_encoder/feers_wm_zul",
                "uuid": ""
            },
            {
                "collection_uri": "/date_parsers",
                "has_labels": false,
                "long_name": "Generic date_parser.",
                "model_type": "date_parser",
                "name": "generic",
                "unique_name": "date_parser/generic",
                "uuid": ""
            },
            {
                "collection_uri": "/sentiment_detectors",
                "has_labels": false,
                "long_name": "Generic sentiment_detector.",
                "model_type": "sentiment_detector",
                "name": "generic",
                "unique_name": "sentiment_detector/generic",
                "uuid": ""
            },
            {
                "collection_uri": "/emotion_detectors",
                "has_labels": true,
                "long_name": "Generic emotion_detector.",
                "model_type": "emotion_detector",
                "name": "generic",
                "unique_name": "emotion_detector/generic",
                "uuid": ""
            },
            {
                "collection_uri": "/sentence_encoders",
                "has_labels": false,
                "long_name": "Small Stanford Glove Word Embedding for English",
                "model_type": "sentence_encoder",
                "name": "glove6B50D_trimmed",
                "unique_name": "sentence_encoder/glove6B50D_trimmed",
                "uuid": ""
            },
            {
                "collection_uri": "/intent_classifiers",
                "has_labels": true,
                "long_name": "Question or route",
                "model_type": "intent_classifier",
                "name": "question-or-route",
                "unique_name": "intent_classifier/question-or-route",
                "uuid": "45b2a401-a208-4804-90b3-88f9fc7cda69"
            },
            {
                "collection_uri": "/intent_classifiers",
                "has_labels": true,
                "long_name": "Router",
                "model_type": "intent_classifier",
                "name": "router",
                "unique_name": "intent_classifier/router",
                "uuid": "28d62f66-80ed-4518-8834-d381ef97827e"
            }
        ],
        "grouped_annotators": [
            [
                "date_parser",
                [
                    {
                        "collection_uri": "/date_parsers",
                        "has_labels": false,
                        "long_name": "Generic date_parser.",
                        "model_type": "date_parser",
                        "name": "generic",
                        "unique_name": "date_parser/generic",
                        "uuid": ""
                    }
                ]
            ],
            [
                "emotion_detector",
                [
                    {
                        "collection_uri": "/emotion_detectors",
                        "has_labels": true,
                        "long_name": "Generic emotion_detector.",
                        "model_type": "emotion_detector",
                        "name": "generic",
                        "unique_name": "emotion_detector/generic",
                        "uuid": ""
                    }
                ]
            ],
            [
                "faq_matcher",
                [
                    {
                        "collection_uri": "/faq_matchers",
                        "has_labels": true,
                        "long_name": "Eskom FAQ v 0.1",
                        "model_type": "faq_matcher",
                        "name": "eskom-faq-v-01",
                        "unique_name": "faq_matcher/eskom-faq-v-01",
                        "uuid": "2fedaac5-a3e4-4316-bc47-e1bd5424a1b8"
                    },
                    {
                        "collection_uri": "/faq_matchers",
                        "has_labels": true,
                        "long_name": "Eskom FAQ v 0.2",
                        "model_type": "faq_matcher",
                        "name": "eskom-faq-v-02",
                        "unique_name": "faq_matcher/eskom-faq-v-02",
                        "uuid": "d34cb483-e689-4434-b4a8-b842d3efc9f6"
                    },
                    {
                        "collection_uri": "/faq_matchers",
                        "has_labels": true,
                        "long_name": "Eskom FAQ split",
                        "model_type": "faq_matcher",
                        "name": "eskom-faq-v-03",
                        "unique_name": "faq_matcher/eskom-faq-v-03",
                        "uuid": "af66fae6-e5c7-4dea-b9bb-c51ed84cce1b"
                    },
                    {
                        "collection_uri": "/faq_matchers",
                        "has_labels": true,
                        "long_name": "Eskom FAQ v 0.4",
                        "model_type": "faq_matcher",
                        "name": "eskom-faq-v-04",
                        "unique_name": "faq_matcher/eskom-faq-v-04",
                        "uuid": "60f857ea-976a-47d3-af68-9d4a53a43675"
                    },
                    {
                        "collection_uri": "/faq_matchers",
                        "has_labels": true,
                        "long_name": "Eskom KRN FAQ",
                        "model_type": "faq_matcher",
                        "name": "eskom-krn-faq",
                        "unique_name": "faq_matcher/eskom-krn-faq",
                        "uuid": "acabdf4f-d9f0-4f6b-a4a6-0fa5eb7bd718"
                    },
                    {
                        "collection_uri": "/faq_matchers",
                        "has_labels": true,
                        "long_name": "Eskom KRN FAQ v 0.4",
                        "model_type": "faq_matcher",
                        "name": "eskom-krn-faq-v-04",
                        "unique_name": "faq_matcher/eskom-krn-faq-v-04",
                        "uuid": "3474acd9-6927-40f8-87c1-72086cdf4d6b"
                    }
                ]
            ],
            [
                "image_encoder",
                [
                    {
                        "collection_uri": "/image_encoders",
                        "has_labels": false,
                        "long_name": "Resnet used as an image encoder.",
                        "model_type": "image_encoder",
                        "name": "feers_resnet",
                        "unique_name": "image_encoder/feers_resnet",
                        "uuid": ""
                    }
                ]
            ],
            [
                "intent_classifier",
                [
                    {
                        "collection_uri": "/intent_classifiers",
                        "has_labels": true,
                        "long_name": "fault-classifier",
                        "model_type": "intent_classifier",
                        "name": "fault-classifier",
                        "unique_name": "intent_classifier/fault-classifier",
                        "uuid": "db6c74b7-0cf5-43cb-9bff-bf8dbdec70cf"
                    },
                    {
                        "collection_uri": "/intent_classifiers",
                        "has_labels": true,
                        "long_name": "Question or route",
                        "model_type": "intent_classifier",
                        "name": "question-or-route",
                        "unique_name": "intent_classifier/question-or-route",
                        "uuid": "45b2a401-a208-4804-90b3-88f9fc7cda69"
                    },
                    {
                        "collection_uri": "/intent_classifiers",
                        "has_labels": true,
                        "long_name": "Router",
                        "model_type": "intent_classifier",
                        "name": "router",
                        "unique_name": "intent_classifier/router",
                        "uuid": "28d62f66-80ed-4518-8834-d381ef97827e"
                    }
                ]
            ],
            [
                "sentence_encoder",
                [
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "BPEmb for English",
                        "model_type": "sentence_encoder",
                        "name": "feers_bpemb_eng",
                        "unique_name": "sentence_encoder/feers_bpemb_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "BPEmb for isiZulu",
                        "model_type": "sentence_encoder",
                        "name": "feers_bpemb_zul",
                        "unique_name": "sentence_encoder/feers_bpemb_zul",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "Elmo encoder for English",
                        "model_type": "sentence_encoder",
                        "name": "feers_elmo_eng",
                        "unique_name": "sentence_encoder/feers_elmo_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Sub-Word Manifold for Afrikaans",
                        "model_type": "sentence_encoder",
                        "name": "feers_ft_afr",
                        "unique_name": "sentence_encoder/feers_ft_afr",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Sub-Word Manifold for English",
                        "model_type": "sentence_encoder",
                        "name": "feers_ft_eng",
                        "unique_name": "sentence_encoder/feers_ft_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Sub-Word Manifold for isiZulu",
                        "model_type": "sentence_encoder",
                        "name": "feers_ft_zul",
                        "unique_name": "sentence_encoder/feers_ft_zul",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "Sentence Bert for English",
                        "model_type": "sentence_encoder",
                        "name": "feers_sbert_eng",
                        "unique_name": "sentence_encoder/feers_sbert_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "Sense2Vec word embedding model trained on 2015 English Reddit corpus.",
                        "model_type": "sentence_encoder",
                        "name": "feers_sense2vec_eng",
                        "unique_name": "sentence_encoder/feers_sense2vec_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "Google's Usent encoder for English",
                        "model_type": "sentence_encoder",
                        "name": "feers_usent_eng",
                        "unique_name": "sentence_encoder/feers_usent_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for Afrikaans",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_afr",
                        "unique_name": "sentence_encoder/feers_wm_afr",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "Glove Word Manifold for English",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_eng",
                        "unique_name": "sentence_encoder/feers_wm_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for isiXhosa (REUSED for isiNdebele)",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_nbl",
                        "unique_name": "sentence_encoder/feers_wm_nbl",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for Sepedi",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_nso",
                        "unique_name": "sentence_encoder/feers_wm_nso",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for Sesotho",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_sot",
                        "unique_name": "sentence_encoder/feers_wm_sot",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for siSwati",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_ssw",
                        "unique_name": "sentence_encoder/feers_wm_ssw",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for Setswana",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_tsn",
                        "unique_name": "sentence_encoder/feers_wm_tsn",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for Xitsonga",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_tso",
                        "unique_name": "sentence_encoder/feers_wm_tso",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for Tshivenda",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_ven",
                        "unique_name": "sentence_encoder/feers_wm_ven",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for isiXhosa",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_xho",
                        "unique_name": "sentence_encoder/feers_wm_xho",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "FastText Word Manifold for isiZulu",
                        "model_type": "sentence_encoder",
                        "name": "feers_wm_zul",
                        "unique_name": "sentence_encoder/feers_wm_zul",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_encoders",
                        "has_labels": false,
                        "long_name": "Small Stanford Glove Word Embedding for English",
                        "model_type": "sentence_encoder",
                        "name": "glove6B50D_trimmed",
                        "unique_name": "sentence_encoder/glove6B50D_trimmed",
                        "uuid": ""
                    }
                ]
            ],
            [
                "sentence_translator",
                [
                    {
                        "collection_uri": "/sentence_translators",
                        "has_labels": false,
                        "long_name": "Afr to Eng NMT model.",
                        "model_type": "sentence_translator",
                        "name": "feers_seq2seq_afr_eng",
                        "unique_name": "sentence_translator/feers_seq2seq_afr_eng",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_translators",
                        "has_labels": false,
                        "long_name": "Eng to Afr NMT model.",
                        "model_type": "sentence_translator",
                        "name": "feers_seq2seq_eng_afr",
                        "unique_name": "sentence_translator/feers_seq2seq_eng_afr",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_translators",
                        "has_labels": false,
                        "long_name": "Eng to Xho NMT model.",
                        "model_type": "sentence_translator",
                        "name": "feers_seq2seq_eng_xho",
                        "unique_name": "sentence_translator/feers_seq2seq_eng_xho",
                        "uuid": ""
                    },
                    {
                        "collection_uri": "/sentence_translators",
                        "has_labels": false,
                        "long_name": "Xho to Eng NMT model.",
                        "model_type": "sentence_translator",
                        "name": "feers_seq2seq_xho_eng",
                        "unique_name": "sentence_translator/feers_seq2seq_xho_eng",
                        "uuid": ""
                    }
                ]
            ],
            [
                "sentiment_detector",
                [
                    {
                        "collection_uri": "/sentiment_detectors",
                        "has_labels": false,
                        "long_name": "Generic sentiment_detector.",
                        "model_type": "sentiment_detector",
                        "name": "generic",
                        "unique_name": "sentiment_detector/generic",
                        "uuid": ""
                    }
                ]
            ]
        ]
    },
    "project_id": "ylo4NDeOSyGFxMBbvpOVzg",
    "status": "open",
    "styles": {
        "button_styles": [
            "list",
            "reply"
        ],
        "message_styles": [
            "preview",
            "translated"
        ]
    },
    "transports": [
        {
            "type": "facebook"
        },
        {
            "type": "plaintext"
        },
        {
            "type": "dialog360"
        }
    ],
    "updated_at": "2024-09-20 04:26:49.459663+0000",
    "workflows": [
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "NmYZXrrfRBWHSiteVFrs0Q",
            "id": "mjd3QiqzTbCvvtZ4lZw-xw",
            "name": "Accounts: Balances",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "FFC-TtlTQkOZouvDd50E6Q",
                            "route": "f/s/FFC-TtlTQkOZouvDd50E6Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "_P18nXOoQlKF86Xkj4mSqw",
                            "route": "f/s/_P18nXOoQlKF86Xkj4mSqw",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "FFC-TtlTQkOZouvDd50E6Q",
                            "route": "f/s/FFC-TtlTQkOZouvDd50E6Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "7esMNuGfTpSi_4XH1jwCxQ",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "darsfiv-TCaLUh38aREw8w",
                    "method": "GET",
                    "name": "API: Get balance",
                    "on_error": {
                        "transition": {
                            "ref": "DkDZDcxxQKOIO3xtJRYBpQ",
                            "route": "f/s/DkDZDcxxQKOIO3xtJRYBpQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "x6iPAU4mQ7i7nl1jTxB3dQ",
                            "route": "f/s/x6iPAU4mQ7i7nl1jTxB3dQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.balance"
                    },
                    "resource": "{{const.MIDDLEWARE}}/balances?token=mock&account={{trans.account_number}}&source=SMARTAPP",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "duedate = trans.balance[\"data\"].get(\"due_date\", \"\")[0:10]\r\ntrans.due_date = duedate.replace(\"-\", \"/\")",
                            "guard": "trans.balance.data.outstanding_balance",
                            "ref": "Mr1o1j50Q1OwK8rx-Hflag",
                            "route": "f/s/Mr1o1j50Q1OwK8rx-Hflag",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "hAcvMOL3R9mFYQdeiEnF2Q",
                            "route": "f/s/hAcvMOL3R9mFYQdeiEnF2Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "x6iPAU4mQ7i7nl1jTxB3dQ",
                    "name": "Check balance",
                    "type": "decision",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "id": "NmYZXrrfRBWHSiteVFrs0Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"balance\"",
                            "ref": "7esMNuGfTpSi_4XH1jwCxQ",
                            "route": "f/s/7esMNuGfTpSi_4XH1jwCxQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "_P18nXOoQlKF86Xkj4mSqw",
                            "route": "f/s/_P18nXOoQlKF86Xkj4mSqw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "cBNwsoFvT4eE0dAg-DkfQA",
                                            "style": "",
                                            "text": "\u2705 That\u2019s it",
                                            "transition": {
                                                "code": "trans.account_number = perm.customer.account",
                                                "ref": "darsfiv-TCaLUh38aREw8w",
                                                "route": "f/s/darsfiv-TCaLUh38aREw8w",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "KWHZJcQ3SMqH4h9aGZJkhA",
                                            "style": "",
                                            "text": "\ud83d\udd04 No, change it",
                                            "transition": {
                                                "code": "trans.utterance = \"sign_out\"",
                                                "ref": "_P18nXOoQlKF86Xkj4mSqw",
                                                "route": "f/s/_P18nXOoQlKF86Xkj4mSqw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I can get that for you.\r\n\r\nYour account number is {{perm.customer.account}}, right?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confirm account",
                    "relatives": [
                        {
                            "location": "/editor/states/rQ44dYS7R5mGodDoGoBJDQ/#state:RdZ1c0AMSoqoXF8JJAlkGg",
                            "name": "Account menu"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "id": "4kdVKX9sSCeUlUHJQsuUNg",
                    "input": {
                        "extractors": [],
                        "transition": {
                            "ref": "darsfiv-TCaLUh38aREw8w",
                            "route": "f/s/darsfiv-TCaLUh38aREw8w",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "hAcvMOL3R9mFYQdeiEnF2Q",
                            "route": "f/s/hAcvMOL3R9mFYQdeiEnF2Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please enter the correct account number."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter account",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "id": "dpifWJ1_TgSkqCI3T7WdEQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"re-try\"",
                            "ref": "7esMNuGfTpSi_4XH1jwCxQ",
                            "route": "f/s/7esMNuGfTpSi_4XH1jwCxQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "dpifWJ1_TgSkqCI3T7WdEQ",
                            "route": "f/s/dpifWJ1_TgSkqCI3T7WdEQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "emwMCA_wTq-0_wz4XmGEyw",
                                            "style": "",
                                            "text": "\ud83d\udd04 Re-enter",
                                            "transition": {
                                                "ref": "4kdVKX9sSCeUlUHJQsuUNg",
                                                "route": "f/s/4kdVKX9sSCeUlUHJQsuUNg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "PflPRHywTWSPZoybfn5l9A",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "_P18nXOoQlKF86Xkj4mSqw",
                                                "route": "f/s/_P18nXOoQlKF86Xkj4mSqw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I'm so sorry \u2013 I'm struggling to link your account at the moment.\r\n\r\nWould you like to *re-enter* your account details?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "id": "hAcvMOL3R9mFYQdeiEnF2Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"re-try\"",
                            "ref": "7esMNuGfTpSi_4XH1jwCxQ",
                            "route": "f/s/7esMNuGfTpSi_4XH1jwCxQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "hAcvMOL3R9mFYQdeiEnF2Q",
                            "route": "f/s/hAcvMOL3R9mFYQdeiEnF2Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "0VXbtjg7Tz2O_WRrLCab8A",
                                            "style": "",
                                            "text": "\ud83d\udd04 Re-enter",
                                            "transition": {
                                                "ref": "4kdVKX9sSCeUlUHJQsuUNg",
                                                "route": "f/s/4kdVKX9sSCeUlUHJQsuUNg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "cC_8gZnPQ0Gjyot5cnN8eA",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "_P18nXOoQlKF86Xkj4mSqw",
                                                "route": "f/s/_P18nXOoQlKF86Xkj4mSqw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m afraid I don\u2019t have that account on my system.\r\n\r\nYou can *re-enter* the number if you think you made a mistake."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "id": "Mr1o1j50Q1OwK8rx-Hflag",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"balances\"",
                            "ref": "7esMNuGfTpSi_4XH1jwCxQ",
                            "route": "f/s/7esMNuGfTpSi_4XH1jwCxQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Mr1o1j50Q1OwK8rx-Hflag",
                            "route": "f/s/Mr1o1j50Q1OwK8rx-Hflag",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "a7zCYy_oSDSLV1dIGIVSBg",
                                            "style": "",
                                            "text": "\ud83e\uddd0 View my bills",
                                            "transition": {
                                                "code": "del trans.balance\r\ndel trans.account_number\r\ndel trans.duedate",
                                                "label": "Accounts: Bills",
                                                "ref": "ZGZGOPpkSH6LbhlJyF42wQ",
                                                "route": "f/w/ZGZGOPpkSH6LbhlJyF42wQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "2h1iot5EQJ6bd0Zs1jBwHw",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "_P18nXOoQlKF86Xkj4mSqw",
                                                "route": "f/s/_P18nXOoQlKF86Xkj4mSqw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Your account currently has a balance of *R{{trans.balance.data.outstanding_balance}}*, which is due on *{{trans.due_date}}*.\r\n\r\nWould you like to *view your bill* or can I show you the *main menu* again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render balance",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"balance\"",
                            "ref": "NmYZXrrfRBWHSiteVFrs0Q",
                            "route": "f/s/NmYZXrrfRBWHSiteVFrs0Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"balances\"",
                            "ref": "Mr1o1j50Q1OwK8rx-Hflag",
                            "route": "f/s/Mr1o1j50Q1OwK8rx-Hflag",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"re-try\"",
                            "ref": "DkDZDcxxQKOIO3xtJRYBpQ",
                            "route": "f/s/DkDZDcxxQKOIO3xtJRYBpQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "_P18nXOoQlKF86Xkj4mSqw",
                            "route": "f/s/_P18nXOoQlKF86Xkj4mSqw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "FFC-TtlTQkOZouvDd50E6Q",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del perm.account_number\r\ndel trans.balance\r\ndel trans.utterance\r\ndel trans.due_date",
                            "guard": "trans.utterance == \"sign_out\"",
                            "label": "Users: Change Account",
                            "ref": "nXv5rj_BSlijKOCFyYjR2w",
                            "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                            "type": "workflow"
                        },
                        {
                            "code": "del perm.account_number\r\ndel trans.balance\r\ndel trans.utterance\r\ndel trans.due_date",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel perm.account_number\r\ndel trans.balance\r\ndel trans.utterance\r\ndel trans.due_date",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "_P18nXOoQlKF86Xkj4mSqw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "hAcvMOL3R9mFYQdeiEnF2Q",
                            "route": "f/s/hAcvMOL3R9mFYQdeiEnF2Q",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "dpifWJ1_TgSkqCI3T7WdEQ",
                            "route": "f/s/dpifWJ1_TgSkqCI3T7WdEQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "DkDZDcxxQKOIO3xtJRYBpQ",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "mjd3QiqzTbCvvtZ4lZw-xw",
                    "workflow_name": "Accounts: Balances"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "1BEcH279R_eGlfqqzkahqw",
            "id": "ZGZGOPpkSH6LbhlJyF42wQ",
            "name": "Accounts: Bills",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "WiWncJ0KS1Ocfg6tZ4uF4w",
                            "route": "f/s/WiWncJ0KS1Ocfg6tZ4uF4w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "scm9NoWGS4--oGIxzC9kdw",
                            "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "WiWncJ0KS1Ocfg6tZ4uF4w",
                            "route": "f/s/WiWncJ0KS1Ocfg6tZ4uF4w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "6qrDRfLUSaWmwUofoGXb_g",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "-S6YhEncRreK_rpM0_UIdA",
                    "method": "DELETE",
                    "name": "API: Delete rendered document",
                    "on_error": {
                        "transition": {
                            "ref": "VRqyWVEwSb-N9jHh97llcQ",
                            "route": "f/s/VRqyWVEwSb-N9jHh97llcQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "VRqyWVEwSb-N9jHh97llcQ",
                            "route": "f/s/VRqyWVEwSb-N9jHh97llcQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.deleted"
                    },
                    "resource": "{{const.MIDDLEWARE}}/balances/bills?token=mock&filename=/{{trans.file_name}}&bucket_name={{trans.bucket}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "gXruM2d_TwKN-i9ADN08tg",
                    "method": "GET",
                    "name": "API: Get billing",
                    "on_error": {
                        "transition": {
                            "ref": "D37qvZntTtm37iHBhGutoA",
                            "route": "f/s/D37qvZntTtm37iHBhGutoA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "Caamm0DvT8CeCCo_YcmGEQ",
                            "route": "f/s/Caamm0DvT8CeCCo_YcmGEQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.bill_history"
                    },
                    "resource": "{{const.MIDDLEWARE}}/balances/bill-history?token=mock&account={{trans.account_number}}&start_date={{trans.start_date}}&end_date={{trans.end_date}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.bucket = \"io-europe-west1-eskom-bot-qa-media\"\r\n# account = 5284737044\r\n# bill_id = 528254801022",
                    "format": null,
                    "id": "PKVwJmEASQaUhLpK1sDTxg",
                    "method": "GET",
                    "name": "API: Get pdf",
                    "on_error": {
                        "transition": {
                            "ref": "4kDdJsJaS5K-90I4aEOphQ",
                            "route": "f/s/4kDdJsJaS5K-90I4aEOphQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.url = trans.pdf[\"url\"]\r\ntrans.file_name = trans.url.split(\"//\")[-1]",
                            "ref": "RJjXaWQWTWWtBKVGyk53Hw",
                            "route": "f/s/RJjXaWQWTWWtBKVGyk53Hw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "var": "trans.pdf"
                    },
                    "resource": "{{const.MOCK_MIDDLEWARE}}/balances/bills?token=mock&account={{perm.customer.account}}&bill_id={{trans.bill_id}}&bucket_name={{trans.bucket}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "jiqUCs-6THyeVhXF8eFv7A",
                    "method": "GET",
                    "name": "API: Get range",
                    "on_error": {
                        "transition": {
                            "ref": "D37qvZntTtm37iHBhGutoA",
                            "route": "f/s/D37qvZntTtm37iHBhGutoA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.start_date = trans.dates[\"start_date\"]\r\ntrans.end_date = trans.dates[\"end_date\"]",
                            "ref": "gXruM2d_TwKN-i9ADN08tg",
                            "route": "f/s/gXruM2d_TwKN-i9ADN08tg",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "var": "trans.dates"
                    },
                    "resource": "{{const.MIDDLEWARE}}/balances/utils/range?token=mock&months={{trans.range}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "del trans.document\r\ndel trans.url\r\ndel trans.text\r\ndel trans.button_1\r\ndel trans.button_2",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "ref": "-S6YhEncRreK_rpM0_UIdA",
                            "route": "f/s/-S6YhEncRreK_rpM0_UIdA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "RJjXaWQWTWWtBKVGyk53Hw",
                    "name": "Call document",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.document = trans.url\r\ntrans.text = \"Here you go! \\n\\nWould you like to view any other bills?\"\r\ntrans.button_1 = \"\ud83d\udd35 No, I\u2019m good\"\r\ntrans.button_2 = \"\ud83d\udd35 Yes, please\"",
                        "label": "Render: Document",
                        "ref": "BQRw87-bSm2bhp6fdStDVA",
                        "route": "f/w/BQRw87-bSm2bhp6fdStDVA",
                        "type": "workflow"
                    },
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "del trans.validation_counter\r\ndel trans.identifier",
                    "decisions": [
                        {
                            "code": "del trans.validated",
                            "guard": "trans.validated",
                            "ref": "EKah1hzuTYOjNdNAd2Swjw",
                            "route": "f/s/EKah1hzuTYOjNdNAd2Swjw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.validated",
                            "ref": "ruFJnB3mSWeiZ5FFXjdtJw",
                            "route": "f/s/ruFJnB3mSWeiZ5FFXjdtJw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "wDmFGwT-ToiUB60VQFNCww",
                    "name": "Call validate",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.validation_counter = 0",
                        "label": "Reusable: Validate User",
                        "ref": "h2dw_kvtR3eJU6PFUvTbGg",
                        "route": "f/w/h2dw_kvtR3eJU6PFUvTbGg",
                        "type": "workflow"
                    },
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "scm9NoWGS4--oGIxzC9kdw",
                            "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4kDdJsJaS5K-90I4aEOphQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I could not downbload the bill at this moment. Please try again later."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Can't download the bill",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.bills = trans.bill_history.bills\r\nfor bill in trans.bills:\r\n    bill[\"billing_dates\"] = bill[\"billing_dates\"].replace(\"-\", \"/\")",
                            "guard": "trans.bill_history.bills",
                            "ref": "BrA3RTy3S5KSknYzmDpKtA",
                            "route": "f/s/BrA3RTy3S5KSknYzmDpKtA",
                            "statetype": "wflow_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "-1ndLme5T1iXasvZVxDsqA",
                            "route": "f/s/-1ndLme5T1iXasvZVxDsqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Caamm0DvT8CeCCo_YcmGEQ",
                    "name": "Check bill",
                    "type": "decision",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.button_one",
                            "guard": "trans.button_one",
                            "ref": "X7ySdPQfQAGQ_-FExtcf-w",
                            "route": "f/s/X7ySdPQfQAGQ_-FExtcf-w",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.button_two",
                            "guard": "trans.button_two",
                            "ref": "EKah1hzuTYOjNdNAd2Swjw",
                            "route": "f/s/EKah1hzuTYOjNdNAd2Swjw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "scm9NoWGS4--oGIxzC9kdw",
                            "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "VRqyWVEwSb-N9jHh97llcQ",
                    "name": "Check route",
                    "type": "decision",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "id": "EKah1hzuTYOjNdNAd2Swjw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"months\"",
                            "ref": "6qrDRfLUSaWmwUofoGXb_g",
                            "route": "f/s/6qrDRfLUSaWmwUofoGXb_g",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "EKah1hzuTYOjNdNAd2Swjw",
                            "route": "f/s/EKah1hzuTYOjNdNAd2Swjw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Mv9Sc9oSQLCSyh1rZ04mGg",
                                            "style": "",
                                            "text": "\ud83d\udd35 Last month",
                                            "transition": {
                                                "code": "trans.range = 1",
                                                "ref": "jiqUCs-6THyeVhXF8eFv7A",
                                                "route": "f/s/jiqUCs-6THyeVhXF8eFv7A",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "HhyFfPJLQLabWDSmjjo55w",
                                            "style": "",
                                            "text": "\ud83d\udd35 Last 3 months",
                                            "transition": {
                                                "code": "trans.range = 3",
                                                "ref": "jiqUCs-6THyeVhXF8eFv7A",
                                                "route": "f/s/jiqUCs-6THyeVhXF8eFv7A",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "DdR7cC93ScWx2ja8OzaZUA",
                                            "style": "",
                                            "text": "\ud83d\udd35 Last 6 months",
                                            "transition": {
                                                "code": "trans.range = 6",
                                                "ref": "jiqUCs-6THyeVhXF8eFv7A",
                                                "route": "f/s/jiqUCs-6THyeVhXF8eFv7A",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "4PEDpbo7SGadqeuu_dhvVg",
                                            "style": "",
                                            "text": "\ud83d\udd35 Last 12 months",
                                            "transition": {
                                                "code": "trans.range = 12",
                                                "ref": "jiqUCs-6THyeVhXF8eFv7A",
                                                "route": "f/s/jiqUCs-6THyeVhXF8eFv7A",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thank you, {{user.username}}!\r\n\r\nYou\u2019ve been successfully verified. \ud83d\ude0a\r\n\r\nWhich bill would you like to see?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Choose month",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "id": "1BEcH279R_eGlfqqzkahqw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"account\"",
                            "ref": "6qrDRfLUSaWmwUofoGXb_g",
                            "route": "f/s/6qrDRfLUSaWmwUofoGXb_g",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "1BEcH279R_eGlfqqzkahqw",
                            "route": "f/s/1BEcH279R_eGlfqqzkahqw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "e9N7hsneSPyEXblij0Uzsw",
                                            "style": "",
                                            "text": "\u2705 That\u2019s it",
                                            "transition": {
                                                "code": "trans.account_number = perm.customer.account",
                                                "ref": "wDmFGwT-ToiUB60VQFNCww",
                                                "route": "f/s/wDmFGwT-ToiUB60VQFNCww",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "MwLERcEMSZKrMohP6QpGKw",
                                            "style": "",
                                            "text": "\ud83d\udd04 No, change it",
                                            "transition": {
                                                "code": "trans.utterance = \"sign_out\"",
                                                "ref": "scm9NoWGS4--oGIxzC9kdw",
                                                "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "caXLou1FQqO1YXbHh9HySQ",
                                            "style": "",
                                            "text": "\u2705 Mock success",
                                            "transition": {
                                                "ref": "EKah1hzuTYOjNdNAd2Swjw",
                                                "route": "f/s/EKah1hzuTYOjNdNAd2Swjw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I can get that for you.\r\n\r\nYour account number is {{perm.customer.account}}, right?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confirm account",
                    "relatives": [
                        {
                            "location": "/editor/states/mjd3QiqzTbCvvtZ4lZw-xw/#state:Mr1o1j50Q1OwK8rx-Hflag",
                            "name": "Render balance"
                        },
                        {
                            "location": "/editor/states/rQ44dYS7R5mGodDoGoBJDQ/#state:RdZ1c0AMSoqoXF8JJAlkGg",
                            "name": "Account menu"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "id": "v4BjzTFgRXCKjpYlEHHFaA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.account_number"
                            }
                        ],
                        "transition": {
                            "ref": "gXruM2d_TwKN-i9ADN08tg",
                            "route": "f/s/gXruM2d_TwKN-i9ADN08tg",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "v4BjzTFgRXCKjpYlEHHFaA",
                            "route": "f/s/v4BjzTFgRXCKjpYlEHHFaA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please enter the correct account number."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter account",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "id": "-1ndLme5T1iXasvZVxDsqA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "scm9NoWGS4--oGIxzC9kdw",
                            "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "-1ndLme5T1iXasvZVxDsqA",
                            "route": "f/s/-1ndLme5T1iXasvZVxDsqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ecC3uJjMSnGZWrtxQR2NEA",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "v4BjzTFgRXCKjpYlEHHFaA",
                                                "route": "f/s/v4BjzTFgRXCKjpYlEHHFaA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "KvZQJJrkT6Gb7Fkkny8LFA",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "scm9NoWGS4--oGIxzC9kdw",
                                                "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I'm sorry, {{user.username}}. I'm having some trouble getting your bill for you.\r\n\r\nWould you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "id": "GT5v7CDQSeyKzROcynfw8Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"re-try\"",
                            "ref": "6qrDRfLUSaWmwUofoGXb_g",
                            "route": "f/s/6qrDRfLUSaWmwUofoGXb_g",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "GT5v7CDQSeyKzROcynfw8Q",
                            "route": "f/s/GT5v7CDQSeyKzROcynfw8Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Kyr1SZdWRGO1y-GMGI089g",
                                            "style": "",
                                            "text": "\ud83d\udd04 Re-enter",
                                            "transition": {
                                                "ref": "v4BjzTFgRXCKjpYlEHHFaA",
                                                "route": "f/s/v4BjzTFgRXCKjpYlEHHFaA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Xju4XHVcReSISe58gIq_uQ",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "scm9NoWGS4--oGIxzC9kdw",
                                                "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m afraid I don\u2019t have that account on my system.\r\n\r\nYou can *re-enter* the number if you think you made a mistake."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "id": "ruFJnB3mSWeiZ5FFXjdtJw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"verify\"",
                            "ref": "6qrDRfLUSaWmwUofoGXb_g",
                            "route": "f/s/6qrDRfLUSaWmwUofoGXb_g",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ruFJnB3mSWeiZ5FFXjdtJw",
                            "route": "f/s/ruFJnB3mSWeiZ5FFXjdtJw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "FJmLbM7-TvKUxpioiC7_Aw",
                                            "style": "",
                                            "text": "\ud83d\udd04 Re-enter",
                                            "transition": {
                                                "ref": "wDmFGwT-ToiUB60VQFNCww",
                                                "route": "f/s/wDmFGwT-ToiUB60VQFNCww",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "SRxr7Kh5Rh27xuoSR3RVbQ",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "scm9NoWGS4--oGIxzC9kdw",
                                                "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thank you, {{user.username}}.\r\n\r\nUnfortunately that {% if perm.customer.citizen %}ID{% else %}registration{% endif %} number isn\u2019t linked to your account, so I can\u2019t show you your bills.\r\n\r\nYou can *re-enter* the number if you think you made a mistake."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not verified",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"months\"",
                            "ref": "EKah1hzuTYOjNdNAd2Swjw",
                            "route": "f/s/EKah1hzuTYOjNdNAd2Swjw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"account\"",
                            "ref": "1BEcH279R_eGlfqqzkahqw",
                            "route": "f/s/1BEcH279R_eGlfqqzkahqw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"verify\"",
                            "ref": "ruFJnB3mSWeiZ5FFXjdtJw",
                            "route": "f/s/ruFJnB3mSWeiZ5FFXjdtJw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"re-try\"",
                            "ref": "D37qvZntTtm37iHBhGutoA",
                            "route": "f/s/D37qvZntTtm37iHBhGutoA",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "scm9NoWGS4--oGIxzC9kdw",
                            "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "WiWncJ0KS1Ocfg6tZ4uF4w",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.bill\r\ndel trans.account_number\r\ndel trans.utterance\r\ndel trans.range\r\ndel trans.identifier\r\ndel trans.document\r\ndel trans.text\r\ndel trans.menu\r\ndel trans.back\r\ndel trans.bucket\r\ndel trans.file_name\r\ndel trans.deleted\r\ndel trans.bill_history\r\ndel trans.url\r\ndel trans.pdf\r\ndel trans.bills\r\ndel trans.bill_id\r\ndel trans.dates\r\ndel trans.start_date\r\ndel trans.end_date",
                            "guard": "trans.utterance == \"sign_out\"",
                            "label": "Users: Change Account",
                            "ref": "nXv5rj_BSlijKOCFyYjR2w",
                            "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.bill\r\ndel trans.account_number\r\ndel trans.utterance\r\ndel trans.range\r\ndel trans.identifier\r\ndel trans.document\r\ndel trans.text\r\ndel trans.menu\r\ndel trans.back\r\ndel trans.bucket\r\ndel trans.file_name\r\ndel trans.deleted\r\ndel trans.bill_history\r\ndel trans.url\r\ndel trans.pdf\r\ndel trans.bills\r\ndel trans.bill_id\r\ndel trans.dates\r\ndel trans.start_date\r\ndel trans.end_date",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.bill\r\ndel trans.account_number\r\ndel trans.utterance\r\ndel trans.range\r\ndel trans.identifier\r\ndel trans.document\r\ndel trans.text\r\ndel trans.menu\r\ndel trans.back\r\ndel trans.bucket\r\ndel trans.file_name\r\ndel trans.deleted\r\ndel trans.bill_history\r\ndel trans.url\r\ndel trans.pdf\r\ndel trans.bills\r\ndel trans.bill_id\r\ndel trans.dates\r\ndel trans.start_date\r\ndel trans.end_date",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "scm9NoWGS4--oGIxzC9kdw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "del trans.entities\r\ndel trans.entity_name\r\ndel trans.key\r\ndel trans.faults\r\ndel trans.list_description\r\ndel trans.singular",
                    "decisions": [
                        {
                            "code": "trans.bill_id = trans.content[\"bill_id\"]\r\ndel trans.content",
                            "guard": "trans.content",
                            "ref": "PKVwJmEASQaUhLpK1sDTxg",
                            "route": "f/s/PKVwJmEASQaUhLpK1sDTxg",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "scm9NoWGS4--oGIxzC9kdw",
                            "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "BrA3RTy3S5KSknYzmDpKtA",
                    "name": "Select bill",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.entities = trans.bills\r\ntrans.entity_name = \"monthly bills\"\r\ntrans.key = \"billing_dates\"\r\ntrans.list_description = \"Which billing month would you like to download?\\n\\n\"\r\ntrans.singular = \"bill\"",
                        "label": "Reusable: Paginator",
                        "ref": "k74yrz38QqSM0fOBm_3N1g",
                        "route": "f/w/k74yrz38QqSM0fOBm_3N1g",
                        "type": "workflow"
                    },
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "scm9NoWGS4--oGIxzC9kdw",
                            "route": "f/s/scm9NoWGS4--oGIxzC9kdw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "X7ySdPQfQAGQ_-FExtcf-w",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "GT5v7CDQSeyKzROcynfw8Q",
                            "route": "f/s/GT5v7CDQSeyKzROcynfw8Q",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "-1ndLme5T1iXasvZVxDsqA",
                            "route": "f/s/-1ndLme5T1iXasvZVxDsqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "D37qvZntTtm37iHBhGutoA",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "ZGZGOPpkSH6LbhlJyF42wQ",
                    "workflow_name": "Accounts: Bills"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "RdZ1c0AMSoqoXF8JJAlkGg",
            "id": "rQ44dYS7R5mGodDoGoBJDQ",
            "name": "Accounts: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "RdZ1c0AMSoqoXF8JJAlkGg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "Ud0xXTvKSNqzAIwXCI_MNQ",
                            "route": "f/s/Ud0xXTvKSNqzAIwXCI_MNQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "RdZ1c0AMSoqoXF8JJAlkGg",
                            "route": "f/s/RdZ1c0AMSoqoXF8JJAlkGg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "J96MqjiMTnS_b0duHds8uQ",
                                            "style": "",
                                            "text": "\ud83d\udcc4 My account balance",
                                            "transition": {
                                                "label": "Accounts: Balances",
                                                "ref": "mjd3QiqzTbCvvtZ4lZw-xw",
                                                "route": "f/w/mjd3QiqzTbCvvtZ4lZw-xw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "iJ1cTskdQL-l06vgJwg4RQ",
                                            "style": "",
                                            "text": "\ud83d\udcc4 My bills",
                                            "transition": {
                                                "label": "Accounts: Bills",
                                                "ref": "ZGZGOPpkSH6LbhlJyF42wQ",
                                                "route": "f/w/ZGZGOPpkSH6LbhlJyF42wQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "c8Pf9D_DRam-TnVpPLW3kg",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "label": "Menu: Logged In",
                                                "ref": "tKvsMyspQ2y0UBJH3bSN-w",
                                                "route": "f/w/tKvsMyspQ2y0UBJH3bSN-w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Happy to help, {{user.username}}!\r\n\r\nWhat would you like to see?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Account menu",
                    "relatives": [
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "rQ44dYS7R5mGodDoGoBJDQ",
                    "workflow_name": "Accounts: Entrypoint"
                },
                {
                    "code": "del trans.caller\r\ndel trans.route",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "RdZ1c0AMSoqoXF8JJAlkGg",
                            "route": "f/s/RdZ1c0AMSoqoXF8JJAlkGg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "gc4_1y5PROyblFzhuzEynQ",
                            "route": "f/s/gc4_1y5PROyblFzhuzEynQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "RdZ1c0AMSoqoXF8JJAlkGg",
                            "route": "f/s/RdZ1c0AMSoqoXF8JJAlkGg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Ud0xXTvKSNqzAIwXCI_MNQ",
                    "name": "Account menu route",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ntrans.caller = \"accounts\"\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "rQ44dYS7R5mGodDoGoBJDQ",
                    "workflow_name": "Accounts: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.nlu_result",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "gc4_1y5PROyblFzhuzEynQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "rQ44dYS7R5mGodDoGoBJDQ",
                    "workflow_name": "Accounts: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "ZjzXk_1QTb6jtasIziiNNg",
            "id": "NRi28eP2QoaHkfZLl_1zug",
            "name": "Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.utterance and trans.utterance.lower() not in [\"!reset\", \"!resethard\"]",
                            "ref": "1_hMMqZfRGiTz86K1OzzUw",
                            "route": "f/s/1_hMMqZfRGiTz86K1OzzUw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "guard": "trans.context.logged_in",
                            "label": "Menu: Logged In",
                            "ref": "tKvsMyspQ2y0UBJH3bSN-w",
                            "route": "f/w/tKvsMyspQ2y0UBJH3bSN-w",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "label": "Menu: Logged Out",
                            "ref": "PuI-bXqSTEGJjio6ySMdSA",
                            "route": "f/w/PuI-bXqSTEGJjio6ySMdSA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "rugjTllCTgOYyX1s40M7WA",
                    "name": "Call context check",
                    "type": "wflow_call",
                    "wflow": {
                        "label": "Reusable: Check State",
                        "ref": "Jv8P9kp7T6e-cx14GU0_uw",
                        "route": "f/w/Jv8P9kp7T6e-cx14GU0_uw",
                        "type": "workflow"
                    },
                    "workflow_id": "NRi28eP2QoaHkfZLl_1zug",
                    "workflow_name": "Entrypoint"
                },
                {
                    "code": "perm.msisdn_on_bot = __message__.context.dialogue.address",
                    "decisions": [
                        {
                            "guard": "len(perm.msisdn_on_bot) > 13",
                            "ref": "ZjzXk_1QTb6jtasIziiNNg",
                            "route": "f/s/ZjzXk_1QTb6jtasIziiNNg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "guard": "perm.msisdn_on_bot in [\"27724990102\", \"27672100189\"]",
                            "ref": "ZjzXk_1QTb6jtasIziiNNg",
                            "route": "f/s/ZjzXk_1QTb6jtasIziiNNg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "a24yEugqTzKThdljRjuPoQ",
                            "route": "f/s/a24yEugqTzKThdljRjuPoQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "pFDiDXSNQrSUWDkXVHh49w",
                    "name": "Do not expose this app",
                    "type": "decision",
                    "workflow_id": "NRi28eP2QoaHkfZLl_1zug",
                    "workflow_name": "Entrypoint"
                },
                {
                    "code": "perm.msisdn_on_bot = __message__.context.dialogue.address",
                    "decisions": [
                        {
                            "guard": "perm.customer and trans.context",
                            "ref": "rugjTllCTgOYyX1s40M7WA",
                            "route": "f/s/rugjTllCTgOYyX1s40M7WA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        {
                            "code": "trans.context = {\r\n    \"logged_in\": False,\r\n    \"logged_out\": True,\r\n    \"metre\": {},\r\n    \"premise\": {},\r\n    \"faults\": {}\r\n}\r\ntrans.navigation = {}",
                            "guard": "perm.customer",
                            "ref": "rugjTllCTgOYyX1s40M7WA",
                            "route": "f/s/rugjTllCTgOYyX1s40M7WA",
                            "statetype": "wflow_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.next_workflow = trans.__initial_message__ if trans.__initial_message__ else trans.__previous_message__\r\nif trans.next_workflow in [\"!reset\", \"!resethard\"]:\r\n    del trans.next_workflow\r\ntrans.context = {\r\n    \"logged_in\": False,\r\n    \"logged_out\": True,\r\n    \"metre\": {},\r\n    \"premise\": {},\r\n    \"faults\": {}\r\n}\r\ntrans.navigation = {}\r\nperm.customer = {\r\n    \"low_buyer\": None,\r\n    \"zero_buyer\": None,\r\n    \"prepaid\": None,\r\n    \"postpaid\": None,\r\n    \"metres\": [],\r\n    \"premises\": [],\r\n    \"preferred\": None\r\n}\r\nperm.history = []\r\nperm.faults = {}",
                            "label": "Introduction",
                            "ref": "oX_hGX2WSpyUQnj-NPOhQg",
                            "route": "f/w/oX_hGX2WSpyUQnj-NPOhQg",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "ZjzXk_1QTb6jtasIziiNNg",
                    "name": "Establish context",
                    "type": "decision",
                    "workflow_id": "NRi28eP2QoaHkfZLl_1zug",
                    "workflow_name": "Entrypoint"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "1_hMMqZfRGiTz86K1OzzUw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "NRi28eP2QoaHkfZLl_1zug",
                    "workflow_name": "Entrypoint"
                },
                {
                    "id": "a24yEugqTzKThdljRjuPoQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.helm"
                            }
                        ],
                        "transition": {
                            "ref": "a24yEugqTzKThdljRjuPoQ",
                            "route": "f/s/a24yEugqTzKThdljRjuPoQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "a24yEugqTzKThdljRjuPoQ",
                            "route": "f/s/a24yEugqTzKThdljRjuPoQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Welcome to HELM!"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Welcome to HELM",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "NRi28eP2QoaHkfZLl_1zug",
                    "workflow_name": "Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "FTNuvHGfR1m7Hp7KG-viGg",
            "id": "ehWkPYp5TOyOk2BVu3MpTg",
            "name": "FAQS: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "trans.faq = trans.faq_button_list[trans.faq_index]\r\n\r\n# Change the format of the faq to be more presentable fot the user\r\n# trans.displayed_faq = trans.faq.replace(\"_\", \" \").capitalize()\r\ntrans.displayed_faq = trans.faq_button_summary_questions.get(trans.faq)\r\n\r\ntrans.faq_response = trans.faq_responses_dict.get(trans.faq)",
                            "ref": "scJ-YfQpTA-V3O4BBi1eAA",
                            "route": "f/s/scJ-YfQpTA-V3O4BBi1eAA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Hto3yNV1QI-L5JRYnMQdZg",
                    "name": "Assign FAQ button",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.faq==\"where_is_my_number_input\"",
                            "ref": "Q0dNVqVQTnOdOtJ0NUIuyQ",
                            "route": "f/s/Q0dNVqVQTnOdOtJ0NUIuyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.faq==\"explain_my_bill\"",
                            "ref": "P7zHd6KfQlGaRy9DPplZAA",
                            "route": "f/s/P7zHd6KfQlGaRy9DPplZAA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.faq_button_list = ['krn_happen_if_meter_not_recoded',\r\n'krn_how_will_meter_be_recoded',\r\n'krn_educating_prepaid_vendors',\r\n'krn_will_i_need_to_pay',\r\n'krn_will_eskom_need_home_access',\r\n'krn_elec_units_left_before_recoding',\r\n'krn_when_will_project_start',\r\n'krn_how_will_project_be_rolled_out',\r\n'krn_what_if_i_buy_units_online',\r\n'krn_lost_recode_token']",
                            "guard": "trans.faq==\"krn_faqs\"",
                            "ref": "_ej_5CLHSbqZG_YftShXeA",
                            "route": "f/s/_ej_5CLHSbqZG_YftShXeA",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "8pSZitNITSaN0GOAGEymRw",
                            "route": "f/s/8pSZitNITSaN0GOAGEymRw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "scJ-YfQpTA-V3O4BBi1eAA",
                    "name": "Check response (must have image or not)",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.faq==\"about_krn\"",
                            "ref": "vu7eKkRGQj-W2LVmNX-qUA",
                            "route": "f/s/vu7eKkRGQj-W2LVmNX-qUA",
                            "statetype": "nlu_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "_ej_5CLHSbqZG_YftShXeA",
                            "route": "f/s/_ej_5CLHSbqZG_YftShXeA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ucbijAvzT4aCduBiJcmqiQ",
                    "name": "Decide FAQ placement",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "Q0dNVqVQTnOdOtJ0NUIuyQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hsyAkiBwS6quOdgxw6xziQ",
                            "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Q0dNVqVQTnOdOtJ0NUIuyQ",
                            "route": "f/s/Q0dNVqVQTnOdOtJ0NUIuyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "sQwaIas3SkOGQxuPFnoBPA",
                                            "style": "",
                                            "text": "\ud83d\udc4d I\u2019ve got it",
                                            "transition": {
                                                "ref": "awPgA9P2RsGI-VU__U_kVg",
                                                "route": "f/s/awPgA9P2RsGI-VU__U_kVg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "nWepjboVTxenqemdZtjfBA",
                                            "style": "",
                                            "text": "\u270b More options",
                                            "transition": {
                                                "ref": "l6lf1tK7Qamm5HtWxcD86g",
                                                "route": "f/s/l6lf1tK7Qamm5HtWxcD86g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "vTTHWA9ASvWx4-53CP_OoA",
                                            "style": "",
                                            "text": "\u2753 Let me ask again",
                                            "transition": {
                                                "ref": "VpzPv3sZRVKJh4An32KOuw",
                                                "route": "f/s/VpzPv3sZRVKJh4An32KOuw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "image": {
                                        "file": "image/Where_is_my_account_number.png",
                                        "ref": "61",
                                        "thumbnail": "https://storage.googleapis.com/io-europe-west1-eskom-engine-qa-media/media/photologue/photos/cache/Where_is_my_account_number_chat_19.png",
                                        "title": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgwhere_is_my_account_number",
                                        "type": "photologue",
                                        "uid": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgwhere_is_my_account_number_61"
                                    },
                                    "image_aspect_ratio": "1.91",
                                    "style": "",
                                    "text": "{{trans.displayed_faq}}\r\n{% for response in trans.faq_response %}\r\n{{response}}\r\n{% endfor %}\r\nDoes that answer your question or would you like to see more options?\r\n\r\nIf you have a different question, you can also ask me again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Explain account number response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "P7zHd6KfQlGaRy9DPplZAA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hsyAkiBwS6quOdgxw6xziQ",
                            "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "P7zHd6KfQlGaRy9DPplZAA",
                            "route": "f/s/P7zHd6KfQlGaRy9DPplZAA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "7f0QHTSNRKizFRLnD9XIEg",
                                            "style": "",
                                            "text": "\ud83d\udc4d I\u2019ve got it",
                                            "transition": {
                                                "ref": "awPgA9P2RsGI-VU__U_kVg",
                                                "route": "f/s/awPgA9P2RsGI-VU__U_kVg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mBiC4N-SRj2vHXJGjSTFGg",
                                            "style": "",
                                            "text": "\u270b More options",
                                            "transition": {
                                                "ref": "l6lf1tK7Qamm5HtWxcD86g",
                                                "route": "f/s/l6lf1tK7Qamm5HtWxcD86g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "whGPKeKJR7uY04wWZLbq4g",
                                            "style": "",
                                            "text": "\u2753 Let me ask again",
                                            "transition": {
                                                "ref": "VpzPv3sZRVKJh4An32KOuw",
                                                "route": "f/s/VpzPv3sZRVKJh4An32KOuw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "image": {
                                        "file": "image/Bill_explain.png",
                                        "ref": "62",
                                        "thumbnail": "https://storage.googleapis.com/io-europe-west1-eskom-engine-qa-media/media/photologue/photos/cache/Bill_explain_chat_19.png",
                                        "title": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgbill_explain",
                                        "type": "photologue",
                                        "uid": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgbill_explain_62"
                                    },
                                    "image_aspect_ratio": "1.91",
                                    "style": "",
                                    "text": "{{trans.displayed_faq}}\r\n{% for response in trans.faq_response %}\r\n{{response}}\r\n{% endfor %}\r\nDoes that answer your question or would you like to see more options?\r\n\r\nIf you have a different question, you can also ask me again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Explain bill response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "VpzPv3sZRVKJh4An32KOuw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.faq_input"
                            }
                        ],
                        "transition": {
                            "ref": "l-3p7pU0S_qGA-m_Ohcw4w",
                            "route": "f/s/l-3p7pU0S_qGA-m_Ohcw4w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "l-3p7pU0S_qGA-m_Ohcw4w",
                            "route": "f/s/l-3p7pU0S_qGA-m_Ohcw4w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I\u2019d love to tell you everything you\u2019d like to know!\r\n\r\nPlease send me your question and I\u2019ll do my best to answer it. \ud83d\ude0a"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "FAQ entry",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "8pSZitNITSaN0GOAGEymRw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hsyAkiBwS6quOdgxw6xziQ",
                            "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "8pSZitNITSaN0GOAGEymRw",
                            "route": "f/s/8pSZitNITSaN0GOAGEymRw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "LraaUw4OTUWM-ghQttVRzg",
                                            "style": "",
                                            "text": "\u270b More options",
                                            "transition": {
                                                "ref": "l6lf1tK7Qamm5HtWxcD86g",
                                                "route": "f/s/l6lf1tK7Qamm5HtWxcD86g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "BNPVLdUORTe-pII2ufnmmg",
                                            "style": "",
                                            "text": "\u2753 Let me ask again",
                                            "transition": {
                                                "ref": "VpzPv3sZRVKJh4An32KOuw",
                                                "route": "f/s/VpzPv3sZRVKJh4An32KOuw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "UujvbeC6SkqVf6IubLsjxg",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "label": "Menu: Main",
                                                "ref": "JfhDWc6UTFaa-pwepw3hrA",
                                                "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "trans.faq==\"meter_faulty_i_want_it_checked\" or trans.faq==\"faulty_meter\" or trans.faq==\"emergency\"",
                                            "id": "sZaBWgVDRb2qbwxyV7xxXg",
                                            "style": "",
                                            "text": "\u26a1\ufe0f Outages",
                                            "transition": {
                                                "code": "trans.faults = True",
                                                "ref": "hsyAkiBwS6quOdgxw6xziQ",
                                                "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "trans.faq==\"krn_when_did_project_start\"",
                                            "id": "JswLnV6pSYamJTURXJTbNw",
                                            "style": "",
                                            "text": "\ud83d\udd22 Recode my meter",
                                            "transition": {
                                                "code": "trans.tokens = True",
                                                "ref": "hsyAkiBwS6quOdgxw6xziQ",
                                                "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "trans.faq==\"meter_reading\"",
                                            "id": "RiKECGCPSFy45ei1bzzqzQ",
                                            "style": "",
                                            "text": "\ud83d\udd22 Meter readings",
                                            "transition": {
                                                "code": "trans.meters = True",
                                                "label": "Meters: Entrypoint",
                                                "ref": "JkmlFYZERWmRYegDFq0ZgA",
                                                "route": "f/w/JkmlFYZERWmRYegDFq0ZgA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{{trans.displayed_faq}}\r\n{% for response in trans.faq_response %}\r\n{{response}}\r\n{% endfor %}\r\n\r\nDoes that answer your question or would you like to see *more options*?\r\n\r\nIf you have a different question, you can also *ask me again*. "
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "FAQ response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "l6lf1tK7Qamm5HtWxcD86g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hsyAkiBwS6quOdgxw6xziQ",
                            "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "l6lf1tK7Qamm5HtWxcD86g",
                            "route": "f/s/l6lf1tK7Qamm5HtWxcD86g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n   'type': 'plain',  # plain, carousel, list\r\n   'pages': [\r\n       {\r\n           'text': f''' {trans.display_faq_str } ''',\r\n           'buttons': [\r\n               transition('ID_FAQs', '%s' % (faq), code='trans.faq_index=%d' % (index))\r\n               for index, faq in enumerate(trans.faq_button_summary_list)\r\n           ]\r\n       }\r\n   ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_FAQs",
                                        "transition": {
                                            "ref": "Hto3yNV1QI-L5JRYnMQdZg",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "FAQ response options",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "hsyAkiBwS6quOdgxw6xziQ",
                            "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "awPgA9P2RsGI-VU__U_kVg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "FAQs: Close",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.faq_button_list==[]",
                            "ref": "B7ovPV6mSNWPiyES2jHyIQ",
                            "route": "f/s/B7ovPV6mSNWPiyES2jHyIQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.number_faqs_found = len(trans.faq_button_list)\r\n\r\n# Clean the buttons and data displayed to the user\r\ntrans.clean_faq_button_list = [faq.replace(\"_\", \" \").capitalize() for faq in trans.faq_button_list]\r\n\r\n\r\ntrans.faq_button_summary_list = []\r\nfor faq in trans.faq_button_list:\r\n    trans.faq_button_summary_list.append(trans.faq_button_summary.get(faq))\r\n\r\n\r\n# create a list of faqs to display to the user\r\ntrans.displayed_faq_str =\"\"\r\ndescriptions = []\r\nfor i, faq in enumerate(trans.faq_button_list):\r\n\ttrans.displayed_faq_str+=f\"{i+1}. {trans.faq_button_summary_questions.get(faq)}\\n\"\r\n\t#descriptions.append(trans.faq_button_summary_questions.get(faq))\r\n\r\ntrans.display_faq_str = f\"\"\"I\u2019ve found *{trans.number_faqs_found}* questions that match what you are looking for.\r\n\r\n{trans.displayed_faq_str}\r\nWhich of these would you like to see the answer to?\"\"\"\r\n#trans.faq_button_3=trans.faq_button_summary_list[2]\r\n#trans.faq_button_1=trans.faq_button_summary_list[0]\r\n#trans.faq_button_2=trans.faq_button_summary_list[1]\r\n#trans.description_1=descriptions[0]\r\n#trans.description_2=descriptions[1]\r\n#trans.description_3=descriptions[2]\r\n",
                            "ref": "l6lf1tK7Qamm5HtWxcD86g",
                            "route": "f/s/l6lf1tK7Qamm5HtWxcD86g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "_ej_5CLHSbqZG_YftShXeA",
                    "name": "Generate button list",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "faq_list = list(trans.faq_button_summary.keys())\r\n\r\ntrans.faq_button_list=random.sample(faq_list, 3)",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "# Clean the buttons and data displayed to the user\r\ntrans.clean_faq_button_list = [faq.replace(\"_\", \" \").capitalize() for faq in trans.faq_button_list]\r\n\r\n\r\ntrans.faq_button_summary_list = []\r\nfor faq in trans.faq_button_list:\r\n    trans.faq_button_summary_list.append(trans.faq_button_summary.get(faq))\r\n",
                            "ref": "_8drlhOcTVaf5lCRfMZnsQ",
                            "route": "f/s/_8drlhOcTVaf5lCRfMZnsQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "WjpmYeXFSsK6_d9fapf0Mw",
                    "name": "generate random faq list",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.faq_input\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "3c17440f-6ade-46d3-816b-fff5bde117cb"
                        }
                    ],
                    "id": "vu7eKkRGQj-W2LVmNX-qUA",
                    "input_variable": "trans.faq_input",
                    "method": "POST",
                    "name": "KRN FAQ model",
                    "on_error": {
                        "transition": {
                            "code": "trans.response_count+=1",
                            "ref": "B7ovPV6mSNWPiyES2jHyIQ",
                            "route": "f/s/B7ovPV6mSNWPiyES2jHyIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "if trans.faq_success!=[]:\r\n    trans.faq = trans.faq_success[0].get('label')\r\n    trans.faq_button_list=[faq.get('label') for faq in trans.faq_success]\r\nelse:\r\n    trans.faq = None\r\n    trans.faq_button_list=[]\r\n\r\ntrans.response_count+=1",
                            "ref": "_ej_5CLHSbqZG_YftShXeA",
                            "route": "f/s/_ej_5CLHSbqZG_YftShXeA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_success"
                    },
                    "resource": "https://nlu.feersum.io/nlu/v2/faq_matchers/eskom-krn-faq-v-04/retrieve",
                    "retries": 2,
                    "retry": true,
                    "selected_nlu_model": "faq_matcher/eskom-krn-faq-v-04",
                    "simplify_result": false,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.faq_input\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "3c17440f-6ade-46d3-816b-fff5bde117cb"
                        }
                    ],
                    "id": "D8BnZ-E0Q4Km4veZq1BsSA",
                    "input_variable": "trans.faq_input",
                    "method": "POST",
                    "name": "Main FAQs model",
                    "on_error": {
                        "transition": {
                            "code": "trans.response_count+=1",
                            "ref": "B7ovPV6mSNWPiyES2jHyIQ",
                            "route": "f/s/B7ovPV6mSNWPiyES2jHyIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "if trans.faq_success!=[]:\r\n    trans.faq = trans.faq_success[0].get('label')\r\n    trans.faq_button_list=[faq.get('label') for faq in trans.faq_success]\r\nelse:\r\n    trans.faq = None\r\n    trans.faq_button_list=[]\r\n\r\ntrans.response_count+=1",
                            "ref": "ucbijAvzT4aCduBiJcmqiQ",
                            "route": "f/s/ucbijAvzT4aCduBiJcmqiQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_success"
                    },
                    "resource": "https://nlu.feersum.io/nlu/v2/faq_matchers/eskom-faq-v-04/retrieve",
                    "retries": 2,
                    "retry": true,
                    "selected_nlu_model": "faq_matcher/eskom-faq-v-04",
                    "simplify_result": false,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "ot8Qg1z8Qlukmj8HVOl9iQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.faq_input"
                            }
                        ],
                        "transition": {
                            "ref": "D8BnZ-E0Q4Km4veZq1BsSA",
                            "route": "f/s/D8BnZ-E0Q4Km4veZq1BsSA",
                            "statetype": "nlu_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ot8Qg1z8Qlukmj8HVOl9iQ",
                            "route": "f/s/ot8Qg1z8Qlukmj8HVOl9iQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Hmmm, I couldn\u2019t quite pick up exactly what it is you\u2019re asking... can you please ask your question again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "_8drlhOcTVaf5lCRfMZnsQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hsyAkiBwS6quOdgxw6xziQ",
                            "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "_8drlhOcTVaf5lCRfMZnsQ",
                            "route": "f/s/_8drlhOcTVaf5lCRfMZnsQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n   'type': 'plain',  # plain, carousel, list\r\n   'pages': [\r\n       {\r\n           'text': f'''\r\n           I\u2019m afraid I still don\u2019t quite know how to answer you.\r\n\r\nPlease choose the topic your question relates to below and I\u2019ll show you all the relevant questions.\r\n           1. {trans.clean_faq_button_list[0]}\r\n           2. {trans.clean_faq_button_list[1]}\r\n           3. {trans.clean_faq_button_list[2]}\r\n           4. {trans.clean_faq_button_list[3]}\r\n           5. {trans.clean_faq_button_list[4]}\\n\\n\r\n           Which of these would you like to see the answer to?\r\n           ''',\r\n           'buttons': [\r\n               transition('ID_FAQs', '%s' % (faq), code='trans.faq_index=%d' % (index))\r\n               for index, faq in enumerate(trans.faq_button_summary_list)\r\n           ]\r\n       }\r\n   ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_FAQs",
                                        "transition": {
                                            "ref": "Hto3yNV1QI-L5JRYnMQdZg",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "No response 2 (random faqs)",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.response_count<=1",
                            "ref": "ot8Qg1z8Qlukmj8HVOl9iQ",
                            "route": "f/s/ot8Qg1z8Qlukmj8HVOl9iQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "WjpmYeXFSsK6_d9fapf0Mw",
                            "route": "f/s/WjpmYeXFSsK6_d9fapf0Mw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "B7ovPV6mSNWPiyES2jHyIQ",
                    "name": "No response count",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "trans.response_count=0",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.faq_input",
                            "ref": "l-3p7pU0S_qGA-m_Ohcw4w",
                            "route": "f/s/l-3p7pU0S_qGA-m_Ohcw4w",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "VpzPv3sZRVKJh4An32KOuw",
                            "route": "f/s/VpzPv3sZRVKJh4An32KOuw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "FTNuvHGfR1m7Hp7KG-viGg",
                    "name": "Question already asked?",
                    "relatives": [
                        {
                            "location": "/editor/states/E0w11JgoRRaVa3B6VYeFUw/#state:P-YfhGPCTEWIrZnVUb1ePg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/djnYtnJFSyG_Q-UMTQgdQg/#state:7FHEaq2MQLCvP16cFKZa8Q",
                            "name": "Render KRN image"
                        },
                        {
                            "location": "/editor/states/djnYtnJFSyG_Q-UMTQgdQg/#state:8xwV6B3DSOe5a_c4Vz2RRA",
                            "name": "Render KRN video"
                        },
                        {
                            "location": "/editor/states/PuI-bXqSTEGJjio6ySMdSA/#state:wkXegw0tThWkOBp56B1KyQ",
                            "name": "Menu options"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "id": "Gg4ANAqDR4Ca3hbtNDBAtA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hsyAkiBwS6quOdgxw6xziQ",
                            "route": "f/s/hsyAkiBwS6quOdgxw6xziQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Gg4ANAqDR4Ca3hbtNDBAtA",
                            "route": "f/s/Gg4ANAqDR4Ca3hbtNDBAtA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "5qccuzQSQjGO7JLQqWl9VQ",
                                            "style": "list",
                                            "text": "{{trans.faq_button_1}}",
                                            "transition": {
                                                "code": "trans.faq_index=0\r\ntrans.desc__=\"Check your account balance and download your bill.\"",
                                                "ref": "Hto3yNV1QI-L5JRYnMQdZg",
                                                "route": "f/s/Hto3yNV1QI-L5JRYnMQdZg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "qIAtdgwVRcqUhJj_RKgU1Q",
                                            "style": "list",
                                            "text": "{{trans.faq_button_2}}",
                                            "transition": {
                                                "code": "trans.faq_index=1\r\ntrans.desc__=trans.description_2",
                                                "ref": "Hto3yNV1QI-L5JRYnMQdZg",
                                                "route": "f/s/Hto3yNV1QI-L5JRYnMQdZg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "KOZLSwHXTt6mceHXsuCEmg",
                                            "style": "list",
                                            "text": "{{trans.faq_button_3}}",
                                            "transition": {
                                                "code": "trans.faq_index=2\r\ntrans.desc__=trans.description_3",
                                                "ref": "Hto3yNV1QI-L5JRYnMQdZg",
                                                "route": "f/s/Hto3yNV1QI-L5JRYnMQdZg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{{trans.display_faq_str}}",
                                    "title": "Select FAQ"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Response options descriptions",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.faults\r\ndel trans.tokens\r\ndel trans.meters\r\ndel trans.faq_input\r\ntrans.navigation = {}\r\ndel trans.response_count\r\ndel trans.faq\r\ndel trans.clean_faq_button_list\r\ndel trans.display_faq_str\r\ndel trans.displayed_faq\r\ndel trans.displayed_faq_str\r\ndel trans.faq_button_list\r\ndel trans.faq_button_summary\r\ndel trans.faq_button_summary_list\r\ndel trans.faq_button_summary_questions\r\ndel trans.faq_index\r\ndel trans.faq_response\r\ndel trans.faq_responses_dict\r\ndel trans.faq_success\r\ndel trans.nlu_result\r\ndel trans.number_faqs_found",
                            "guard": "trans.faults",
                            "label": "Faults: Entrypoint",
                            "ref": "DnJU93jkRti5yzGjBDDjIQ",
                            "route": "f/w/DnJU93jkRti5yzGjBDDjIQ",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.faults\r\ndel trans.tokens\r\ndel trans.meters\r\ndel trans.faq_input\r\ntrans.navigation = {}\r\ndel trans.response_count\r\ndel trans.faq\r\ndel trans.clean_faq_button_list\r\ndel trans.display_faq_str\r\ndel trans.displayed_faq\r\ndel trans.displayed_faq_str\r\ndel trans.faq_button_list\r\ndel trans.faq_button_summary\r\ndel trans.faq_button_summary_list\r\ndel trans.faq_button_summary_questions\r\ndel trans.faq_index\r\ndel trans.faq_response\r\ndel trans.faq_responses_dict\r\ndel trans.faq_success\r\ndel trans.nlu_result\r\ndel trans.number_faqs_found",
                            "guard": "trans.tokens",
                            "label": "Tokens: Recode",
                            "ref": "HV7mHXrgQAiLI2wSkU65ZA",
                            "route": "f/w/HV7mHXrgQAiLI2wSkU65ZA",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.faults\r\ndel trans.tokens\r\ndel trans.meters\r\ndel trans.faq_input\r\ntrans.navigation = {}\r\ndel trans.response_count\r\ndel trans.faq\r\ndel trans.clean_faq_button_list\r\ndel trans.display_faq_str\r\ndel trans.displayed_faq\r\ndel trans.displayed_faq_str\r\ndel trans.faq_button_list\r\ndel trans.faq_button_summary\r\ndel trans.faq_button_summary_list\r\ndel trans.faq_button_summary_questions\r\ndel trans.faq_index\r\ndel trans.faq_response\r\ndel trans.faq_responses_dict\r\ndel trans.faq_success\r\ndel trans.nlu_result\r\ndel trans.number_faqs_found",
                            "guard": "trans.meters",
                            "label": "Meters: Entrypoint",
                            "ref": "JkmlFYZERWmRYegDFq0ZgA",
                            "route": "f/w/JkmlFYZERWmRYegDFq0ZgA",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.faults\r\ndel trans.tokens\r\ndel trans.meters\r\ndel trans.faq_input\r\ntrans.navigation = {}\r\ndel trans.response_count\r\ndel trans.faq\r\ndel trans.clean_faq_button_list\r\ndel trans.display_faq_str\r\ndel trans.displayed_faq\r\ndel trans.displayed_faq_str\r\ndel trans.faq_button_list\r\ndel trans.faq_button_summary\r\ndel trans.faq_button_summary_list\r\ndel trans.faq_button_summary_questions\r\ndel trans.faq_index\r\ndel trans.faq_response\r\ndel trans.faq_responses_dict\r\ndel trans.faq_success\r\ndel trans.nlu_result\r\ndel trans.number_faqs_found",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.faults\r\ndel trans.tokens\r\ndel trans.meters\r\ndel trans.faq_input\r\ndel trans.response_count\r\ndel trans.faq\r\ndel trans.clean_faq_button_list\r\ndel trans.display_faq_str\r\ndel trans.displayed_faq\r\ndel trans.displayed_faq_str\r\ndel trans.faq_button_list\r\ndel trans.faq_button_summary\r\ndel trans.faq_button_summary_list\r\ndel trans.faq_button_summary_questions\r\ndel trans.faq_index\r\ndel trans.faq_response\r\ndel trans.faq_responses_dict\r\ndel trans.faq_success\r\ndel trans.nlu_result\r\ndel trans.number_faqs_found",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "hsyAkiBwS6quOdgxw6xziQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                },
                {
                    "code": "trans.faq_responses_dict = {\r\n  \"explain_account_number_outage\": [\r\n    \"To identify outages at your location we need to have your Eskom account number to find your location.\"\r\n  ],\r\n  \"will_i_save_with_prepaid_meter\": [\r\n    \"A prepaid meter is not necessarily cheaper compared to a conventional one. Eskom has has many different tariffs for various consumers depending on your electricity consumption. If you use less than 524kWh of electricity per month then a prepaid will be cheaper than having a conventional meter.\"\r\n  ],\r\n  \"see_date_meter_was_read\": [\r\n    \"You can easily check this on your Eskom bill.\"\r\n  ],\r\n  \"when_are_meter_readings_done\": [\r\n    \"As a conventional Eskom customer, your meter will be read sometime prior to your billing date every 3 months. This date also appears on your Eskom bill.\"\r\n  ],\r\n  \"meter_reading\": [\r\n    \"If you want, you can tap below to let me help you submit your meter readings. You can also use the My Eskom App or https://csonline.eskom.co.za.\"\r\n  ],\r\n  \"nobody_has_read_my_meter\": [\r\n    \"If Eskom hasn't read your meter, an estimate is done. If you feel this estimate is incorrect, you may give us your current reading so we can check it against our records.\"\r\n  ],\r\n  \"cant_make_payment\": [\r\n    \"Please can you call Eskom on 0860037566 and we can make payment arrangements.\"\r\n  ],\r\n  \"faulty_meter\": [\r\n    \"You can tap below to report your meter issue so we can look at your account for specific trends. If your account looks fine, you can pay Eskom a fee to test the meter. \\nIf your meter is faulty, Eskom will replace it and credit you for the test fee that was charged.\"\r\n  ],\r\n  \"card_not_registered\": [\r\n    \"I am sorry to hear this. Please can you complete the unallocated form in order to be registered on the system.\"\r\n  ],\r\n  \"meter_blocked_from_purchasing\": [\r\n    \"I am sorry to hear this. Please can you complete the unallocated form in order so Eskom can make sure you are registered on the system correctly.\"\r\n  ],\r\n  \"get_a_used_token\": [\r\n    \"I am sorry for your frustration. Eskom uses this for identification purposes.\"\r\n  ],\r\n  \"power_outage_notice\": [\r\n    \"I am sorry for your frustration. Eskom does give notices on planned outages. I might need to update your details to ensure you are notified.\"\r\n  ],\r\n  \"illegal_connections_to_pole\": [\r\n    \"I am sorry to hear this. Please can you report this on the MyEskom App or call Eskom on 0860037566 to report this and we can do something about it.\"\r\n  ],\r\n  \"illegal_connections_reported\": [\r\n    \"Eskom always takes illegal connections very seriously. The information given about illegal connections is treated as confidential to protect you, our customer. If you have further information on illegal customers, please report this on the MyEskom App or contact Eskom on 0860037566 to report this and we can do something about it.\"\r\n  ],\r\n  \"will_eskom_pay_for_loss_to_elec_damages\": [\r\n    \"I am sorry to hear about the damage you have suffered. Eskom has a process that needs to be followed when submitting a claim. It is important to note that only direct damage from Eskom negligence is compensated. Not consequential damage. All claims submitted via this process will be evaluated and if it is found that there was Eskom negligence then the direct damages will be fairly assessed and compensated for.\"\r\n  ],\r\n  \"where_is_my_number_input\": [\r\n    \"Your account number and meter number are highlighted in the image below.\"\r\n  ],\r\n  \"where_is_my_meter_number\": [\r\n    \"Your meter number is either on your meter or on the card that was provided with your meter.\"\r\n  ],\r\n  \"what_language_is_the_bill_in\": [\r\n    \"Small Power User (SPU) bills are available in your choice of 11 South African official languages on request. Due to the complexity of the bill, Large Power User (LPU) bills are only available in English.\"\r\n  ],\r\n  \"explain\": [\r\n    \"Please see the below image for an explaination of your bill.\"\r\n  ],\r\n  \"how_much_is_my_account\": [\r\n    \"The total amount owing is shown on the summary page in the TOTAL AMOUNT DUE block.\"\r\n  ],\r\n  \"why_is_my_account_so_high\": [\r\n    \"(1) There is an additional charges on your account like connection fees.\",\r\n    \"(2) The actual account and the previous two estimates may have been too low, that is this month's account is possibly raising charges that should have been raised during the last two months but were not.\",\r\n    \"(3) In winter usage goes up (the use of heaters)\",\r\n    \"(4) If your last payment was made too late to be included on your account this will result in a higher balance outstanding.\"\r\n],\r\n  \"why_do_i_have_arrears_on_my_account_but_i_have_paid\": [\r\n    \"There is a delay between payments made directly to the bank and when we are informed of them. Try to make a payment two days before the due date, or use our debit order facility.\"\r\n  ],\r\n  \"i_did_not_get_an_account\": [\r\n    \"If you did not recieve a bill, please contact our Contact Centre to update you information.\"\r\n  ],\r\n  \"eskom_payment_options\": [\r\n    \"'You can pay your account by: Debit order, EFT, EasyPay, Post Offices, Telephonic Credit Card payment and via www.easypay.co.za.'\"\r\n  ],\r\n  \"how_much_is_the_disconnection_fee\": [\r\n    \"We charge a disconnection fee of R 535 in urban areas (R700 after hours) and R960 in rural areas (R1250.00 after hours).\"\r\n  ],\r\n  \"meter_faulty_i_want_it_checked\": [\r\n    \"To have your meter checked, tap below to log a meter fault. Please note there is a fee applicable to this service.\"\r\n  ],\r\n  \"meter_spinning_very_fast\": [\r\n    \"A fast spinning meter means that a lot of electricity is being used. Try to switch off as many of your appliances as possible and see if the wheel stops spinning. If not, you can have your own electrician check the meter. You can also log a fault for Eskom to check your meter after you have paid the applicable fee.\"\r\n  ],\r\n  \"why_is_my_meter_box_locked\": [\r\n    \"Meter boxes are locked to prevent tampering and damage to meet safety regulations.\"\r\n  ],\r\n  \"cannot_reclaim_prepaid_card\": [\r\n    \"Compare tariff index and supply group code of the new card to an old one that has worked before. If any of these differ, a key change token needs to be issued.\"\r\n  ],\r\n  \"i_want_change_to_a_prepaid_meter\": [\r\n    \"An area needs to be designated to be a prepaid area before conversions from conventional to prepaid can be considered. If area is designated prepaid, then a customer can call the Contact Centre to apply for a conversion.\"\r\n  ],\r\n  \"what_is_a_kwh\": [\r\n    \"A kWh is what is used to measure electricity. A kWh is the electricity used by, for example, a 100W bulb burning for 10 hours uses 1 kWh. It is the unit used to measure and charge for electricity consumed on your electricity bill.\"\r\n  ],\r\n  \"how_much_is_one_unit\": [\r\n    \"A unit is the same as a kWh. The meter reading is in units.\"\r\n  ],\r\n  \"the_difference_between_fault_and_loadshedding\": [\r\n    \"We get this a lot. When the power goes off, it is not possible to know whether it is a fault, emergency load shedding, or scheduled load shedding, except to refer to the published schedules\"\r\n  ],\r\n  \"contact_centre_times\": [\r\n    \"You can contact the Eskom call centre on 08600eskom (0860037566). Non-technical (ie. account enquiry) enquiries can be done from Monday to Friday 08:00 to 16:00. For technical enquiry (ie. no electricity) is available 24/7.\"\r\n  ],\r\n  \"why_I_cannot_verify_your_account\": [\r\n    \"I cannot verify your account because it seems like your data is incorrect on my system. Please can you contact the Eskom call centre to update your information.\"\r\n  ],\r\n  \"units_disappearing\": [\r\n    \"I'm sorry it looks like units are disappearing on your meter but units do not disappear, get removed, or deleted during load shedding or a power failure. After your power supply returns, appliances such as geysers, refrigerators and others will need to either re-heat or cool down after being off, which can lead to quicker than normal usage of your units.\"\r\n  ],\r\n  \"restoration_time\": [\r\n    \"The restoration time varies depending on the complexity of the fault and the number of faults logged in your area. Please feel free to periodically check in with me to see the progress of your fault.\"\r\n  ],\r\n  \"bill_not_correct\": [\r\n    \"Please register on CS Online https://csonline.eskom.co.za where you can see a 12 month history of your bills and log querries there to resolve any bill related issue.\"\r\n  ],\r\n  \"explain_my_bill\": [\r\n    \"Please see the below image for an explaination of your bill.\"],\r\n  \"emergency\": [\r\n    \"Sounds like an emergency to me!\ud83c\udd98 Please tap below to report it so Eskom can send someone to sort it out asap.\"\r\n  ],\r\n  \"what_is_krn\": [\r\n    \"The Key Revision Number (KRN) or the Token Identifier (TID) Rollover Programme is a prepaid electricity metering industry undertaking to ensure that all prepaid meters that will roll over to a new Token Identifier Code on 24 November 2024 are correctly recoded.\"\r\n  ],\r\n  \"krn_faqs\": [\r\n    \"Please select one of the frequently asked questions (FAQs) below\",\r\n    \"What will happen if I don't recode my meter\",\r\n    \"How will my meter be recoded?\",\r\n    \"Will Eskom be educating the prepaid electricity vendors?\",\r\n    \"Will I need to pay for recoding?\",\r\n    \"Will Eskom and its contractors need access to my home?\",\r\n    \"What about the electricity units left before recoding?\",\r\n    \"When will this project start?\",\r\n    \"How will the project be rolled out?\",\r\n    \"What if I buy prepaid electricity online?\",\r\n    \"What if I lost my recode token?\"\r\n  ],\r\n  \"krn_happen_if_meter_not_recoded\": [\r\n    \"If you don't recode, when you buy electricity after November 2024, your meter will NOT load your purchased tokens. Every meter in South Africa HAS to be recoded.\"\r\n  ],\r\n  \"krn_why_its_necessary\": [\r\n    \"If the meter codes are not updated, the prepaid tokens bought will not work on those meters, leaving you without electricity.The meter coding project is being done for technical reasons to ensure that all Eskom prepaid meters continue working. It is like updating your cellphone \",\r\n    \"you can use most cellphones for a long time, but sometimes they stop working correctly so you need to upgrade your phone's software.\"\r\n  ],\r\n  \"krn_project_only_updating_meter_codes\": [\r\n    \"Yes, this project is only to re-code prepaid meters, to ensure they remain working after 24 November 2024. All STS prepayment meters will be affected by the Token Identifier (TID) rollover on 24 November 2024. Any tokens generated after this date and utilising the 24-bit TID will be rejected by the meters as being old tokens as the TID value embedded in the token will have reset back to 0.\"\r\n  ],\r\n  \"krn_how_many_meters\": [\r\n    \"There are about 6.6 million prepaid meters in the Eskom supply areas, across South Africa.\"\r\n  ],\r\n  \"krn_is_it_only_eskom\": [\r\n    \"The recoding of prepaid meters is not an Eskom-only issue \",\r\n    \"the recoding of prepaid meters needs to be done for all Eskom prepayment supply customers, also those of the South African municipalities as well as customers using STS-type prepaid meters in various other countries. The software of all prepaid meters in South Africa must be recoded, no matter who supplies your electricity. Municipalities and prepaid electricity vendors are running similar projects.\"\r\n  ],\r\n  \"krn_how_will_meter_be_recoded\": [\r\n    \"Eskom will start in a designated area and inform the customers in that area when the project will start and how it will work. This is a customer Do It Yourself (DIY) process to re-code your prepaid meter. Eskom will provide you with easy, step-by-step instructions that will enable you to recode your meter yourself when your designated area is ready for recoding.\"\r\n  ],\r\n  \"krn_educating_prepaid_vendors\": [\r\n    \"Eskom will brief its approved vending agents so that their systems are enabled to print instructions for you to do the recoding yourself. When the recoding starts in your area you will get two key change tokens with your normal credit token. You will be guided to punch in the numbers of the key change tokens into your meter in a specific order, to recode your meter. You will then be able to load your meter with credit with your credit token.\"\r\n  ],\r\n  \"krn_will_i_need_to_pay\": [\r\n    \"There is NO cost to recoding your meter. You will NOT be required to pay for this re-coding change. Should anyone ask you to pay for this service, immediately report that to the SAPS or Eskom.\"\r\n  ],\r\n  \"krn_will_eskom_need_home_access\": [\r\n    \"No, there are no contractors or installers in this rollout. The recoding is done by the customers themselves. No Eskom person will be visiting you to assist you with this, except for normal reported technical queries. Do not let anyone into your home posing as an Eskom person wanting to recode your meter.\"\r\n  ],\r\n  \"krn_elec_units_left_before_recoding\": [\r\n    \"Credit in the meter at the time of recoding will be unaffected, even if the recoding is done.\"\r\n  ],\r\n  \"krn_how_will_project_be_rolled_out\": [\r\n    \"Eskom will alert customers in the rollout areas two weeks before the rollout commences with messaging in local media and community communication channels. Following that, the prepaid vendors will issue the two 20-digit key change tokens together with your normal electricity tokens. All meters must be re-coded in South Africa to ensure that all customers can load electricity. After November 2024 only re-coded meters will accept the prepaid electricity top-up tokens.\"\r\n  ],\r\n  \"krn_when_will_project_start\": [\r\n    \"Eskom started the project in July 2023, and all meters were expected to be re-coded by mid-2024. If you haven't recoded your meter, I can help you with this if you tap below.\"\r\n  ],\r\n  \"krn_what_if_i_buy_units_online\": [\r\n    \"The banks and other online services will also be able to issue the recode change tokens.Eskom advises customers to buy from their local prepaid vending agents or from online vending platforms to get the recode tokens.\"\r\n  ],\r\n  \"krn_lost_recode_token\": [\r\n    \"You will be able to get another set of 2 x 20 digit tokens from your vendor, should you have lost the ones issued to you.\"\r\n  ],\r\n  \"rlm_what_is_rlm\": [\r\n    \"Load limiting is the deliberate act of limiting the maximum output power of the customer's meter for a predefined period for the purpose of managing demand. The meter will automatically reset back to its original level at the end of said period; no human intervention is required. To activate load limiting, a load-limiting schedule is sent to the customer's meter at the beginning of the pilot and is set to expire at the end of a predetermined period. During that period, heavy energy consumption appliances such as geysers, pool pumps, underfloor heating, and similar appliances are switched tomer's power supply size is normally at 60 Amps or 80 Amps for single phase, and when the network has been lowered, it means that the supply will be temporarily lowered to 10 Amps during the load-limiting period as defined above.\"\r\n  ],\r\n  \"rlm_why_is_eskom_load_limiting\": [\r\n    \"Eskom recognises that supply constraints and related load shedding will be with us for the foreseeable future. This is detrimental to the economy and to ordinary citizens at large. Therefore, in an effort to enable customers to continue enjoying using electricity, albeit at a reduced level, Eskom is implementing load limiting as part of Demand Side Management.\"\r\n  ]\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "trans.faq_button_summary = {\r\n    'explain_account_number_outage': 'Account Outage',\r\n    'will_i_save_with_prepaid_meter': 'Prepaid Savings',\r\n    'see_date_meter_was_read': 'Meter Read Date',\r\n    'when_are_meter_readings_done': 'Meter Readings Time',\r\n    'meter_reading': 'Meter Reading',\r\n    'nobody_has_read_my_meter': 'Missed Meter Read',\r\n    'cant_make_payment': 'Payment Issue',\r\n    'faulty_meter': 'Faulty Meter',\r\n    'card_not_registered': 'Card Not Registered',\r\n    'meter_blocked_from_purchasing': 'Meter Blocked',\r\n    'get_a_used_token': 'Used Token',\r\n    'power_outage_notice': 'Outage Notice',\r\n    'illegal_connections_to_pole': 'Illegal Connections',\r\n    'illegal_connections_reported': 'Report Illegal Conn',\r\n    'will_eskom_pay_for_loss_to_elec_damages': 'Compensation Query',\r\n    'where_is_my_number_input': 'Find Account No.',\r\n    'where_is_my_meter_number': 'Find Meter No.',\r\n    'what_language_is_the_bill_in': 'Bill Language',\r\n    'explain': 'Explain',\r\n    'how_much_is_my_account': 'Account Amount',\r\n    'why_is_my_account_so_high': 'High Account',\r\n    'why_do_i_have_arrears_on_my_account_but_i_have_paid': 'Unpaid Arrears',\r\n    'i_did_not_get_an_account': 'No Account Received',\r\n    'eskom_payment_options': 'Payment Options',\r\n    'how_much_is_the_disconnection_fee': 'Disconnection Fee',\r\n    'meter_faulty_i_want_it_checked': 'Check Faulty Meter',\r\n    'meter_spinning_very_fast': 'Fast Meter',\r\n    'why_is_my_meter_box_locked': 'Meter Box Locked',\r\n    'cannot_reclaim_prepaid_card': 'Prepaid Card Issue',\r\n    'i_want_change_to_a_prepaid_meter': 'Switch to Prepaid',\r\n    'what_is_a_kwh': 'What is kWh?',\r\n    'how_much_is_one_unit': 'Unit Cost',\r\n    'the_difference_between_fault_and_loadshedding': 'Fault vs. Loadshedding',\r\n    'contact_centre_times': 'Contact Times',\r\n    'why_I_cannot_verify_your_account': 'Verify Account',\r\n    'units_disappearing': 'Disappearing Units',\r\n    'restoration_time': 'Restoration Time',\r\n    'bill_not_correct': 'Incorrect Bill',\r\n    'explain_my_bill': 'Bill Explanation',\r\n    'what_is_krn': 'What is KRN?',\r\n    'krn_faqs': 'KRN FAQs',\r\n    'krn_happen_if_meter_not_recoded': 'Unrecoded Meter',\r\n    'krn_why_its_necessary': 'Why KRN?',\r\n    'krn_project_only_updating_meter_codes': 'KRN Meter Update',\r\n    'krn_how_many_meters': 'Number of Meters',\r\n    'krn_is_it_only_eskom': 'Eskom Only?',\r\n    'krn_how_will_meter_be_recoded': 'Meter Recoding',\r\n    'krn_educating_prepaid_vendors': 'Prepaid Vendor Ed.',\r\n    'krn_will_i_need_to_pay': 'KRN Cost?',\r\n    'krn_will_eskom_need_home_access': 'Home Access',\r\n    'krn_elec_units_left_before_recoding': 'Units Before Recoding',\r\n    'krn_how_will_project_be_rolled_out': 'KRN Rollout',\r\n    'krn_when_will_project_start': 'Project Start',\r\n    'krn_what_if_i_buy_units_online': 'Online Units',\r\n    'krn_lost_recode_token': 'Lost Token',\r\n    'rlm_what_is_rlm': 'What is RLM?',\r\n    'rlm_why_is_eskom_load_limiting': 'Load Limiting'\r\n}\r\n\r\n\r\ntrans.faq_button_summary_questions = {\r\n    'explain_account_number_outage': '*Why should I provide my Eskom account number?*',\r\n    'will_i_save_with_prepaid_meter': '*Can I save money with a prepaid meter?*',\r\n    'see_date_meter_was_read': '*When was my meter last read?*',\r\n    'when_are_meter_readings_done': '*When are meter readings done?*',\r\n    'meter_reading': '*How is my meter reading taken?*',\r\n    'nobody_has_read_my_meter': '*Why hasn\u2019t anyone read my meter?*',\r\n    'cant_make_payment': '*Why can\u2019t I make a payment?*',\r\n    'faulty_meter': '*What should I do if my meter is faulty?*',\r\n    'card_not_registered': '*Why is my card not registered?*',\r\n    'meter_blocked_from_purchasing': '*Why is my meter blocked from purchasing?*',\r\n    'get_a_used_token': '*How do I get a used token?*',\r\n    'power_outage_notice': '*How will I be notified about a power outage?*',\r\n    'illegal_connections_to_pole': '*What should I do about illegal connections to a pole?*',\r\n    'illegal_connections_reported': '*How do I report illegal connections?*',\r\n    'will_eskom_pay_for_loss_to_elec_damages': '*Will Eskom compensate for damages due to electrical issues?*',\r\n    'where_is_my_number_input': '*Where can I find my account number?*',\r\n    'where_is_my_meter_number': '*Where can I find my meter number?*',\r\n    'what_language_is_the_bill_in': '*What language is my bill in?*',\r\n    'explain': '*Can you explain this?*',\r\n    'how_much_is_my_account': '*How much do I owe on my account?*',\r\n    'why_is_my_account_so_high': '*Why is my account so high?*',\r\n    'why_do_i_have_arrears_on_my_account_but_i_have_paid': '*Why do I have arrears on my account even though I\u2019ve paid?*',\r\n    'i_did_not_get_an_account': '*Why didn\u2019t I receive an account?*',\r\n    'eskom_payment_options': '*What are my payment options with Eskom?*',\r\n    'how_much_is_the_disconnection_fee': '*How much is the disconnection fee?*',\r\n    'meter_faulty_i_want_it_checked': '*How can I get my faulty meter checked?*',\r\n    'meter_spinning_very_fast': '*Why is my meter spinning very fast?*',\r\n    'why_is_my_meter_box_locked': '*Why is my meter box locked?*',\r\n    'cannot_reclaim_prepaid_card': '*Why can\u2019t I reclaim my prepaid card?*',\r\n    'i_want_change_to_a_prepaid_meter': '*How can I switch to a prepaid meter?*',\r\n    'what_is_a_kwh': '*What is a kWh?*',\r\n    'how_much_is_one_unit': '*How much does one unit cost?*',\r\n    'the_difference_between_fault_and_loadshedding': '*What is the difference between a fault and loadshedding?*',\r\n    'contact_centre_times': '*What are the contact center times?*',\r\n    'why_I_cannot_verify_your_account': '*Why can\u2019t I verify my account?*',\r\n    'units_disappearing': '*Why are my units disappearing?*',\r\n    'restoration_time': '*How long will restoration take?*',\r\n    'bill_not_correct': '*What should I do if my bill is not correct?*',\r\n    'explain_my_bill': '*Can you explain my bill?*',\r\n    'what_is_krn': '*What is KRN?*',\r\n    'krn_faqs': '*What are the KRN FAQs?*',\r\n    'krn_happen_if_meter_not_recoded': '*What happens if my meter is not recoded?*',\r\n    'krn_why_its_necessary': '*Why is KRN necessary?*',\r\n    'krn_project_only_updating_meter_codes': '*Is the KRN project only updating meter codes?*',\r\n    'krn_how_many_meters': '*How many meters are involved in KRN?*',\r\n    'krn_is_it_only_eskom': '*Is KRN only for Eskom meters?*',\r\n    'krn_how_will_meter_be_recoded': '*How will my meter be recoded?*',\r\n    'krn_educating_prepaid_vendors': '*How are prepaid vendors being educated about KRN?*',\r\n    'krn_will_i_need_to_pay': '*Will I need to pay for KRN?*',\r\n    'krn_will_eskom_need_home_access': '*Will Eskom need access to my home for KRN?*',\r\n    'krn_elec_units_left_before_recoding': '*How many units will I have left before recoding?*',\r\n    'krn_how_will_project_be_rolled_out': '*How will the KRN project be rolled out?*',\r\n    'krn_when_will_project_start': '*When will the KRN project start?*',\r\n    'krn_what_if_i_buy_units_online': '*What happens if I buy units online?*',\r\n    'krn_lost_recode_token': '*What if I lose my recode token?*',\r\n    'rlm_what_is_rlm': '*What is RLM?*',\r\n    'rlm_why_is_eskom_load_limiting': '*Why is Eskom load limiting?*'\r\n}\r\n\r\n",
                            "ref": "D8BnZ-E0Q4Km4veZq1BsSA",
                            "route": "f/s/D8BnZ-E0Q4Km4veZq1BsSA",
                            "statetype": "nlu_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "l-3p7pU0S_qGA-m_Ohcw4w",
                    "name": "Store relevant data",
                    "type": "decision",
                    "workflow_id": "ehWkPYp5TOyOk2BVu3MpTg",
                    "workflow_name": "FAQS: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "Qk1AfVvNSs6DhFKNUq8gbA",
            "id": "UOI0_g5XQ6Kkru1aItIRvw",
            "name": "Faults: API",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "5x4VPaGhRKG6k4PPaIS2GQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.latlong"
                            },
                            {
                                "extractor": "gecoding",
                                "output_handler": "formatted_address",
                                "var": "trans.address"
                            }
                        ],
                        "transition": {
                            "ref": "Mmdy4wJlTU2jN6eNCysCyg",
                            "route": "f/s/Mmdy4wJlTU2jN6eNCysCyg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "5x4VPaGhRKG6k4PPaIS2GQ",
                            "route": "f/s/5x4VPaGhRKG6k4PPaIS2GQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ThCGXfFNRo-vyObP7dQrPw",
                                            "style": "",
                                            "text": "Location request",
                                            "type": "location"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Please send me your *current location* now.\r\n\r\n\u26a0\ufe0f _This is the option right *below* your live location \u2013 if you share your live location I\u2019ll get confused._"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Address pin",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "Qk1AfVvNSs6DhFKNUq8gbA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Qk1AfVvNSs6DhFKNUq8gbA",
                            "route": "f/s/Qk1AfVvNSs6DhFKNUq8gbA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "4y32SjUsTzCpVR9-uJpN-w",
                                            "style": "",
                                            "text": "\ud83d\udccd Share location",
                                            "transition": {
                                                "ref": "5x4VPaGhRKG6k4PPaIS2GQ",
                                                "route": "f/s/5x4VPaGhRKG6k4PPaIS2GQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "1Ocf-kpQSVW1Y9RKqgGwzg",
                                            "style": "",
                                            "text": "\ud83c\udfe1 Type address",
                                            "transition": {
                                                "ref": "OkvpbMexRZq9g4hRbE82UQ",
                                                "route": "f/s/OkvpbMexRZq9g4hRbE82UQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "2JQ9Eug3TgSrXG_cx4Q_rA",
                                            "style": "",
                                            "text": "\u2753 How do I do this?",
                                            "transition": {
                                                "ref": "C6pTchkWQOyfEUSeW8NO9Q",
                                                "route": "f/s/C6pTchkWQOyfEUSeW8NO9Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "We\u2019re almost done{% if user.username %}, {{user.username}} \u2013{% endif %} you\u2019ve been really helpful so far!\r\n\r\nNext, I\u2019ll need to know *where* you are, so please choose how you want to share this information with me below."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Address primer",
                    "relatives": [
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:4xqFOKAYT5uiBf3V7gw60w",
                            "name": "Are there questions?"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:exnan_beTxm2eabOsttXLA",
                            "name": "Keep asking questions"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "lcT1FiuXT4O6iqwTBbM3IA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"update\"",
                            "ref": "k78V7xY3QMyvQU2t_UGmjw",
                            "route": "f/s/k78V7xY3QMyvQU2t_UGmjw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "lcT1FiuXT4O6iqwTBbM3IA",
                            "route": "f/s/lcT1FiuXT4O6iqwTBbM3IA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "not perm.job",
                                            "id": "5pugUPF9Qfe52V4Qa5XsQg",
                                            "style": "",
                                            "text": "\u23f0 Update me",
                                            "transition": {
                                                "code": "trans.reference = trans.ref\r\ntrans.run = 0\r\nperm.run_counter = 0\r\ntrans.answered = False\r\ntrans.status = \"Isolated Eskom Fault\"\r\ndel trans.date\r\ndel trans.message_id\r\ndel trans.latitude\r\ndel trans.longitude\r\ndel trans.formatted\r\ndel trans.utterance\r\ndel trans.fault\r\ndel trans.add\r\ndel trans.address\r\ndel trans.fault_symptom\r\ndel trans.geolocation\r\ndel trans.description\r\ndel trans.location\r\ndel trans.account_number\r\ndel trans.skip_render\r\ndel trans.province\r\ndel trans.service_type\r\ndel trans.symptom\r\ndel trans.ref",
                                                "label": "HSMs: Create Job",
                                                "ref": "H_RFVrXCSn6dETRtfkUhUw",
                                                "route": "f/w/H_RFVrXCSn6dETRtfkUhUw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "P4I4KerxS3avetQbjyqGxw",
                                            "style": "",
                                            "text": "\u2705\ufe0f Done",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                                                "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "This issue has already been logged with the reference number *{{trans.ref}}*.\r\n\r\nWould you like me to *update* you on the progress?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Already logged",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "SAw36WWZQZSMyuce6OblpA",
                            "route": "f/s/SAw36WWZQZSMyuce6OblpA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "k78V7xY3QMyvQU2t_UGmjw",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.add = trans.address + \", ZA\"",
                    "format": null,
                    "id": "BqWASZIZSte1rwLLuXz6rg",
                    "method": "GET",
                    "name": "API: Geolocation",
                    "on_error": {
                        "transition": {
                            "ref": "j2pJErBTT6OPMGAcRvDXvQ",
                            "route": "f/s/j2pJErBTT6OPMGAcRvDXvQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.location_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "geolocation = trans.geolocation.results[0][\"geometry\"][\"location\"]\r\ntrans.latitude = str(geolocation[\"lat\"])\r\ntrans.longitude = str(geolocation[\"lng\"])\r\ntrans.formatted = trans.geolocation.results[0][\"formatted_address\"]\r\ntrans.province = \"\"\r\nfor component in trans.geolocation.results[0][\"address_components\"]:\r\n    if component[\"types\"][0] == \"administrative_area_level_1\":\r\n        trans.province = component[\"short_name\"]",
                            "ref": "j2pJErBTT6OPMGAcRvDXvQ",
                            "route": "f/s/j2pJErBTT6OPMGAcRvDXvQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.geolocation"
                    },
                    "resource": "https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBPiom5smBrEzMpe6ju3IL3NzCoan9UmWY&address={{trans.add}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"Header\":{\r\n        \"Verb\":\"create\",\r\n        \"Noun\":\"CUSTOMER FAULT\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Payload\":{\r\n        \"Cases\":{\r\n            \"Case\":{\r\n                \"description\":\"Loss of power\",\r\n                \"serviceType\":trans.service_type,\r\n                \"symptom\":trans.symptom,\r\n                \"Account\":{\r\n                    \"accountNumber\":perm.customer.account\r\n                },\r\n                \"ServiceLocation\":{\r\n                    \"mRID\":trans.context.premise.mrid\r\n                },\r\n                \"WorkRequest\":{\r\n                    \"StreetAddress\":{\r\n                        \"description\":trans.description if trans.description else \"\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                    "code": "trans.date = str(datetime.now())\r\ntrans.message_id = perm.msisdn_on_bot + \"-\" + trans.date[0:16] + \"-\" + perm.customer[\"account\"]\r\ntrans.province = trans.province.lower()\r\ntrans.service_type = \"IsolatedEskomFaultCaseED\"\r\ntrans.symptom = \"20\"",
                    "format": "JSON",
                    "id": "MfOzkSZkQw2KBtS2V7bezA",
                    "method": "POST",
                    "name": "API: Log a fault",
                    "on_error": {
                        "transition": {
                            "ref": "X_wwu1PWQ-WJkptniaO3KQ",
                            "route": "f/s/X_wwu1PWQ-WJkptniaO3KQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "Jda8ZL2BTpSI7RHz-5kgyQ",
                            "route": "f/s/Jda8ZL2BTpSI7RHz-5kgyQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.fault"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/?token=mock&province={{trans.province}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.fault.reference_number",
                            "ref": "d4U053iSQg6Op3F6T4ZxYg",
                            "route": "f/s/d4U053iSQg6Op3F6T4ZxYg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "9nBo_j5FQHGGZkI2RNwpMg",
                            "route": "f/s/9nBo_j5FQHGGZkI2RNwpMg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Jda8ZL2BTpSI7RHz-5kgyQ",
                    "name": "Check fault",
                    "type": "decision",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "trans.latitude, *trans.longitude = trans.latlong.split(\":\")",
                    "decisions": [
                        {
                            "code": "trans.longitude = trans.longitude[0]\r\nif not trans.address:\r\n    trans.add = trans.__previous_message_meta__.get(\"location\", {})",
                            "guard": "trans.longitude",
                            "ref": "BqWASZIZSte1rwLLuXz6rg",
                            "route": "f/s/BqWASZIZSte1rwLLuXz6rg",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = trans.latlong",
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Mmdy4wJlTU2jN6eNCysCyg",
                    "name": "Check location",
                    "type": "decision",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "5IYQ9VwXT4y5KvCN_AH59g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"og fault\"",
                            "ref": "k78V7xY3QMyvQU2t_UGmjw",
                            "route": "f/s/k78V7xY3QMyvQU2t_UGmjw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                            "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "gfWYfWAWT-ev-VpdkMsPPA",
                                            "style": "",
                                            "text": "\u2705\ufe0f Confirm",
                                            "transition": {
                                                "ref": "MfOzkSZkQw2KBtS2V7bezA",
                                                "route": "f/s/MfOzkSZkQw2KBtS2V7bezA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "m7Q1kPXiQt2gxNxkHoF7yg",
                                            "style": "",
                                            "text": "\u274c Cancel",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "GFCLQrvmS3y0PwvOj7CkiA",
                                                "route": "f/s/GFCLQrvmS3y0PwvOj7CkiA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thank you{% if user.username %}, {{user.username}}{% endif %}!\r\n\r\nI\u2019ll be logging the following outage for you:\r\n\r\nProblem:\r\n{{trans.fault_symptom}}{% if trans.description %}\r\n\r\nMore information:\r\n{{trans.description}}{% endif %}\r\n\r\nAddress:\r\n{{trans.address}}, {{trans.province}}\r\n\r\nPlease confirm the details above\r\n\r\n\u2757\ufe0fYou may be held liable for submitting a false claim."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confirm",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "qtioqwmDRL6HfbS8y86bLg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"confirm\"",
                            "ref": "k78V7xY3QMyvQU2t_UGmjw",
                            "route": "f/s/k78V7xY3QMyvQU2t_UGmjw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "qtioqwmDRL6HfbS8y86bLg",
                            "route": "f/s/qtioqwmDRL6HfbS8y86bLg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "X3EOmc4RRDSv_4TfZLShUw",
                                            "style": "",
                                            "text": "\u2705 I\u2019m here",
                                            "transition": {
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "hS-gWUcvSROZH9jUZPDIdQ",
                                            "style": "",
                                            "text": "\u274c No-one\u2019s there",
                                            "transition": {
                                                "ref": "j37GB8v3TU-LjhSzJ2Eucw",
                                                "route": "f/s/j37GB8v3TU-LjhSzJ2Eucw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Got it!\r\n\r\nCan you confirm that you or someone else is currently at this address?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confirm someone home",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "OkvpbMexRZq9g4hRbE82UQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.address"
                            }
                        ],
                        "transition": {
                            "ref": "BqWASZIZSte1rwLLuXz6rg",
                            "route": "f/s/BqWASZIZSte1rwLLuXz6rg",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "OkvpbMexRZq9g4hRbE82UQ",
                            "route": "f/s/OkvpbMexRZq9g4hRbE82UQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please type and send me your *address*, like this:\r\n\r\n_123 Street name, Town/City, Province_"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter address",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "I8QkDJFmRmud88-UHCr7NA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "I8QkDJFmRmud88-UHCr7NA",
                            "route": "f/s/I8QkDJFmRmud88-UHCr7NA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "L75_BtAVRKuDOUhd2HUZDg",
                                            "style": "",
                                            "text": "\ud83d\udccd Send location",
                                            "transition": {
                                                "ref": "5x4VPaGhRKG6k4PPaIS2GQ",
                                                "route": "f/s/5x4VPaGhRKG6k4PPaIS2GQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ZNsA0-qRToCbsEMDb046rw",
                                            "style": "",
                                            "text": "\ud83c\udfe1 Type address",
                                            "transition": {
                                                "ref": "OkvpbMexRZq9g4hRbE82UQ",
                                                "route": "f/s/OkvpbMexRZq9g4hRbE82UQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "SZWaq01SQ6CgOkPkUCtZ3A",
                                            "style": "",
                                            "text": "\u27a1\ufe0f Continue",
                                            "transition": {
                                                "ref": "MfO_OoC7QJiE2lRIJV5iyQ",
                                                "route": "f/s/MfO_OoC7QJiE2lRIJV5iyQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I'm having some trouble getting your _exact_ address.\r\n\r\nWould you like to *send your location* again or rather *type the address*?\r\n\r\nIf you are sure the pin you send is correct, you can also tap on *continue*."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error with address",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "9nBo_j5FQHGGZkI2RNwpMg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "9nBo_j5FQHGGZkI2RNwpMg",
                            "route": "f/s/9nBo_j5FQHGGZkI2RNwpMg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "SYdafpRHR3iZlA8wF58gew",
                                            "style": "",
                                            "text": "\u2705\ufe0f Yes, please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                                                "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "MWJAcO3aTb-Emyq46Av38A",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "GFCLQrvmS3y0PwvOj7CkiA",
                                                "route": "f/s/GFCLQrvmS3y0PwvOj7CkiA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry{% if user.username %}, {{user.username}}{% endif %}.\r\n\r\nFor some reason, the system won\u2019t allow me to log your issue at the moment.\r\n\r\nI\u2019ll need some time to look into this, so please try again later.\r\n\r\nIn the meantime, do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "d4U053iSQg6Op3F6T4ZxYg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"updates\"",
                            "ref": "k78V7xY3QMyvQU2t_UGmjw",
                            "route": "f/s/k78V7xY3QMyvQU2t_UGmjw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "d4U053iSQg6Op3F6T4ZxYg",
                            "route": "f/s/d4U053iSQg6Op3F6T4ZxYg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "_IYJiL6MSmWBOzRQH3-IyA",
                                            "style": "",
                                            "text": "\u2705\ufe0f Done",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                                                "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "K3QKrb7cR6631EARu7u6mw",
                                            "style": "",
                                            "text": "\u23f0 Send updates",
                                            "transition": {
                                                "code": "trans.reference = trans.fault.reference_number\r\ntrans.run = 0\r\nperm.run_counter = 0\r\ntrans.status = \"Isolated Eskom Fault\"\r\ntrans.answered = False\r\ndel trans.date\r\ndel trans.message_id\r\ndel trans.latitude\r\ndel trans.longitude\r\ndel trans.formatted\r\ndel trans.utterance\r\ndel trans.fault\r\ndel trans.add\r\ndel trans.address\r\ndel trans.fault_symptom\r\ndel trans.geolocation\r\ndel trans.description\r\ndel trans.location\r\ndel trans.account_number\r\ndel trans.skip_render\r\ndel trans.province\r\ndel trans.service_type\r\ndel trans.symptom\r\ndel trans.ref",
                                                "label": "HSMs: Create Job",
                                                "ref": "H_RFVrXCSn6dETRtfkUhUw",
                                                "route": "f/w/H_RFVrXCSn6dETRtfkUhUw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "All done! \ud83d\ude4c\r\n\r\nThank you for bringing this issue to my attention{% if user.username %}, {{user.username}}{% endif %}.\r\n\r\nYour reference number is:\r\n\r\n{{trans.fault.reference_number}}\r\n\r\nI can send you updates as our technicians make progress on this, or you can use the reference number above to follow up on this with me."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Fault logged",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "MfO_OoC7QJiE2lRIJV5iyQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"province\"",
                            "ref": "k78V7xY3QMyvQU2t_UGmjw",
                            "route": "f/s/k78V7xY3QMyvQU2t_UGmjw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "MfO_OoC7QJiE2lRIJV5iyQ",
                            "route": "f/s/MfO_OoC7QJiE2lRIJV5iyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "qj-wICviTu28KiohGAdGbA",
                                            "style": "",
                                            "text": "Gauteng",
                                            "transition": {
                                                "code": "trans.province = \"gp\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "7Ex6RFjxTz6nduIPkPAoFQ",
                                            "style": "",
                                            "text": "Western Cape",
                                            "transition": {
                                                "code": "trans.province = \"wc\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "fq05KDWAS4WvW3nhIO6DzA",
                                            "style": "",
                                            "text": "KwaZulu-Natal",
                                            "transition": {
                                                "code": "trans.province = \"kzn\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "WEK6P5IcQ22Dv3fgM51BrA",
                                            "style": "",
                                            "text": "Eastern Cape",
                                            "transition": {
                                                "code": "trans.province = \"ec\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "YpmkcdCSR3G248Z6knOLzQ",
                                            "style": "",
                                            "text": "Free State",
                                            "transition": {
                                                "code": "trans.province = \"fs\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "3TFB6h_MSlOhdTbiyFX8cQ",
                                            "style": "",
                                            "text": "Mpumalanga",
                                            "transition": {
                                                "code": "trans.province = \"mp\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "_Glh45FOTgeyUCuwwK36aA",
                                            "style": "",
                                            "text": "Limpopo",
                                            "transition": {
                                                "code": "trans.province = \"lp\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "xWGq0vnmSEuMcwpayc5PoQ",
                                            "style": "",
                                            "text": "North West",
                                            "transition": {
                                                "code": "trans.province = \"nw\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "BUSvw7wYS7qGQTYUjUkLmA",
                                            "style": "",
                                            "text": "Northern Cape",
                                            "transition": {
                                                "code": "trans.province = \"nc\"",
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I was unable to extract your *province* from the address you sent.\r\n\r\nWhich province are you in?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Get province",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "C6pTchkWQOyfEUSeW8NO9Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"help\"",
                            "ref": "k78V7xY3QMyvQU2t_UGmjw",
                            "route": "f/s/k78V7xY3QMyvQU2t_UGmjw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "C6pTchkWQOyfEUSeW8NO9Q",
                            "route": "f/s/C6pTchkWQOyfEUSeW8NO9Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "llDUhXc0Q5itagGuWYOkkw",
                                            "style": "",
                                            "text": "\ud83d\udccd\ufe0f Yes",
                                            "transition": {
                                                "ref": "5x4VPaGhRKG6k4PPaIS2GQ",
                                                "route": "f/s/5x4VPaGhRKG6k4PPaIS2GQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "J0WdpJjDQLiWzgyw7MsgWw",
                                            "style": "",
                                            "text": "\ud83d\udd19",
                                            "transition": {
                                                "ref": "Qk1AfVvNSs6DhFKNUq8gbA",
                                                "route": "f/s/Qk1AfVvNSs6DhFKNUq8gbA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "It\u2019s easy!\r\n\r\n\ud83d\udcf1 *If you have an iPhone:*\r\nTap the \u2795 to the left of where you usually type and select *Location*. Give it a few seconds to figure out where you are and select *Send Your Current Location*.\r\n\r\n\ud83d\udcf1 *For Samsung or other Android devices:*\r\nTap the \ud83d\udcce to the right of where you usually type and select *Location*. Give it a few seconds to figure out where you are and select *Send Your Current Location*.\r\n\r\nCan you try it now?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "How to do it?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "id": "j37GB8v3TU-LjhSzJ2Eucw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "j37GB8v3TU-LjhSzJ2Eucw",
                            "route": "f/s/j37GB8v3TU-LjhSzJ2Eucw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "1asiSJPnQGGq4W-6BLPLNg",
                                            "style": "",
                                            "text": "\u2705 I've done this",
                                            "transition": {
                                                "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                                                "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "OMsRBP2mRkGT1QhE4x9cZg",
                                            "style": "",
                                            "text": "\u2b05\ufe0f Back",
                                            "transition": {
                                                "ref": "qtioqwmDRL6HfbS8y86bLg",
                                                "route": "f/s/qtioqwmDRL6HfbS8y86bLg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Please arrange for someone to be there, then let me know once you\u2019ve done this."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No one's home",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "cyCbxJ6OTWKlSlYS0t3qeA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "The account {{perm.customer.account}} not found.\r\n\r\n*DEV NOTES: This should not happen, but we need to probably cater for it*"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.province",
                            "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                            "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "MfO_OoC7QJiE2lRIJV5iyQ",
                            "route": "f/s/MfO_OoC7QJiE2lRIJV5iyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "fm2viIs-SRC5UIzM8r0HZw",
                    "name": "Province?",
                    "type": "decision",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "qtioqwmDRL6HfbS8y86bLg",
                            "route": "f/s/qtioqwmDRL6HfbS8y86bLg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "aj6Tf_2YTFCAAmyhk_yfEA",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"location\",\r\n    \"location\": {\r\n        \"latitude\": trans.latitude,\r\n        \"longitude\": trans.longitude,\r\n        \"name\": \"Selected address for fault.\",\r\n        \"address\": trans.formatted\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Render address",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"address\"",
                            "ref": "Qk1AfVvNSs6DhFKNUq8gbA",
                            "route": "f/s/Qk1AfVvNSs6DhFKNUq8gbA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"help\"",
                            "ref": "C6pTchkWQOyfEUSeW8NO9Q",
                            "route": "f/s/C6pTchkWQOyfEUSeW8NO9Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"pin\"",
                            "ref": "5x4VPaGhRKG6k4PPaIS2GQ",
                            "route": "f/s/5x4VPaGhRKG6k4PPaIS2GQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"confirm\"",
                            "ref": "qtioqwmDRL6HfbS8y86bLg",
                            "route": "f/s/qtioqwmDRL6HfbS8y86bLg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"province\"",
                            "ref": "MfO_OoC7QJiE2lRIJV5iyQ",
                            "route": "f/s/MfO_OoC7QJiE2lRIJV5iyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"log fault\"",
                            "ref": "5IYQ9VwXT4y5KvCN_AH59g",
                            "route": "f/s/5IYQ9VwXT4y5KvCN_AH59g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"updates\"",
                            "ref": "d4U053iSQg6Op3F6T4ZxYg",
                            "route": "f/s/d4U053iSQg6Op3F6T4ZxYg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"update\"",
                            "ref": "lcT1FiuXT4O6iqwTBbM3IA",
                            "route": "f/s/lcT1FiuXT4O6iqwTBbM3IA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "SAw36WWZQZSMyuce6OblpA",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.date\r\ndel trans.message_id\r\ndel trans.latitude\r\ndel trans.longitude\r\ndel trans.formatted\r\ndel trans.utterance\r\ndel trans.fault\r\ndel trans.add\r\ndel trans.address\r\ndel trans.fault_symptom\r\ndel trans.geolocation\r\ndel trans.description\r\ndel trans.location\r\ndel trans.account_number\r\ndel trans.skip_render\r\ndel trans.province\r\ndel trans.service_type\r\ndel trans.symptom\r\ndel trans.ref",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\ndel trans.date\r\ndel trans.message_id\r\ndel trans.latitude\r\ndel trans.longitude\r\ndel trans.formatted\r\ndel trans.utterance\r\ndel trans.fault\r\ndel trans.add\r\ndel trans.address\r\ndel trans.fault_symptom\r\ndel trans.geolocation\r\ndel trans.skip_render\r\ndel trans.province\r\ndel trans.location\r\ndel trans.account_number\r\ndel trans.description\r\ndel trans.service_type\r\ndel trans.symptom\r\ndel trans.ref",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "VO2DbmHITkO7m9LPz8vLXQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.skip_render",
                            "guard": "trans.skip_render",
                            "ref": "qtioqwmDRL6HfbS8y86bLg",
                            "route": "f/s/qtioqwmDRL6HfbS8y86bLg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.location_error\r\ndel trans.skip_render",
                            "guard": "trans.location_error",
                            "ref": "I8QkDJFmRmud88-UHCr7NA",
                            "route": "f/s/I8QkDJFmRmud88-UHCr7NA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.skip_render",
                            "ref": "aj6Tf_2YTFCAAmyhk_yfEA",
                            "route": "f/s/aj6Tf_2YTFCAAmyhk_yfEA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "j2pJErBTT6OPMGAcRvDXvQ",
                    "name": "Skip render",
                    "type": "decision",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "VO2DbmHITkO7m9LPz8vLXQ",
                            "route": "f/s/VO2DbmHITkO7m9LPz8vLXQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "GFCLQrvmS3y0PwvOj7CkiA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "cyCbxJ6OTWKlSlYS0t3qeA",
                            "route": "f/s/cyCbxJ6OTWKlSlYS0t3qeA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.ref = trans.error_.detail.ref",
                            "guard": "trans.error_.status_code == 409",
                            "ref": "lcT1FiuXT4O6iqwTBbM3IA",
                            "route": "f/s/lcT1FiuXT4O6iqwTBbM3IA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "9nBo_j5FQHGGZkI2RNwpMg",
                            "route": "f/s/9nBo_j5FQHGGZkI2RNwpMg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "X_wwu1PWQ-WJkptniaO3KQ",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "UOI0_g5XQ6Kkru1aItIRvw",
                    "workflow_name": "Faults: API"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "GuRnNa2TQK-Q8DUZY9R74Q",
            "id": "5hV5kwyLTHK0yXPTr9PF_g",
            "name": "Faults: Debug",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "Czrl0-p8T3CXJ2n97YlpZQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Czrl0-p8T3CXJ2n97YlpZQ",
                            "route": "f/s/Czrl0-p8T3CXJ2n97YlpZQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "zQtOX_NlST6HV-WS6rMEAg",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "NGGYqTqRSfG5_zQJo28H8A",
                                                "route": "f/s/NGGYqTqRSfG5_zQJo28H8A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ADK2z6rVTWGILrbDOMu4ZA",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "4WZTHQo8RzCDa9QUyhm3JA",
                                                "route": "f/s/4WZTHQo8RzCDa9QUyhm3JA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Please note: We are about to log a No Supply fault. If any of the information you have supplied is incorrect, you may be liable for costs.\r\n\r\nContinue?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Are you sure?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "yDLAaDhsSbaZ2b__nmAg8A",
                            "route": "f/s/yDLAaDhsSbaZ2b__nmAg8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "aHf4UYIaQLeTcQ_4aJNsKw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK, this means there\u2019s a connection problem between your *keypad* and the *meter*.\r\n\r\n1\ufe0f\u20e3 Please plug the keypad into an electrical plug closest to the meter\r\n2\ufe0f\u20e3 Make sure all switches are in the on position\r\n3\ufe0f\u20e3 Check that the keypad's batteries have been replaced, as they are not rechargeable"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "ConFail",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "yDLAaDhsSbaZ2b__nmAg8A",
                            "route": "f/s/yDLAaDhsSbaZ2b__nmAg8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "eX_JgW5ASjSilp10KLfihA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK, the keypad is busy connecting to the meter. \ud83d\udd04\r\n\r\nPlease wait up to *30 minutes* for the connection to complete."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "ConnEct",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "ctdUaCMqRFiMWYQT6oYcYA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ctdUaCMqRFiMWYQT6oYcYA",
                            "route": "f/s/ctdUaCMqRFiMWYQT6oYcYA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "hLEpmnxUQcCkIUEaTFOZXw",
                                            "style": "",
                                            "text": "\ud83d\udc4d I have credits",
                                            "transition": {
                                                "ref": "HfJ6Yx9HQrOmZxQ_W5sBKg",
                                                "route": "f/s/HfJ6Yx9HQrOmZxQ_W5sBKg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "DT1DCDGPSGC9SuYVGiThzA",
                                            "style": "",
                                            "text": "\ud83d\udc4e No credits",
                                            "transition": {
                                                "ref": "qHLIQwYMQyixOo4x6XbdaQ",
                                                "route": "f/s/qHLIQwYMQyixOo4x6XbdaQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Right. Were there *credits* on your meter when the electricity went off?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Credits",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "vKXfaMtDRHOjlVdFKDDQBA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "vKXfaMtDRHOjlVdFKDDQBA",
                            "route": "f/s/vKXfaMtDRHOjlVdFKDDQBA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "0Jr9mjDXTCm6ohN6qQBzxA",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "4WZTHQo8RzCDa9QUyhm3JA",
                                                "route": "f/s/4WZTHQo8RzCDa9QUyhm3JA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "96xkHC6wSgWgzGvmJsdjcQ",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "kMAc2wIbQuOhPM8ajaT_eg",
                                                "route": "f/s/kMAc2wIbQuOhPM8ajaT_eg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "OPSHaefdSkGBsbGV4LHZSA",
                                            "style": "",
                                            "text": "Keeps tripping",
                                            "transition": {
                                                "ref": "JuQUtPr4ReKmlFrjvPt0vw",
                                                "route": "f/s/JuQUtPr4ReKmlFrjvPt0vw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Ensure appliances are unplugged then switch the main circuit breaker back on. Is the electricity supply restored without tripping?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Debug trip",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "yDLAaDhsSbaZ2b__nmAg8A",
                            "route": "f/s/yDLAaDhsSbaZ2b__nmAg8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bQABwWQ6QNKl-FTVEGKDmA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your meter has not been initialised, {{user.username}}. \r\n\r\nPlease enter the token *1275 4194 1448 6450 5970* to activate the meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "E01",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "urKvHkP-RVSHlRMegXR7TA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "urKvHkP-RVSHlRMegXR7TA",
                            "route": "f/s/urKvHkP-RVSHlRMegXR7TA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "0LrRX9SUTU2ovbzAHFNwvA",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "vKXfaMtDRHOjlVdFKDDQBA",
                                                "route": "f/s/vKXfaMtDRHOjlVdFKDDQBA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "erSjChUHRJWli-sxH18-aA",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "kMAc2wIbQuOhPM8ajaT_eg",
                                                "route": "f/s/kMAc2wIbQuOhPM8ajaT_eg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Has your main switch Circuit board or Earth Leakage tripped?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Earth leakage",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "HfJ6Yx9HQrOmZxQ_W5sBKg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "HfJ6Yx9HQrOmZxQ_W5sBKg",
                            "route": "f/s/HfJ6Yx9HQrOmZxQ_W5sBKg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "_tViA1_VRJyhCX9_a_OxFg",
                                            "style": "",
                                            "text": "\ud83d\udc4d I see a code",
                                            "transition": {
                                                "ref": "w0quhu5QTfmyfdjW9zk_bQ",
                                                "route": "f/s/w0quhu5QTfmyfdjW9zk_bQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "l1RQrg__Qg-VqcoK8iZ0eg",
                                            "style": "",
                                            "text": "\ud83d\udc4e There\u2019s no code",
                                            "transition": {
                                                "ref": "urKvHkP-RVSHlRMegXR7TA",
                                                "route": "f/s/urKvHkP-RVSHlRMegXR7TA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK.\r\n\r\nAnd can you see an *error code* displayed on the meter?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error code",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "AJYD8Cb7RN62m2xOyE9GeQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "AJYD8Cb7RN62m2xOyE9GeQ",
                            "route": "f/s/AJYD8Cb7RN62m2xOyE9GeQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "PxvlQqFYRAqZvGrULN5zFQ",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "NGGYqTqRSfG5_zQJo28H8A",
                                                "route": "f/s/NGGYqTqRSfG5_zQJo28H8A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "njnWz7s6QVK9h_VBWeLdug",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "4WZTHQo8RzCDa9QUyhm3JA",
                                                "route": "f/s/4WZTHQo8RzCDa9QUyhm3JA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Failure copy\r\n\r\nDo you want to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "4WZTHQo8RzCDa9QUyhm3JA",
                            "route": "f/s/4WZTHQo8RzCDa9QUyhm3JA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "6BX2NWb4TNi22Qt8glptkQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Fault Reference: XXXXXXXXXX has been logged successfully."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Fault logged",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "NGGYqTqRSfG5_zQJo28H8A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "NGGYqTqRSfG5_zQJo28H8A",
                            "route": "f/s/NGGYqTqRSfG5_zQJo28H8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Nlhi4Nc7R5mCnd0ofD_uKg",
                                            "style": "",
                                            "text": "Success",
                                            "transition": {
                                                "ref": "6BX2NWb4TNi22Qt8glptkQ",
                                                "route": "f/s/6BX2NWb4TNi22Qt8glptkQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "kFTKAsdUROCOngeSj590YA",
                                            "style": "",
                                            "text": "Failure",
                                            "transition": {
                                                "ref": "AJYD8Cb7RN62m2xOyE9GeQ",
                                                "route": "f/s/AJYD8Cb7RN62m2xOyE9GeQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "API LogAFaultNoSupply"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Integration",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "4WZTHQo8RzCDa9QUyhm3JA",
                            "route": "f/s/4WZTHQo8RzCDa9QUyhm3JA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "JuQUtPr4ReKmlFrjvPt0vw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "It seems that the fault is on your electrical installation inside your home. Please contact a qualified electrician to inspect your installation."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Local fault",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "NZOTGCv_TKibSFSWDyxR9g",
                    "name": "Main menu",
                    "type": "decision",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "kMAc2wIbQuOhPM8ajaT_eg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "kMAc2wIbQuOhPM8ajaT_eg",
                            "route": "f/s/kMAc2wIbQuOhPM8ajaT_eg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "fhMLAhSvQWGsITy0zYfK8Q",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "yyPp6ohaR0qSnnFnfeKMrw",
                                                "route": "f/s/yyPp6ohaR0qSnnFnfeKMrw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "I_XD3jgHTB6ryBKQV5yCrg",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "vKXfaMtDRHOjlVdFKDDQBA",
                                                "route": "f/s/vKXfaMtDRHOjlVdFKDDQBA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "yFeGaYYDQoOo26NdA3CBGg",
                                            "style": "",
                                            "text": "Unsure",
                                            "transition": {
                                                "ref": "yyPp6ohaR0qSnnFnfeKMrw",
                                                "route": "f/s/yyPp6ohaR0qSnnFnfeKMrw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Do your neighbours have power?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Neighbours?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "NZOTGCv_TKibSFSWDyxR9g",
                            "route": "f/s/NZOTGCv_TKibSFSWDyxR9g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "qHLIQwYMQyixOo4x6XbdaQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I see.\r\n\r\nWell then fixing your issue is simple, {{user.username}}. \ud83d\ude0a\r\n\r\nAll you have to do is buy some credits and load them to your meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No credits",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "yDLAaDhsSbaZ2b__nmAg8A",
                            "route": "f/s/yDLAaDhsSbaZ2b__nmAg8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "l601_nP1RxaMjdo9ELoStg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your meter has not been activated, {{user.username}}.\r\n\r\nPlease enter the token *55555* to activate the meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "NOTAct",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "yDLAaDhsSbaZ2b__nmAg8A",
                            "route": "f/s/yDLAaDhsSbaZ2b__nmAg8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "IJl8VzR_TGaqlxxEy5RP3w",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your meter has been overloaded with too many electrical appliances. \ud83e\udd2f Please *switch off all appliances for 30 minutes* and wait for the meter to reset.\r\nIn future, try not to use too many appliances together.\r\n\r\n\u26a0\ufe0f _If this error happens repeatedly, please consider upgrading your supply._"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "OUEr",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "perm.prepaid",
                            "ref": "ctdUaCMqRFiMWYQT6oYcYA",
                            "route": "f/s/ctdUaCMqRFiMWYQT6oYcYA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "urKvHkP-RVSHlRMegXR7TA",
                            "route": "f/s/urKvHkP-RVSHlRMegXR7TA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "GuRnNa2TQK-Q8DUZY9R74Q",
                    "name": "Prepaid or postpaid?",
                    "type": "decision",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "w0quhu5QTfmyfdjW9zk_bQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "w0quhu5QTfmyfdjW9zk_bQ",
                            "route": "f/s/w0quhu5QTfmyfdjW9zk_bQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Vmj8DIsSS5SRXaAhfiWKkg",
                                            "style": "list",
                                            "text": "...30.../Con_Fail/E07",
                                            "transition": {
                                                "code": "trans.desc__ = \"Might indicate a power issue.\"",
                                                "ref": "aHf4UYIaQLeTcQ_4aJNsKw",
                                                "route": "f/s/aHf4UYIaQLeTcQ_4aJNsKw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "iaRlLO6CRIi3L00RM_Z4wQ",
                                            "style": "list",
                                            "text": "ConnEct",
                                            "transition": {
                                                "code": "trans.desc__ = \"This error indicates that the keypad is busy connecting to the meter.\"",
                                                "ref": "eX_JgW5ASjSilp10KLfihA",
                                                "route": "f/s/eX_JgW5ASjSilp10KLfihA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "yBAkCgplSW6Y-nIm_fgAcQ",
                                            "style": "list",
                                            "text": "USED",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that the token you entered has been used before.\"",
                                                "ref": "K8CeC1cVR8yoWEGdrLz6IQ",
                                                "route": "f/s/K8CeC1cVR8yoWEGdrLz6IQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "oZau-1cFQzOBBbFhO6TNtA",
                                            "style": "list",
                                            "text": "OUEr_Por",
                                            "transition": {
                                                "code": "trans.desc__ = \"This error indicates that your meter has been overloaded with too many electrical appliances.\"",
                                                "ref": "IJl8VzR_TGaqlxxEy5RP3w",
                                                "route": "f/s/IJl8VzR_TGaqlxxEy5RP3w",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "zPE8gxzoR7iuGGXDYy-C1Q",
                                            "style": "list",
                                            "text": "NOT_Act",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that your meter has not been activated.\"",
                                                "ref": "l601_nP1RxaMjdo9ELoStg",
                                                "route": "f/s/l601_nP1RxaMjdo9ELoStg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "wO6O9GvkTqy9GRDLzyrS_Q",
                                            "style": "list",
                                            "text": "E01",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that your meter has not been initialised.\"",
                                                "ref": "bQABwWQ6QNKl-FTVEGKDmA",
                                                "route": "f/s/bQABwWQ6QNKl-FTVEGKDmA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "S12YegFyRTCidVxqik7wTg",
                                            "style": "list",
                                            "text": "Faulty prepaid token",
                                            "transition": {
                                                "code": "trans.desc__ = \"Log a token issue.\"",
                                                "label": "Tokens: Not Loading",
                                                "ref": "yKVQvykuR_Kcwzcjlpu69w",
                                                "route": "f/w/yKVQvykuR_Kcwzcjlpu69w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "hLYNdOzBSzO5Y_pEYn0I4g",
                                            "style": "",
                                            "text": "Something else",
                                            "transition": {
                                                "code": "trans.desc__ = \"I have another issue.\"",
                                                "label": "Faults: Symptoms",
                                                "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "We\u2019re getting closer to figuring this out, {{user.username}}... \r\n\r\nWhich of these codes do you see?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render codes",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "K98aZTKSS1WaXSZYoxf2MQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "yyPp6ohaR0qSnnFnfeKMrw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.alternate"
                            }
                        ],
                        "transition": {
                            "ref": "Czrl0-p8T3CXJ2n97YlpZQ",
                            "route": "f/s/Czrl0-p8T3CXJ2n97YlpZQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "yyPp6ohaR0qSnnFnfeKMrw",
                            "route": "f/s/yyPp6ohaR0qSnnFnfeKMrw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please enter an alternative contact number"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Start fault log",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "NZOTGCv_TKibSFSWDyxR9g",
                            "route": "f/s/NZOTGCv_TKibSFSWDyxR9g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4WZTHQo8RzCDa9QUyhm3JA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Fantastic! \ud83e\udd29\r\n\r\nIf there\u2019s anything else I can help you with, please feel free to tap below."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "yDLAaDhsSbaZ2b__nmAg8A",
                            "route": "f/s/yDLAaDhsSbaZ2b__nmAg8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "K8CeC1cVR8yoWEGdrLz6IQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "It appears that the token you entered has been used before.\r\n\r\nPlease load the _correct_ token or purchase a _new_ token and try loading again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "USED",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                },
                {
                    "id": "yDLAaDhsSbaZ2b__nmAg8A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K98aZTKSS1WaXSZYoxf2MQ",
                            "route": "f/s/K98aZTKSS1WaXSZYoxf2MQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "yDLAaDhsSbaZ2b__nmAg8A",
                            "route": "f/s/yDLAaDhsSbaZ2b__nmAg8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "aGl4cW8BSImpFY3v56MMsA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes, it's fixed",
                                            "transition": {
                                                "ref": "4WZTHQo8RzCDa9QUyhm3JA",
                                                "route": "f/s/4WZTHQo8RzCDa9QUyhm3JA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "On77Hc-jSh-CmGZs3RTR4g",
                                            "style": "",
                                            "text": "\ud83d\udc4e No, not fixed",
                                            "transition": {
                                                "label": "Faults: Symptoms",
                                                "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Did that fix the issue?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Was I able to assist you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "5hV5kwyLTHK0yXPTr9PF_g",
                    "workflow_name": "Faults: Debug"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "stTCrV1cTvOLA1V_ISQMaA",
            "id": "iwxrOjGeRraRi4ohz8ky5Q",
            "name": "Faults: Debug Prepaid",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "bDmvIvfbSOW3zEmkxjfqIg",
                            "route": "f/s/bDmvIvfbSOW3zEmkxjfqIg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "31ByOJEST3yX7KvAo5bRBg",
                            "route": "f/s/31ByOJEST3yX7KvAo5bRBg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "bDmvIvfbSOW3zEmkxjfqIg",
                            "route": "f/s/bDmvIvfbSOW3zEmkxjfqIg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "6pzDdYP_ToKx5q8voyhr5Q",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "yzhmPYiLSZujcpDy7GGalw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK, this means there\u2019s a connection problem between your *keypad* and the *meter*.\r\n\r\n1\ufe0f\u20e3 Please plug the keypad into an electrical plug closest to the meter\r\n2\ufe0f\u20e3 Make sure all switches are in the on position\r\n3\ufe0f\u20e3 Check that the keypad's batteries have been replaced, as they are not rechargeable"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "ConFail",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Gu9msLAoRcGdC1Vg1FoPgQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK, the keypad is busy connecting to the meter. \ud83d\udd04\r\n\r\nPlease wait up to *30 minutes* for the connection to complete."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "ConnEct",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "id": "DwaqtuFtRrKYWA6eYzV_8A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"credits\"",
                            "ref": "6pzDdYP_ToKx5q8voyhr5Q",
                            "route": "f/s/6pzDdYP_ToKx5q8voyhr5Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "DwaqtuFtRrKYWA6eYzV_8A",
                            "route": "f/s/DwaqtuFtRrKYWA6eYzV_8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "oWTqg5F1QZiYth5L8G-XEw",
                                            "style": "",
                                            "text": "\ud83d\udc4d I have credits",
                                            "transition": {
                                                "ref": "rybW5FAlRxisSGPCY3rDqA",
                                                "route": "f/s/rybW5FAlRxisSGPCY3rDqA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "zafQwJGDQ9G-ebD4yIvLig",
                                            "style": "",
                                            "text": "\ud83d\udc4e No credits",
                                            "transition": {
                                                "ref": "Av2HMGgFTu2LCxU_DkTrqQ",
                                                "route": "f/s/Av2HMGgFTu2LCxU_DkTrqQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Right. Were there *credits* on your meter when the electricity went off?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Credits",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "y9rMuvexR7OiKSbW4XjO7Q",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your meter has not been initialised, {{user.username}}. \r\n\r\nPlease enter the token *1275 4194 1448 6450 5970* to activate the meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "E01",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "id": "rybW5FAlRxisSGPCY3rDqA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"errors\"",
                            "ref": "6pzDdYP_ToKx5q8voyhr5Q",
                            "route": "f/s/6pzDdYP_ToKx5q8voyhr5Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "rybW5FAlRxisSGPCY3rDqA",
                            "route": "f/s/rybW5FAlRxisSGPCY3rDqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "PHjc8-2HQJ2dk-m7yQzx8g",
                                            "style": "",
                                            "text": "\ud83d\udc4d I see a code",
                                            "transition": {
                                                "ref": "F1ID6SIsQpi2h-giF-8XFA",
                                                "route": "f/s/F1ID6SIsQpi2h-giF-8XFA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "IvST2ttiQQivmRL2aRBrdg",
                                            "style": "",
                                            "text": "\ud83d\udc4e There\u2019s no code",
                                            "transition": {
                                                "label": "Faults: Symptoms",
                                                "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK.\r\n\r\nAnd can you see an *error* code displayed on the meter?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error code",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "31ByOJEST3yX7KvAo5bRBg",
                            "route": "f/s/31ByOJEST3yX7KvAo5bRBg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "OOYcglLRT36V_oBTSXqGZw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Fantastic! \ud83e\udd29\r\n\r\nIf there\u2019s anything else I can help you with, please feel free to tap below."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Fixed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "id": "Av2HMGgFTu2LCxU_DkTrqQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"no credits\"",
                            "ref": "6pzDdYP_ToKx5q8voyhr5Q",
                            "route": "f/s/6pzDdYP_ToKx5q8voyhr5Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Av2HMGgFTu2LCxU_DkTrqQ",
                            "route": "f/s/Av2HMGgFTu2LCxU_DkTrqQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "bvys-F9BTHivH7pRVuPLuA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Got it!",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "TA-5yDqqRZ2GP-Ov84CMkA",
                                                "route": "f/s/TA-5yDqqRZ2GP-Ov84CMkA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I see.\r\n\r\nWell then fixing your issue is simple{% if user.username %}, {{user.username}}{% endif %}. \ud83d\ude0a\r\n\r\nAll you have to do is buy some credits and load them to your meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No credits",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "VaMGqFyISdiKN72eDbZ4WA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your meter has not been activated, {{user.username}}.\r\n\r\nPlease enter the token *55555* to activate the meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "NOTAct",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "u6i11SxHQ8Oc_IjyIW2yEA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "This error indicates that your meter has been overloaded with too many electrical appliances. Wait 30 minutes, then use less appliances simultaneously"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "OUEr",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "id": "F1ID6SIsQpi2h-giF-8XFA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"codes\"",
                            "ref": "6pzDdYP_ToKx5q8voyhr5Q",
                            "route": "f/s/6pzDdYP_ToKx5q8voyhr5Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "F1ID6SIsQpi2h-giF-8XFA",
                            "route": "f/s/F1ID6SIsQpi2h-giF-8XFA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ZAt7iPAFRaCj_Eu-oJ2xiQ",
                                            "style": "list",
                                            "text": "...30.../Con_Fail/E07",
                                            "transition": {
                                                "code": "trans.desc__ = \"Might indicate a power issue.\"",
                                                "ref": "yzhmPYiLSZujcpDy7GGalw",
                                                "route": "f/s/yzhmPYiLSZujcpDy7GGalw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ibPj24m5TGmSr4C-5BuZgA",
                                            "style": "list",
                                            "text": "ConnEct",
                                            "transition": {
                                                "code": "trans.desc__ = \"This error indicates that the keypad is busy connecting to the meter.\"",
                                                "ref": "Gu9msLAoRcGdC1Vg1FoPgQ",
                                                "route": "f/s/Gu9msLAoRcGdC1Vg1FoPgQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "N80w85CwRfmSdGxa_HVfTw",
                                            "style": "list",
                                            "text": "USED",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that the token you entered has been used before.\"",
                                                "ref": "bx3g3oKMS52k9_Etmc5NvA",
                                                "route": "f/s/bx3g3oKMS52k9_Etmc5NvA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "B6_Mb3t-Qzm8kOi_8ktyDA",
                                            "style": "list",
                                            "text": "OUEr_Por",
                                            "transition": {
                                                "code": "trans.desc__ = \"This error indicates that your meter has been overloaded with too many electrical appliances.\"",
                                                "ref": "u6i11SxHQ8Oc_IjyIW2yEA",
                                                "route": "f/s/u6i11SxHQ8Oc_IjyIW2yEA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "rvcMdq9JSiincvs6Yko9NQ",
                                            "style": "list",
                                            "text": "NOT_Act",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that your meter has not been activated.\"",
                                                "ref": "VaMGqFyISdiKN72eDbZ4WA",
                                                "route": "f/s/VaMGqFyISdiKN72eDbZ4WA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "2s-pS9a_TLydtsK3L6hR8g",
                                            "style": "list",
                                            "text": "E01",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that your meter has not been initialised.\"",
                                                "ref": "y9rMuvexR7OiKSbW4XjO7Q",
                                                "route": "f/s/y9rMuvexR7OiKSbW4XjO7Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "J_Pi84lcSYK-H9XLQ1IpGQ",
                                            "style": "list",
                                            "text": "Faulty prepaid token",
                                            "transition": {
                                                "code": "trans.desc__ = \"Log a token issue.\"",
                                                "label": "Tokens: Not Loading",
                                                "ref": "yKVQvykuR_Kcwzcjlpu69w",
                                                "route": "f/w/yKVQvykuR_Kcwzcjlpu69w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "c2iO-f5YQkG0Xq816Aa3hw",
                                            "style": "list",
                                            "text": "Something else",
                                            "transition": {
                                                "code": "trans.desc__ = \"I have another issue.\"",
                                                "label": "Faults: Symptoms",
                                                "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "We\u2019re getting closer to figuring this out, {{user.username}}... \r\n\r\nWhich of these codes do you see?",
                                    "title": "Select code"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render codes",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"credits\"",
                            "ref": "DwaqtuFtRrKYWA6eYzV_8A",
                            "route": "f/s/DwaqtuFtRrKYWA6eYzV_8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"no credits\"",
                            "ref": "Av2HMGgFTu2LCxU_DkTrqQ",
                            "route": "f/s/Av2HMGgFTu2LCxU_DkTrqQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"errors\"",
                            "ref": "rybW5FAlRxisSGPCY3rDqA",
                            "route": "f/s/rybW5FAlRxisSGPCY3rDqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"codes\"",
                            "ref": "F1ID6SIsQpi2h-giF-8XFA",
                            "route": "f/s/F1ID6SIsQpi2h-giF-8XFA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"assistance\"",
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"power\"",
                            "ref": "DwaqtuFtRrKYWA6eYzV_8A",
                            "route": "f/s/DwaqtuFtRrKYWA6eYzV_8A",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "31ByOJEST3yX7KvAo5bRBg",
                            "route": "f/s/31ByOJEST3yX7KvAo5bRBg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bDmvIvfbSOW3zEmkxjfqIg",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "31ByOJEST3yX7KvAo5bRBg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "id": "stTCrV1cTvOLA1V_ISQMaA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"power\"",
                            "ref": "6pzDdYP_ToKx5q8voyhr5Q",
                            "route": "f/s/6pzDdYP_ToKx5q8voyhr5Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "stTCrV1cTvOLA1V_ISQMaA",
                            "route": "f/s/stTCrV1cTvOLA1V_ISQMaA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "9W6Rpk96TcuFL_yar5lWVg",
                                            "style": "",
                                            "text": "\ud83d\udca1 I have power",
                                            "transition": {
                                                "ref": "TA-5yDqqRZ2GP-Ov84CMkA",
                                                "route": "f/s/TA-5yDqqRZ2GP-Ov84CMkA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mJEXRTbvTOSWE9GNWDVlqQ",
                                            "style": "",
                                            "text": "\ud83d\udd6f\ufe0f I have no power",
                                            "transition": {
                                                "ref": "DwaqtuFtRrKYWA6eYzV_8A",
                                                "route": "f/s/DwaqtuFtRrKYWA6eYzV_8A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m sorry to hear you\u2019re having an electricity issue.\r\n\r\nTell me, do you currently have power?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Start debug",
                    "relatives": [
                        {
                            "location": "/editor/states/k3DAd-onR9-T0iSZ4jO0tw/#state:eND5ytQRS96YFEcXGBFbzw",
                            "name": "Bad request"
                        },
                        {
                            "location": "/editor/states/k3DAd-onR9-T0iSZ4jO0tw/#state:WLj2VMzqSf2vwWymvn5xjw",
                            "name": "Check outage"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "31ByOJEST3yX7KvAo5bRBg",
                            "route": "f/s/31ByOJEST3yX7KvAo5bRBg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "TA-5yDqqRZ2GP-Ov84CMkA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bx3g3oKMS52k9_Etmc5NvA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "It appears that the token you entered has been used before.\r\n\r\nPlease load the _correct_ token or purchase a _new_ token and try loading again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "USED",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                },
                {
                    "id": "p0CM3u68QFCrToiig4c0bg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"assistance\"",
                            "ref": "6pzDdYP_ToKx5q8voyhr5Q",
                            "route": "f/s/6pzDdYP_ToKx5q8voyhr5Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "p0CM3u68QFCrToiig4c0bg",
                            "route": "f/s/p0CM3u68QFCrToiig4c0bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "2wyhG7BXREyzf8QC6CA33A",
                                            "style": "",
                                            "text": "\ud83d\ude4c It\u2019s fixed",
                                            "transition": {
                                                "ref": "OOYcglLRT36V_oBTSXqGZw",
                                                "route": "f/s/OOYcglLRT36V_oBTSXqGZw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Ggr5rTrFREKP3G4B0pT-8w",
                                            "style": "",
                                            "text": "\ud83d\ude10 Not fixed",
                                            "transition": {
                                                "label": "Faults: Symptoms",
                                                "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Did that fix the issue?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Was I able to assist you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "iwxrOjGeRraRi4ohz8ky5Q",
                    "workflow_name": "Faults: Debug Prepaid"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "X7nFwJ3GTQCQ-Ou2VqTErA",
            "id": "DnJU93jkRti5yzGjBDDjIQ",
            "name": "Faults: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "FaDR8to_Sfa9UWtxokXfjw",
                            "route": "f/s/FaDR8to_Sfa9UWtxokXfjw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "HSf1dvn2QleBxCtSZZRQzw",
                            "route": "f/s/HSf1dvn2QleBxCtSZZRQzw",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "FaDR8to_Sfa9UWtxokXfjw",
                            "route": "f/s/FaDR8to_Sfa9UWtxokXfjw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "oPqZTXLpQn-ryYQ51vyXDQ",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "DnJU93jkRti5yzGjBDDjIQ",
                    "workflow_name": "Faults: Entrypoint"
                },
                {
                    "id": "VvG2aE3PSYWYtA2gY3S7aA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"follow up\"",
                            "ref": "oPqZTXLpQn-ryYQ51vyXDQ",
                            "route": "f/s/oPqZTXLpQn-ryYQ51vyXDQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "VvG2aE3PSYWYtA2gY3S7aA",
                            "route": "f/s/VvG2aE3PSYWYtA2gY3S7aA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "WuAHTYKoQBylgmNg8e2oSg",
                                            "style": "",
                                            "text": "\ud83d\ude03 I do",
                                            "transition": {
                                                "label": "Faults: Reference",
                                                "ref": "7VWvlCENT4ugIiEMF6BXJg",
                                                "route": "f/w/7VWvlCENT4ugIiEMF6BXJg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "crm1pgZ_SNGueIzYmydHrA",
                                            "style": "",
                                            "text": "\ud83d\ude41 I don\u2019t",
                                            "transition": {
                                                "label": "Faults: Follow Up",
                                                "ref": "ZcGWskz9S_qSsb1AzWDumA",
                                                "route": "f/w/ZcGWskz9S_qSsb1AzWDumA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "WfeXNpABQx-Oa-zPS1G5Uw",
                                            "style": "",
                                            "text": "\ud83d\udd19",
                                            "transition": {
                                                "ref": "X7nFwJ3GTQCQ-Ou2VqTErA",
                                                "route": "f/s/X7nFwJ3GTQCQ-Ou2VqTErA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Happy to help you with that...\r\n\r\nDo you have the reference number you received?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Follow up",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DnJU93jkRti5yzGjBDDjIQ",
                    "workflow_name": "Faults: Entrypoint"
                },
                {
                    "id": "X7nFwJ3GTQCQ-Ou2VqTErA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"faults\"",
                            "ref": "oPqZTXLpQn-ryYQ51vyXDQ",
                            "route": "f/s/oPqZTXLpQn-ryYQ51vyXDQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "X7nFwJ3GTQCQ-Ou2VqTErA",
                            "route": "f/s/X7nFwJ3GTQCQ-Ou2VqTErA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "perm.customer.prepaid",
                                            "id": "po9tRcRSTfaImEFtAsj5bg",
                                            "style": "",
                                            "text": "\u2757\ufe0fReport",
                                            "transition": {
                                                "label": "Faults: Prepaid",
                                                "ref": "k3DAd-onR9-T0iSZ4jO0tw",
                                                "route": "f/w/k3DAd-onR9-T0iSZ4jO0tw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "perm.customer.postpaid",
                                            "id": "-rOE-N5ZQpW3EbRTmt80TA",
                                            "style": "",
                                            "text": "\u2757\ufe0fReport",
                                            "transition": {
                                                "label": "Faults: Postpaid",
                                                "ref": "Ei5N-sp7TwG-DZFdS9hyjw",
                                                "route": "f/w/Ei5N-sp7TwG-DZFdS9hyjw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "GWPOwgS1R3K3ZjGQTAbpiw",
                                            "style": "",
                                            "text": "\ud83d\udd0d Follow up",
                                            "transition": {
                                                "ref": "VvG2aE3PSYWYtA2gY3S7aA",
                                                "route": "f/s/VvG2aE3PSYWYtA2gY3S7aA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019ve got you, {{user.username}}.\r\n\r\nWould you like to report a new outage or follow up on one you reported earlier?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Options",
                    "relatives": [
                        {
                            "location": "/editor/states/ehWkPYp5TOyOk2BVu3MpTg/#state:hsyAkiBwS6quOdgxw6xziQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ZcGWskz9S_qSsb1AzWDumA/#state:96oaF54NS2WFtFD_PHOB-A",
                            "name": "No supply"
                        },
                        {
                            "location": "/editor/states/7VWvlCENT4ugIiEMF6BXJg/#state:RtkDUezWQVG66_UR6KMGPA",
                            "name": "No supply"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DnJU93jkRti5yzGjBDDjIQ",
                    "workflow_name": "Faults: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"faults\"",
                            "ref": "X7nFwJ3GTQCQ-Ou2VqTErA",
                            "route": "f/s/X7nFwJ3GTQCQ-Ou2VqTErA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"follow up\"",
                            "ref": "VvG2aE3PSYWYtA2gY3S7aA",
                            "route": "f/s/VvG2aE3PSYWYtA2gY3S7aA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "HSf1dvn2QleBxCtSZZRQzw",
                            "route": "f/s/HSf1dvn2QleBxCtSZZRQzw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "FaDR8to_Sfa9UWtxokXfjw",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "DnJU93jkRti5yzGjBDDjIQ",
                    "workflow_name": "Faults: Entrypoint"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "HSf1dvn2QleBxCtSZZRQzw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "DnJU93jkRti5yzGjBDDjIQ",
                    "workflow_name": "Faults: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "LDH_zHgqQ_qEh30fJEkXGA",
            "id": "ZcGWskz9S_qSsb1AzWDumA",
            "name": "Faults: Follow Up",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "hVnN40kqQ1a1zaYI5Dbxng",
                    "method": "GET",
                    "name": "API: Get fault history",
                    "on_error": {
                        "transition": {
                            "ref": "sMHw_hNkSeevfQVu6hqevw",
                            "route": "f/s/sMHw_hNkSeevfQVu6hqevw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "W-zok5QIRgee6n8IAd36Ow",
                            "route": "f/s/W-zok5QIRgee6n8IAd36Ow",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.history"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/history?token=mock&location={{trans.location}}&account={{trans.account_number}}&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.fault_text = trans.fault.last",
                            "guard": "trans.history.cases",
                            "ref": "Xz7BS3VhSGedYh0fokrQUQ",
                            "route": "f/s/Xz7BS3VhSGedYh0fokrQUQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "eLE4BBnZQdaklwhaKeTOBw",
                            "route": "f/s/eLE4BBnZQdaklwhaKeTOBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "W-zok5QIRgee6n8IAd36Ow",
                    "name": "Check history",
                    "type": "decision",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "id": "nzEeBgPuQj-XBaYUd1NMaQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ie02Oby8ShO6NWhNznw95w",
                            "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "nzEeBgPuQj-XBaYUd1NMaQ",
                            "route": "f/s/nzEeBgPuQj-XBaYUd1NMaQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "xNokoKlBS5KJ6tzaZ5nBHw",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "96oaF54NS2WFtFD_PHOB-A",
                                                "route": "f/s/96oaF54NS2WFtFD_PHOB-A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mSYEz61mSm-1g94SeHXbFg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "OrkekqVNREK8gKNtW68OYg",
                                                "route": "f/s/OrkekqVNREK8gKNtW68OYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Do you need help?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "id": "LDH_zHgqQ_qEh30fJEkXGA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.account_number"
                            }
                        ],
                        "transition": {
                            "ref": "urF6Cm8lTsG2N4WH29je1A",
                            "route": "f/s/urF6Cm8lTsG2N4WH29je1A",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "LDH_zHgqQ_qEh30fJEkXGA",
                            "route": "f/s/LDH_zHgqQ_qEh30fJEkXGA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "That\u2019s OK.\r\n\r\nWill you please confirm your account number for me?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter account number",
                    "relatives": [
                        {
                            "location": "/editor/states/DnJU93jkRti5yzGjBDDjIQ/#state:VvG2aE3PSYWYtA2gY3S7aA",
                            "name": "Follow up"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "id": "eLE4BBnZQdaklwhaKeTOBw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ie02Oby8ShO6NWhNznw95w",
                            "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "eLE4BBnZQdaklwhaKeTOBw",
                            "route": "f/s/eLE4BBnZQdaklwhaKeTOBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "x0AU3DuqRRWLD_Jqe6Y_dQ",
                                            "style": "",
                                            "text": "\ud83d\udd04 Try again",
                                            "transition": {
                                                "code": "trans.history_counter += 1",
                                                "ref": "hVnN40kqQ1a1zaYI5Dbxng",
                                                "route": "f/s/hVnN40kqQ1a1zaYI5Dbxng",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mB3q9xsJTnCRk6vaPQew4A",
                                            "style": "",
                                            "text": "\u23f9\ufe0f No thanks",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ie02Oby8ShO6NWhNznw95w",
                                                "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Sorry, I\u2019m having some trouble getting an update on that for you... would you like me to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "code": "del trans.entities\r\ndel trans.entity_name\r\ndel trans.key\r\ndel trans.faults\r\ndel trans.list_description\r\ndel trans.singular",
                    "decisions": [
                        {
                            "guard": "trans.content",
                            "ref": "H2cL2cHRSfifX_w7ABMbow",
                            "route": "f/s/H2cL2cHRSfifX_w7ABMbow",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.account_number\r\ndel trans.utterance",
                            "guard": "trans.navigation.input",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.account_number\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "DyKmfBktR3CsR3_zDcEU-Q",
                    "name": "Get location",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.entities = perm.customer.premises\r\ntrans.entity_name = \"locations\"\r\ntrans.key = \"description\"\r\ntrans.list_description = \"I see you have multiple locations linked to your account....\\n\\nWhich of these do you want to follow up on?\\n\\n\"\r\ntrans.singular = \"location\"",
                        "label": "Reusable: Paginator",
                        "ref": "k74yrz38QqSM0fOBm_3N1g",
                        "route": "f/w/k74yrz38QqSM0fOBm_3N1g",
                        "type": "workflow"
                    },
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "5N9phk1bSoOunxnGmW4mBw",
                    "name": "Main menu",
                    "type": "decision",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "id": "96oaF54NS2WFtFD_PHOB-A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ie02Oby8ShO6NWhNznw95w",
                            "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "96oaF54NS2WFtFD_PHOB-A",
                            "route": "f/s/96oaF54NS2WFtFD_PHOB-A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "t31OQNF8Sv6hce7qPzU0wQ",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "del trans.utterance\r\ndel trans.account_number\r\ndel trans.history\r\ndel trans.content\r\ndel trans.location",
                                                "label": "Faults: Entrypoint",
                                                "ref": "DnJU93jkRti5yzGjBDDjIQ",
                                                "route": "f/w/DnJU93jkRti5yzGjBDDjIQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "UBLPBzFrTXOlJA-ctyW66Q",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ie02Oby8ShO6NWhNznw95w",
                                                "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Then it sounds like you just have no supply \u2013 without any obvious or visible reason. \r\n\r\nIs that right?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No supply",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "id": "R3rYN206TY65IPo22hPAUQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ie02Oby8ShO6NWhNznw95w",
                            "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "R3rYN206TY65IPo22hPAUQ",
                            "route": "f/s/R3rYN206TY65IPo22hPAUQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "p4cYojgnSFahtVL_YaMdJA",
                                            "style": "",
                                            "text": "\ud83d\udd04 Re-enter",
                                            "transition": {
                                                "ref": "LDH_zHgqQ_qEh30fJEkXGA",
                                                "route": "f/s/LDH_zHgqQ_qEh30fJEkXGA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "zyizPZOgSmazzjgd7hoJFg",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ie02Oby8ShO6NWhNznw95w",
                                                "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m afraid I don\u2019t have that account on my system or there are no faults associated with it.\r\n\r\nYou can re-enter the number if you think you made a mistake."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "id": "On8SYrfiT6iscGvJX-UchQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance = \"menu\""
                            }
                        ],
                        "transition": {
                            "ref": "ie02Oby8ShO6NWhNznw95w",
                            "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "On8SYrfiT6iscGvJX-UchQ",
                            "route": "f/s/On8SYrfiT6iscGvJX-UchQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "0BSB5UenSZ2MnnPkUnZ9Rw",
                                            "style": "",
                                            "text": "\ud83d\udd04 Re-enter",
                                            "transition": {
                                                "ref": "LDH_zHgqQ_qEh30fJEkXGA",
                                                "route": "f/s/LDH_zHgqQ_qEh30fJEkXGA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "eG6MblxgRRGTsfnoGQRU_A",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ie02Oby8ShO6NWhNznw95w",
                                                "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thank you, {{user.username}}.\r\n\r\nUnfortunately that account number isn\u2019t linked this account.\r\n\r\nYou can re-enter the number if you think you made a mistake."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not verified",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "nzEeBgPuQj-XBaYUd1NMaQ",
                            "route": "f/s/nzEeBgPuQj-XBaYUd1NMaQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Xz7BS3VhSGedYh0fokrQUQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "{{trans.fault_text}}\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render content",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.account_number\r\ndel trans.history\r\ndel trans.content\r\ndel trans.location\r\ndel trans.history_counter",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\ndel trans.utterance\r\ndel trans.account_number\r\ndel trans.history\r\ndel trans.content\r\ndel trans.location\r\ndel trans.history_counter",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "ie02Oby8ShO6NWhNznw95w",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.location = trans.content[\"mrid\"]\r\ntrans.history_counter = 0",
                            "ref": "hVnN40kqQ1a1zaYI5Dbxng",
                            "route": "f/s/hVnN40kqQ1a1zaYI5Dbxng",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "H2cL2cHRSfifX_w7ABMbow",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "*id: _{{trans.content.mrid}}_*\r\n*Description: {{trans.content.description}}*"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Show locations",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "ie02Oby8ShO6NWhNznw95w",
                            "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "OrkekqVNREK8gKNtW68OYg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "id": "65Y4VBieT0midRnwMfY7gg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ie02Oby8ShO6NWhNznw95w",
                            "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "65Y4VBieT0midRnwMfY7gg",
                            "route": "f/s/65Y4VBieT0midRnwMfY7gg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "uyHXGa54Q6-AV-6Brav5ow",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ie02Oby8ShO6NWhNznw95w",
                                                "route": "f/s/ie02Oby8ShO6NWhNznw95w",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "gqvBIusERvCyw71PGfMksg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "OrkekqVNREK8gKNtW68OYg",
                                                "route": "f/s/OrkekqVNREK8gKNtW68OYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "It\u2019s still not working \u2013 I\u2019m so sorry, {{user.username}}!\r\n\r\nI\u2019ll need some time to look into this, so please try again later.\r\n\r\nIn the meantime, do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Tries exhausted",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.account_number == perm.customer.account",
                            "ref": "ImegQWsPRdK58sT-zKIEdA",
                            "route": "f/s/ImegQWsPRdK58sT-zKIEdA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "On8SYrfiT6iscGvJX-UchQ",
                            "route": "f/s/On8SYrfiT6iscGvJX-UchQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "urF6Cm8lTsG2N4WH29je1A",
                    "name": "Validate account",
                    "type": "decision",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "DyKmfBktR3CsR3_zDcEU-Q",
                            "route": "f/s/DyKmfBktR3CsR3_zDcEU-Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ImegQWsPRdK58sT-zKIEdA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Thank you, {{user.username}}!\r\n\r\nYou\u2019ve been successfully verified. \ud83d\ude0a"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Verified",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.history_counter > 2",
                            "ref": "65Y4VBieT0midRnwMfY7gg",
                            "route": "f/s/65Y4VBieT0midRnwMfY7gg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "R3rYN206TY65IPo22hPAUQ",
                            "route": "f/s/R3rYN206TY65IPo22hPAUQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "eLE4BBnZQdaklwhaKeTOBw",
                            "route": "f/s/eLE4BBnZQdaklwhaKeTOBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "sMHw_hNkSeevfQVu6hqevw",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "ZcGWskz9S_qSsb1AzWDumA",
                    "workflow_name": "Faults: Follow Up"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "nmWdeWczSpee2mYmvVOo9Q",
            "id": "Ei5N-sp7TwG-DZFdS9hyjw",
            "name": "Faults: Postpaid",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "LLT1GJbYS26zNkXGUcWmOA",
                            "route": "f/s/LLT1GJbYS26zNkXGUcWmOA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "y6yOt2WFQYGLCyq0xbj-AQ",
                            "route": "f/s/y6yOt2WFQYGLCyq0xbj-AQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "LLT1GJbYS26zNkXGUcWmOA",
                            "route": "f/s/LLT1GJbYS26zNkXGUcWmOA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "GmxHYJE6SU6k9eOcOKohVA",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "IidMkONxSBmUopbFba3BYQ",
                    "method": "GET",
                    "name": "API: Get ongoing fault",
                    "on_error": {
                        "transition": {
                            "ref": "7eqBpewOSfupYfpEBJcEIQ",
                            "route": "f/s/7eqBpewOSfupYfpEBJcEIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "AKVgcrz0SuCVCmCBDoKZ6g",
                            "route": "f/s/AKVgcrz0SuCVCmCBDoKZ6g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.outage"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/on-going?token=mock&account={{perm.customer.account}}&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "code": "possible_faults = \" - \".join([x.get(\"description\", \"\").lower() for x in trans.outage.get(\"faults\", [{}])])\r\n\r\ntrans.outages = \"outage\" in possible_faults",
                    "decisions": [
                        {
                            "guard": "trans.outages",
                            "ref": "NzM-xqiyThWZnZAbsCjt4g",
                            "route": "f/s/NzM-xqiyThWZnZAbsCjt4g",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.utterance\r\ndel trans.outage\r\ndel trans.outages\r\ndel trans.location\r\ndel trans.account_number",
                            "label": "Faults: Symptoms",
                            "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                            "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "AKVgcrz0SuCVCmCBDoKZ6g",
                    "name": "Check outage",
                    "type": "decision",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "id": "yyA__hrvTQqon2gNVVkm8w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"faults\"",
                            "ref": "GmxHYJE6SU6k9eOcOKohVA",
                            "route": "f/s/GmxHYJE6SU6k9eOcOKohVA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "yyA__hrvTQqon2gNVVkm8w",
                            "route": "f/s/yyA__hrvTQqon2gNVVkm8w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ijFrm1WmQwKuGTSPPd0LZg",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "IidMkONxSBmUopbFba3BYQ",
                                                "route": "f/s/IidMkONxSBmUopbFba3BYQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "02UwQ8tZR6-DEfe1u8_-bg",
                                            "style": "",
                                            "text": "Menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "pl0Lven3SlS4EfKJY0-1LQ",
                                                "route": "f/s/pl0Lven3SlS4EfKJY0-1LQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry, {{user.username}} \u2013 I can\u2019t seem to connect to the system just this minute.\r\n\r\nPlease give it a few minutes and try again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "id": "NzM-xqiyThWZnZAbsCjt4g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"outage\"",
                            "ref": "GmxHYJE6SU6k9eOcOKohVA",
                            "route": "f/s/GmxHYJE6SU6k9eOcOKohVA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "NzM-xqiyThWZnZAbsCjt4g",
                            "route": "f/s/NzM-xqiyThWZnZAbsCjt4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "AiTk8xefTuWQ9Cy2m-SpHQ",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "y6yOt2WFQYGLCyq0xbj-AQ",
                                                "route": "f/s/y6yOt2WFQYGLCyq0xbj-AQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019ve got good news and bad news for you, {{user.username}}...\r\n\r\nThe bad news is there is an outage in your area and we are aware of it.\r\n\r\nThe good news is the team is working hard to get power restored to you. \ud83d\udc77\r\n\r\nI really am sorry for this inconvenience.\r\n\r\nTap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Known outage",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "id": "8uNW1qOESJCzAGsPAjD5Jw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "y6yOt2WFQYGLCyq0xbj-AQ",
                            "route": "f/s/y6yOt2WFQYGLCyq0xbj-AQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "8uNW1qOESJCzAGsPAjD5Jw",
                            "route": "f/s/8uNW1qOESJCzAGsPAjD5Jw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "EReD_QjzS2qiPHLluo8Agg",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "code": "del trans.utterance\r\ndel trans.outage\r\ndel trans.outages\r\ndel trans.location\r\ndel trans.account_number",
                                                "label": "Faults: Symptoms",
                                                "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "wW9ABEM7Th2pmWnjFGin_A",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "pl0Lven3SlS4EfKJY0-1LQ",
                                                "route": "f/s/pl0Lven3SlS4EfKJY0-1LQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was a technical error while checking your account for possible outages in your area.\r\n\r\nWould still like to report the fault?\r\n\r\n*_DEV NOTES: This user has not been found from CC&I using the acccount they logged in with. This should never happen unless on the mock server, if it does we need to decide what to do_*"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"faults\"",
                            "ref": "yyA__hrvTQqon2gNVVkm8w",
                            "route": "f/s/yyA__hrvTQqon2gNVVkm8w",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"outage\"",
                            "ref": "NzM-xqiyThWZnZAbsCjt4g",
                            "route": "f/s/NzM-xqiyThWZnZAbsCjt4g",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "y6yOt2WFQYGLCyq0xbj-AQ",
                            "route": "f/s/y6yOt2WFQYGLCyq0xbj-AQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "LLT1GJbYS26zNkXGUcWmOA",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.outage\r\ndel trans.outages\r\ndel trans.location\r\ndel trans.account_number",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\ndel trans.utterance\r\ndel trans.outage\r\ndel trans.outages\r\ndel trans.location\r\ndel trans.account_number",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "y6yOt2WFQYGLCyq0xbj-AQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.context.premise",
                            "ref": "IidMkONxSBmUopbFba3BYQ",
                            "route": "f/s/IidMkONxSBmUopbFba3BYQ",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        {
                            "guard": "trans.utterance",
                            "ref": "y6yOt2WFQYGLCyq0xbj-AQ",
                            "route": "f/s/y6yOt2WFQYGLCyq0xbj-AQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "nmWdeWczSpee2mYmvVOo9Q",
                    "name": "Select premise",
                    "relatives": [
                        {
                            "location": "/editor/states/DnJU93jkRti5yzGjBDDjIQ/#state:X7nFwJ3GTQCQ-Ou2VqTErA",
                            "name": "Options"
                        }
                    ],
                    "type": "wflow_call",
                    "wflow": {
                        "label": "Reusable: Select Premise",
                        "ref": "ET4-PmNlTQKtkfkF2vk-tQ",
                        "route": "f/w/ET4-PmNlTQKtkfkF2vk-tQ",
                        "type": "workflow"
                    },
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "y6yOt2WFQYGLCyq0xbj-AQ",
                            "route": "f/s/y6yOt2WFQYGLCyq0xbj-AQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "pl0Lven3SlS4EfKJY0-1LQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "8uNW1qOESJCzAGsPAjD5Jw",
                            "route": "f/s/8uNW1qOESJCzAGsPAjD5Jw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "yyA__hrvTQqon2gNVVkm8w",
                            "route": "f/s/yyA__hrvTQqon2gNVVkm8w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "7eqBpewOSfupYfpEBJcEIQ",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "Ei5N-sp7TwG-DZFdS9hyjw",
                    "workflow_name": "Faults: Postpaid"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "1zHy4bw-TFyNrw0Cn84yXg",
            "id": "k3DAd-onR9-T0iSZ4jO0tw",
            "name": "Faults: Prepaid",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "9UOmAnpfTAy4DOzMOyit1g",
                            "route": "f/s/9UOmAnpfTAy4DOzMOyit1g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "9UOmAnpfTAy4DOzMOyit1g",
                            "route": "f/s/9UOmAnpfTAy4DOzMOyit1g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "JaZ4xOCxRWGFveqYtN3FKA",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"Header\":{\r\n        \"Verb\":\"create\",\r\n        \"Noun\":\"CUSTOMER FAULT\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Payload\":{\r\n        \"Cases\":{\r\n            \"Case\":{\r\n                \"description\": trans.description,\r\n                \"serviceType\":\"IsolatedEskomFaultCaseED\",\r\n                \"symptom\":\"61\",\r\n                \"Account\":{\r\n                    \"accountNumber\":perm.customer.account\r\n                },\r\n                \"ServiceLocation\":{\r\n                    \"mRID\":perm.customer.premises[0][\"mrid\"]\r\n                },\r\n                \"WorkRequest\":{\r\n                    \"StreetAddress\":{\r\n                        \"description\":\"None\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                    "code": "trans.date = str(datetime.now())\r\ntrans.message_id = perm.msisdn_on_bot + \"-\" + trans.date[0:16] + \"-\" + perm.customer[\"account\"]\r\ntrans.message_id = trans.message_id.replace(\" \", \"\")\r\nzero = \"zero\" if perm.customer.zero_buyer else \"low\"\r\ntrans.description = \"Investigate Meter, this Meter flagged as \" + zero + \" Buyer\"\r\nif trans.with_proof:\r\n    trans.description += \" - proof: \" + trans.url\r\ntrans.province = perm.customer.premises[0][\"province\"]",
                    "format": "JSON",
                    "id": "2Ry_-BrFRR-afc-2-_7udg",
                    "method": "POST",
                    "name": "API: Meter audit",
                    "on_error": {
                        "transition": {
                            "ref": "UVVhprzZTuq0S01IfbJQRw",
                            "route": "f/s/UVVhprzZTuq0S01IfbJQRw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "BB4WCwDETday9KEj8HCUBw",
                            "route": "f/s/BB4WCwDETday9KEj8HCUBw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.fault"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/?token=mock&province={{trans.province}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "1zHy4bw-TFyNrw0Cn84yXg",
                    "method": "GET",
                    "name": "API: On going fault",
                    "on_error": {
                        "transition": {
                            "ref": "E9K05HdARSui3gCfBwSvBw",
                            "route": "f/s/E9K05HdARSui3gCfBwSvBw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "WLj2VMzqSf2vwWymvn5xjw",
                            "route": "f/s/WLj2VMzqSf2vwWymvn5xjw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.outage"
                    },
                    "relatives": [
                        {
                            "location": "/editor/states/DnJU93jkRti5yzGjBDDjIQ/#state:X7nFwJ3GTQCQ-Ou2VqTErA",
                            "name": "Options"
                        }
                    ],
                    "resource": "{{const.MIDDLEWARE}}/faults/on-going?token=mock&account={{perm.customer.prepaid_meter}}&prepaid=true&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "id": "eND5ytQRS96YFEcXGBFbzw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "eND5ytQRS96YFEcXGBFbzw",
                            "route": "f/s/eND5ytQRS96YFEcXGBFbzw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "gYhHRhCpSeOLIqPvRaMJ9Q",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "code": "del trans.outage\r\ndel trans.outages",
                                                "label": "Faults: Debug Prepaid",
                                                "ref": "iwxrOjGeRraRi4ohz8ky5Q",
                                                "route": "f/w/iwxrOjGeRraRi4ohz8ky5Q",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "wx9gZ7vAR8ib2dJcFBUKdQ",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "E8lphd0aS3m37bq7XT9T1A",
                                                "route": "f/s/E8lphd0aS3m37bq7XT9T1A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was a technical error while checking your account for possible outages in your area.\r\n\r\nWould still like to report the fault?\r\n\r\n*_DEV NOTES: This user has not been found from CC&I using the acccount they logged in with. This should never happen, unless of a malformed or mock request if it does we need to decide what to do_*"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Bad request",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "code": "possible_faults = \" - \".join([x.get(\"description\", \"\").lower() for x in trans.outage.get(\"faults\", [{}])])\r\n\r\ntrans.outages = \"outage\" in possible_faults",
                    "decisions": [
                        {
                            "guard": "perm.customer.low_buyer or perm.customer.zero_buyer",
                            "ref": "gTXCKtKWQyyDTkO7RQ2dDQ",
                            "route": "f/s/gTXCKtKWQyyDTkO7RQ2dDQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.outages",
                            "ref": "iHU1LfVwQbOCzRWH3tdzVA",
                            "route": "f/s/iHU1LfVwQbOCzRWH3tdzVA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.fault\r\ndel trans.payload\r\ndel trans.utterance\r\ndel trans.outage\r\ndel trans.outages\r\ndel trans.attachment\r\ndel trans.url\r\ndel trans.date\r\ndel trans.message_id\r\ndel trans.description\r\ndel trans.with_proof\r\ndel trans.logged",
                            "label": "Faults: Debug Prepaid",
                            "ref": "iwxrOjGeRraRi4ohz8ky5Q",
                            "route": "f/w/iwxrOjGeRraRi4ohz8ky5Q",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "WLj2VMzqSf2vwWymvn5xjw",
                    "name": "Check outage",
                    "type": "decision",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.fault.reference_number and trans.with_proof",
                            "ref": "Pb51h4bJQLCRYbYzhwc--g",
                            "route": "f/s/Pb51h4bJQLCRYbYzhwc--g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.fault.reference_number",
                            "ref": "67QPC5BkTWuFhuSPvKaMMw",
                            "route": "f/s/67QPC5BkTWuFhuSPvKaMMw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "UVVhprzZTuq0S01IfbJQRw",
                            "route": "f/s/UVVhprzZTuq0S01IfbJQRw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "BB4WCwDETday9KEj8HCUBw",
                    "name": "Created?",
                    "type": "decision",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "id": "TI9H6T2uRyC3U50G81LplA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "TI9H6T2uRyC3U50G81LplA",
                            "route": "f/s/TI9H6T2uRyC3U50G81LplA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "4THObzWqR1afIew6RxJwDw",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "_nNShu_jQyW-tsWV-2Ee5A",
                                                "route": "f/s/_nNShu_jQyW-tsWV-2Ee5A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "GubwDpx_QgK6fVGgy0b6ew",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "E8lphd0aS3m37bq7XT9T1A",
                                                "route": "f/s/E8lphd0aS3m37bq7XT9T1A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error uploading your image. Would you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error with image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "id": "NB2w61fwSd-FV0Djq2nXtw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "NB2w61fwSd-FV0Djq2nXtw",
                            "route": "f/s/NB2w61fwSd-FV0Djq2nXtw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "XZGcYk4ZSISO4w49Ohwv3Q",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "code": "del trans.outage\r\ndel trans.outages",
                                                "ref": "1zHy4bw-TFyNrw0Cn84yXg",
                                                "route": "f/s/1zHy4bw-TFyNrw0Cn84yXg",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "8RiqufHBSR6w8sAbiskeZw",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "E8lphd0aS3m37bq7XT9T1A",
                                                "route": "f/s/E8lphd0aS3m37bq7XT9T1A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry, {{user.username}} \u2013 I can\u2019t seem to connect to the system just this minute.\r\n\r\nPlease give it a few minutes and try again. Would you like to retry now?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "id": "_nNShu_jQyW-tsWV-2Ee5A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "v0Ha9qB8RyCmvJ7EXkQYSg",
                            "route": "f/s/v0Ha9qB8RyCmvJ7EXkQYSg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Great \u2013 hopefully we can get this misunderstanding sorted!\r\n\r\nPlease take a photo and send it to me now or upload a photo you took earlier.\r\n\r\n\ud83d\udcf8 Make sure all details needed to verify the purchase (for example, the amount, token number and date) are clearly visible in your picture."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Let's sort it",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "id": "gTXCKtKWQyyDTkO7RQ2dDQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"faults\"",
                            "ref": "JaZ4xOCxRWGFveqYtN3FKA",
                            "route": "f/s/JaZ4xOCxRWGFveqYtN3FKA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "gTXCKtKWQyyDTkO7RQ2dDQ",
                            "route": "f/s/gTXCKtKWQyyDTkO7RQ2dDQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "km-J9pkoQleLjgDuUbasyQ",
                                            "style": "",
                                            "text": "\ud83d\udc4d I have proof",
                                            "transition": {
                                                "code": "trans.with_proof = True",
                                                "ref": "_nNShu_jQyW-tsWV-2Ee5A",
                                                "route": "f/s/_nNShu_jQyW-tsWV-2Ee5A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "6-EZQinjRCaHLYiAcOKyXQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e I don\u2019t",
                                            "transition": {
                                                "ref": "2Ry_-BrFRR-afc-2-_7udg",
                                                "route": "f/s/2Ry_-BrFRR-afc-2-_7udg",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m sorry, {{user.username}} \u2013 some irregularities have been flagged on your account.\r\n\r\nEskom will have to audit you before you can report any outages.\r\n\r\nIf you send me proof of purchases (e.g. a recent electricity slip), I can share it with the team to review.\r\n\r\nDo you have this?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Low buyer",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "UVVhprzZTuq0S01IfbJQRw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was an error creating a ticket for your meter audit, please try again later."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not created",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "E8lphd0aS3m37bq7XT9T1A",
                            "route": "f/s/E8lphd0aS3m37bq7XT9T1A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "iHU1LfVwQbOCzRWH3tdzVA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I\u2019ve got good news and bad news for you{% if user.username %}, {{name}}{% endif %}...\r\n\r\nThe bad news is there is an outage in your area and we are aware of it.\r\n\r\nThe good news is the team is working hard to get power restored to you. \ud83d\udc77\r\n\r\nI really am sorry for this inconvenience.\r\n\r\nTap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "On going outage",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "67QPC5BkTWuFhuSPvKaMMw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I see.\r\n\r\nThe reference number for your audit is {{trans.fault.reference_number}}.\r\n\r\nPlease tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Reference",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"faults\"",
                            "ref": "gTXCKtKWQyyDTkO7RQ2dDQ",
                            "route": "f/s/gTXCKtKWQyyDTkO7RQ2dDQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"audit\"",
                            "ref": "Pb51h4bJQLCRYbYzhwc--g",
                            "route": "f/s/Pb51h4bJQLCRYbYzhwc--g",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "9UOmAnpfTAy4DOzMOyit1g",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.outage\r\ndel trans.outages\r\ndel trans.attachment\r\ndel trans.url\r\ndel trans.date\r\ndel trans.message_id\r\ndel trans.description\r\ndel trans.with_proof\r\ndel trans.logged\r\ndel trans.fault\r\ndel trans.province",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\ndel trans.fault\r\ndel trans.utterance\r\ndel trans.outage\r\ndel trans.outages\r\ndel trans.attachment\r\ndel trans.url\r\ndel trans.date\r\ndel trans.message_id\r\ndel trans.description\r\ndel trans.with_proof\r\ndel trans.logged\r\ndel trans.province",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "o4bmHP0HQRWq2bZDPRRBqQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.context.premise",
                            "ref": "1zHy4bw-TFyNrw0Cn84yXg",
                            "route": "f/s/1zHy4bw-TFyNrw0Cn84yXg",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        {
                            "guard": "trans.utterance",
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "02zZhbbiRTWAiVX9v2v_cg",
                    "name": "Select premise",
                    "type": "wflow_call",
                    "wflow": {
                        "label": "Reusable: Select Premise",
                        "ref": "ET4-PmNlTQKtkfkF2vk-tQ",
                        "route": "f/w/ET4-PmNlTQKtkfkF2vk-tQ",
                        "type": "workflow"
                    },
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                            "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "E8lphd0aS3m37bq7XT9T1A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "code": "trans.attachment = trans.__previous_message_meta__.get(\"whatsapp\", {})",
                    "decisions": [
                        {
                            "code": "trans.url = trans.attachment[\"image\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.image",
                            "ref": "2Ry_-BrFRR-afc-2-_7udg",
                            "route": "f/s/2Ry_-BrFRR-afc-2-_7udg",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "TI9H6T2uRyC3U50G81LplA",
                            "route": "f/s/TI9H6T2uRyC3U50G81LplA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "v0Ha9qB8RyCmvJ7EXkQYSg",
                    "name": "Validate image",
                    "type": "decision",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "id": "Pb51h4bJQLCRYbYzhwc--g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"audit\"",
                            "ref": "JaZ4xOCxRWGFveqYtN3FKA",
                            "route": "f/s/JaZ4xOCxRWGFveqYtN3FKA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Pb51h4bJQLCRYbYzhwc--g",
                            "route": "f/s/Pb51h4bJQLCRYbYzhwc--g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "-FiknqX0StiFON0Z3EAIPg",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "o4bmHP0HQRWq2bZDPRRBqQ",
                                                "route": "f/s/o4bmHP0HQRWq2bZDPRRBqQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "m3mOuIjDRrKDO4sgr-EirQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "E8lphd0aS3m37bq7XT9T1A",
                                                "route": "f/s/E8lphd0aS3m37bq7XT9T1A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thank you, {{user.username}}!\r\n\r\nI\u2019ll share this with our team for review during your audit.\r\n\r\nYour reference number is: {{trans.fault.reference_number}}\r\n\r\nIn the meantime, do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "We will be in contact",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 400",
                            "ref": "eND5ytQRS96YFEcXGBFbzw",
                            "route": "f/s/eND5ytQRS96YFEcXGBFbzw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "NB2w61fwSd-FV0Djq2nXtw",
                            "route": "f/s/NB2w61fwSd-FV0Djq2nXtw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "E9K05HdARSui3gCfBwSvBw",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "k3DAd-onR9-T0iSZ4jO0tw",
                    "workflow_name": "Faults: Prepaid"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "sALyq6JIQo68CpFiBxrpgA",
            "id": "7VWvlCENT4ugIiEMF6BXJg",
            "name": "Faults: Reference",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "0wufN2INT_eChj2hJtLhug",
                    "method": "GET",
                    "name": "API: Retrieve fault",
                    "on_error": {
                        "transition": {
                            "ref": "nwY66C-iSB-99mxlpbS53g",
                            "route": "f/s/nwY66C-iSB-99mxlpbS53g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "PUkXPelDQbq8Cy5UIEe7yw",
                            "route": "f/s/PUkXPelDQbq8Cy5UIEe7yw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.fault"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/?token=mock&case={{trans.reference_number}}&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 30,
                    "type": "api_call",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.fault_text = trans.fault.last",
                            "guard": "trans.fault.cases",
                            "ref": "kuFNGnqYS2igVJwIXxvjpA",
                            "route": "f/s/kuFNGnqYS2igVJwIXxvjpA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "XoRIo5QKSoCoLO1vjFkYIQ",
                            "route": "f/s/XoRIo5QKSoCoLO1vjFkYIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "PUkXPelDQbq8Cy5UIEe7yw",
                    "name": "Check fault",
                    "type": "decision",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.reference_number = trans.reference\r\ndel trans.reference",
                            "guard": "trans.reference",
                            "ref": "0wufN2INT_eChj2hJtLhug",
                            "route": "f/s/0wufN2INT_eChj2hJtLhug",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "e1TnV04ITVyOy3YVrgu5Sw",
                            "route": "f/s/e1TnV04ITVyOy3YVrgu5Sw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "sALyq6JIQo68CpFiBxrpgA",
                    "name": "Check reference",
                    "relatives": [
                        {
                            "location": "/editor/states/DnJU93jkRti5yzGjBDDjIQ/#state:VvG2aE3PSYWYtA2gY3S7aA",
                            "name": "Follow up"
                        },
                        {
                            "location": "/editor/states/-9j98rRnR2i380sGsTgi5Q/#state:6rN1wurzRDWgwDCitRKssw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/loAZFG-kSZWNZxewg7p0Fw/#state:vAzVxhNURL-qaHtj6kxcJQ",
                            "name": "Route or answer"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "id": "3dWryNWKS1yq8n8JpbgT1g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "APcZr01jQ-GFal8UmXZjGA",
                            "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "3dWryNWKS1yq8n8JpbgT1g",
                            "route": "f/s/3dWryNWKS1yq8n8JpbgT1g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "UWe8a7xLQvaOViPXz-Lbeg",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "RtkDUezWQVG66_UR6KMGPA",
                                                "route": "f/s/RtkDUezWQVG66_UR6KMGPA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "oiWdJOFSRiyP-7E8NpQygQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "ZjYoV5ovQYKtt82IAw1B5Q",
                                                "route": "f/s/ZjYoV5ovQYKtt82IAw1B5Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Do you need help?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "id": "XoRIo5QKSoCoLO1vjFkYIQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "APcZr01jQ-GFal8UmXZjGA",
                            "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "XoRIo5QKSoCoLO1vjFkYIQ",
                            "route": "f/s/XoRIo5QKSoCoLO1vjFkYIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "aKtCj3kVTEuLxQswAZy4OQ",
                                            "style": "",
                                            "text": "\ud83d\udd04 Try again",
                                            "transition": {
                                                "code": "trans.history_counter += 1",
                                                "ref": "0wufN2INT_eChj2hJtLhug",
                                                "route": "f/s/0wufN2INT_eChj2hJtLhug",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "DDtJltx3T6Sn3W8cDTauCw",
                                            "style": "",
                                            "text": "\u23f9\ufe0f No thanks",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "APcZr01jQ-GFal8UmXZjGA",
                                                "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Sorry, I\u2019m having some trouble getting an update on that for you... would you like me to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "id": "RtkDUezWQVG66_UR6KMGPA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "APcZr01jQ-GFal8UmXZjGA",
                            "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "RtkDUezWQVG66_UR6KMGPA",
                            "route": "f/s/RtkDUezWQVG66_UR6KMGPA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "j6CLMaGwTgOQ6XvMvSzxzA",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "del trans.utterance\r\ndel trans.account_number\r\ndel trans.history\r\ndel trans.content\r\ndel trans.location\r\ndel trans.reference_number\r\ndel trans.fault\r\ndel trans.history_counter",
                                                "label": "Faults: Entrypoint",
                                                "ref": "DnJU93jkRti5yzGjBDDjIQ",
                                                "route": "f/w/DnJU93jkRti5yzGjBDDjIQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "dYipATDQRRqHZdBMVrAVXA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "APcZr01jQ-GFal8UmXZjGA",
                                                "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Then it sounds like you just have no supply \u2013 without any obvious or visible reason.\r\n\r\nIs that right?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No supply",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "id": "GIlcWzNqRzm3ylkkDleWQQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "APcZr01jQ-GFal8UmXZjGA",
                            "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "GIlcWzNqRzm3ylkkDleWQQ",
                            "route": "f/s/GIlcWzNqRzm3ylkkDleWQQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "imk-YLp1QL2w3ZYzjM7Gsg",
                                            "style": "",
                                            "text": "\ud83d\udd04 Re-enter",
                                            "transition": {
                                                "ref": "e1TnV04ITVyOy3YVrgu5Sw",
                                                "route": "f/s/e1TnV04ITVyOy3YVrgu5Sw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "9i2P7JBsR8Ki-uPO15Htsg",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ZjYoV5ovQYKtt82IAw1B5Q",
                                                "route": "f/s/ZjYoV5ovQYKtt82IAw1B5Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I cannot find fault with case reference: *{{trans.reference_number}}.\r\n\r\nWould you like me to try again with a different reference?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "id": "e1TnV04ITVyOy3YVrgu5Sw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.reference_number"
                            }
                        ],
                        "transition": {
                            "code": "trans.history_counter = 0",
                            "ref": "0wufN2INT_eChj2hJtLhug",
                            "route": "f/s/0wufN2INT_eChj2hJtLhug",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "e1TnV04ITVyOy3YVrgu5Sw",
                            "route": "f/s/e1TnV04ITVyOy3YVrgu5Sw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Great!\r\n\r\nPlease send me your reference number."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Reference number",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "3dWryNWKS1yq8n8JpbgT1g",
                            "route": "f/s/3dWryNWKS1yq8n8JpbgT1g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "kuFNGnqYS2igVJwIXxvjpA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "{{trans.fault_text}}\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render content",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.reference_number\r\ndel trans.fault\r\ndel trans.fault_text\r\ndel trans.history_counter",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.reference_number\r\ndel trans.fault\r\ndel trans.fault_text\r\ndel trans.history_counter",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "APcZr01jQ-GFal8UmXZjGA",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "APcZr01jQ-GFal8UmXZjGA",
                            "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ZjYoV5ovQYKtt82IAw1B5Q",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "id": "E0_HypEjQw6dcyyEZcYpmA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "APcZr01jQ-GFal8UmXZjGA",
                            "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "E0_HypEjQw6dcyyEZcYpmA",
                            "route": "f/s/E0_HypEjQw6dcyyEZcYpmA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "IvBAJTzGTpqHkZ4osvUJEQ",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "APcZr01jQ-GFal8UmXZjGA",
                                                "route": "f/s/APcZr01jQ-GFal8UmXZjGA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "1Bg8gITBQXiHHJooZqfgwA",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "ZjYoV5ovQYKtt82IAw1B5Q",
                                                "route": "f/s/ZjYoV5ovQYKtt82IAw1B5Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "It\u2019s still not working \u2013 I\u2019m so sorry, {{user.username}}!\r\n\r\nI\u2019ll need some time to look into this, so please try again later.\r\n\r\nIn the meantime, do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Tries exhausted",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.history_counter > 2",
                            "ref": "E0_HypEjQw6dcyyEZcYpmA",
                            "route": "f/s/E0_HypEjQw6dcyyEZcYpmA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "GIlcWzNqRzm3ylkkDleWQQ",
                            "route": "f/s/GIlcWzNqRzm3ylkkDleWQQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "XoRIo5QKSoCoLO1vjFkYIQ",
                            "route": "f/s/XoRIo5QKSoCoLO1vjFkYIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "nwY66C-iSB-99mxlpbS53g",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "7VWvlCENT4ugIiEMF6BXJg",
                    "workflow_name": "Faults: Reference"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "dcYj66jYSe6PgkbWtlzxuA",
            "id": "3ohiD9ZiRiiP9kzA1rr1Gg",
            "name": "Faults: Symptoms",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "trans.description = []",
                    "decisions": [
                        {
                            "guard": "trans.context and trans.context.premise",
                            "ref": "zzq6AVkTTt2sxLRKcGNzmg",
                            "route": "f/s/zzq6AVkTTt2sxLRKcGNzmg",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "if not trans.context:\r\n    trans.context = {}\r\ntrans.context.premise = perm.customer[\"premises\"][0]",
                            "ref": "zzq6AVkTTt2sxLRKcGNzmg",
                            "route": "f/s/zzq6AVkTTt2sxLRKcGNzmg",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ceVNPXYuRSSFmwrMBKiCBA",
                    "name": "Address known?",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "exnan_beTxm2eabOsttXLA",
                            "route": "f/s/exnan_beTxm2eabOsttXLA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "2mzw6t9ZRJK0aG0VjtSl2A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK, now I\u2019m going to ask you a few more questions about the *{{trans.fault_symptom}}*."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "A few questions",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "xlVBu9SqTtGKSJvLBMQ_ow",
                            "route": "f/s/xlVBu9SqTtGKSJvLBMQ_ow",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "10CvcGohQhOjK19cC7-S6w",
                            "route": "f/s/10CvcGohQhOjK19cC7-S6w",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "xlVBu9SqTtGKSJvLBMQ_ow",
                            "route": "f/s/xlVBu9SqTtGKSJvLBMQ_ow",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "hSyl22rjRROXQOMBdJRbnw",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.location = trans.context[\"premise\"][\"mrid\"]",
                    "format": null,
                    "id": "zzq6AVkTTt2sxLRKcGNzmg",
                    "method": "GET",
                    "name": "API: Get fault history",
                    "on_error": {
                        "transition": {
                            "ref": "Zo5lMtdDTyi-kuKZYyblqg",
                            "route": "f/s/Zo5lMtdDTyi-kuKZYyblqg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "4gUbHEjKSleygJlsjNy3dA",
                            "route": "f/s/4gUbHEjKSleygJlsjNy3dA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.history"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/history?token=mock&location={{trans.location}}&account={{perm.customer.account}}&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "del trans.utterance\r\ntrans.navigation = {}",
                    "decisions": [
                        {
                            "guard": "trans.questions",
                            "ref": "2mzw6t9ZRJK0aG0VjtSl2A",
                            "route": "f/s/2mzw6t9ZRJK0aG0VjtSl2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.emergency or perm.customer.prepaid or perm.customer.postpaid",
                            "label": "Faults: API",
                            "ref": "UOI0_g5XQ6Kkru1aItIRvw",
                            "route": "f/w/UOI0_g5XQ6Kkru1aItIRvw",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "ctor6VdPQUyjZFKgnYcpFg",
                            "route": "f/s/ctor6VdPQUyjZFKgnYcpFg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4xqFOKAYT5uiBf3V7gw60w",
                    "name": "Are there questions?",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "id": "CSlWKyC0SiaqZ7V2GeZxQA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"fault\"",
                            "ref": "2mzw6t9ZRJK0aG0VjtSl2A",
                            "route": "f/s/2mzw6t9ZRJK0aG0VjtSl2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "CSlWKyC0SiaqZ7V2GeZxQA",
                            "route": "f/s/CSlWKyC0SiaqZ7V2GeZxQA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "SWFuJd8ARb-PanmHZGv-cw",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.counter = 0\r\ntrans.questions = trans.fault[1]\r\ntrans.fault_symptom = trans.classification",
                                                "ref": "ceVNPXYuRSSFmwrMBKiCBA",
                                                "route": "f/s/ceVNPXYuRSSFmwrMBKiCBA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "7zEvxFIdSP2CabPncQdSsA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "dcYj66jYSe6PgkbWtlzxuA",
                                                "route": "f/s/dcYj66jYSe6PgkbWtlzxuA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Then it sounds like you are dealing with {{trans.classification}}.\r\n\r\nCan I go ahead and help you log that?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Assumed fault",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "del trans.entities\r\ndel trans.entity_name\r\ndel trans.key\r\ndel trans.faults",
                    "decisions": [
                        {
                            "code": "trans.fault = trans.content.get(\"key\")\r\ndel trans.content",
                            "guard": "trans.content",
                            "ref": "VHpfUGRkTYuVanYuWvBT0w",
                            "route": "f/s/VHpfUGRkTYuVanYuWvBT0w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "trans.navigation = {}\r\ndel trans.content",
                            "guard": "trans.navigation.input",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.content",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "ZSdIuSCcSa-pKjsdFHvwUQ",
                    "name": "Call paginator",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "faults = {\r\n    \"no_supply\": (False,[\"earth_leakage\"]),\r\n    \"burnt_out_meter\": (False, []),\r\n    \"broken_meter_box\": (False, [\"photo\"]),\r\n    \"dirty_meter_glass\": (False, []),\r\n    \"reversing_meter\": (False, []),\r\n    \"conventional_meter\": (False, []),\r\n    \"insects_in_meter\": (True, []),\r\n    \"broken_meter_glass\": (True, []),\r\n    \"faulty_meter\": (False, [\"more_information\"]),\r\n    \"prepaid_token\": (False, []),\r\n    \"line_on_the_ground\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"line_low\": (True, [\"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"pole_down\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"cable_sparking\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"installation_live\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"link_dropped_out\": (False, [\"jumpers\", \"time\", \"lightning\", \"photo\"]),\r\n    \"loose_stay_wire\": (False, [\"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"single_phasing\": (False, [\"neighbours\", \"jumpers\", \"time\", \"lightning\", \"photo\"]),\r\n    \"mains_tripped\": (False, [\"photo\"]),\r\n    \"circuit_breaker_tripped\": (False, [\"neighbours\", \"photo\"]),\r\n    \"reversing\u00a0_phase\": (False, [\"neighbours\"]),\r\n    \"low_voltage\": (False, [\"neighbours\", \"jumper_burnt\", \"time\", \"lightning\"]),\r\n    \"high_voltage\": (False, [\"time\", \"lightning\", \"high_voltage\", \"high_voltage_supply\"]),\r\n    \"broken_pole\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"broken_cross_arm\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"tree_on_line\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"trees_growing_on_line\": (True, [\"neighbours\", \"photo\"]),\r\n    \"blown_cable\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"blown_transformer\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"transformer_leaking\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"cable_dug_up\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"theft\": (False, [\"neighbours\"]),\r\n    \"vandalism\": (False, [\"neighbours\"]),\r\n    \"door_open\": (True, [\"noise\", \"photo\"]),\r\n    \"slanting_pole\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"box_broken\": (True, [\"noise\", \"pilar_box\", \"photo\"]),\r\n    \"pole_on_fire\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"minisub_fire\": (True, [\"neighbours\", \"fire\", \"burning\", \"structure\", \"fire_location\", \"line_hanging\", \"photo\"]),\r\n    \"fire_under_line\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"substation_burning\": (True, [\"neighbours\", \"fire\", \"burning\", \"structure\", \"fire_location\", \"line_hanging\", \"photo\"]),\r\n    \"loose_connection\": (True, [\"neighbours\"]),\r\n    \"blown_circuit\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"repeat_call\": (False, [\"neighbours\"]),\r\n    \"blown_surge_arrestor\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n}\r\n\r\ntrans.entities = [{\"fault\": x.replace(\"_\", \" \").capitalize(), \"key\": x} for x in faults]\r\ntrans.key = \"fault\"",
                        "label": "Reusable: Paginator",
                        "ref": "k74yrz38QqSM0fOBm_3N1g",
                        "route": "f/w/k74yrz38QqSM0fOBm_3N1g",
                        "type": "workflow"
                    },
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.navigation.input",
                            "label": "Tokens: Not Loading",
                            "ref": "yKVQvykuR_Kcwzcjlpu69w",
                            "route": "f/w/yKVQvykuR_Kcwzcjlpu69w",
                            "type": "workflow"
                        },
                        {
                            "guard": "trans.navigation.utterance",
                            "ref": "10CvcGohQhOjK19cC7-S6w",
                            "route": "f/s/10CvcGohQhOjK19cC7-S6w",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.counter += 1",
                            "ref": "exnan_beTxm2eabOsttXLA",
                            "route": "f/s/exnan_beTxm2eabOsttXLA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "5WnCBAFcT-ODN1dxd7h3Vw",
                    "name": "Call question",
                    "type": "wflow_call",
                    "wflow": {
                        "label": "Reusable: Fault Questions",
                        "ref": "6kpRau76R0WO_Srb1P7Muw",
                        "route": "f/w/6kpRau76R0WO_Srb1P7Muw",
                        "type": "workflow"
                    },
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "id": "o2ZoORl3RKqEC5jSve3wJw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"ongoing case\"\r\ndel trans.case",
                            "ref": "hSyl22rjRROXQOMBdJRbnw",
                            "route": "f/s/hSyl22rjRROXQOMBdJRbnw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "o2ZoORl3RKqEC5jSve3wJw",
                            "route": "f/s/o2ZoORl3RKqEC5jSve3wJw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "lF90oJlDQMebCOVSaVTw9w",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"\r\ndel trans.case",
                                                "ref": "10CvcGohQhOjK19cC7-S6w",
                                                "route": "f/s/10CvcGohQhOjK19cC7-S6w",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "7AH9FlnGSPuAbn9Jk42zEg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"\r\ndel trans.case",
                                                "ref": "10CvcGohQhOjK19cC7-S6w",
                                                "route": "f/s/10CvcGohQhOjK19cC7-S6w",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Hold on, I see you\u2019ve already logged this emergency{% if trans.case %}with the reference: *{{trans.case}}*{% endif %}.\r\n\r\nPlease give us time to clear this fault before you log a new one.\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Case going on",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "trans.classification = trans.fault",
                    "decisions": [
                        {
                            "code": "faults = {\r\n    \"no_supply\": (False,[\"earth_leakage\"]),\r\n    \"burnt_out_meter\": (False, []),\r\n    \"broken_meter_box\": (False, [\"photo\"]),\r\n    \"dirty_meter_glass\": (False, []),\r\n    \"reversing_meter\": (False, []),\r\n    \"conventional_meter\": (False, []),\r\n    \"insects_in_meter\": (True, []),\r\n    \"broken_meter_glass\": (True, []),\r\n    \"faulty_meter\": (False, [\"more_information\"]),\r\n    \"prepaid_token\": (False, []),\r\n    \"line_on_the_ground\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"line_low\": (True, [\"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"pole_down\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"cable_sparking\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"installation_live\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"link_dropped_out\": (False, [\"jumpers\", \"time\", \"lightning\", \"photo\"]),\r\n    \"loose_stay_wire\": (False, [\"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"single_phasing\": (False, [\"neighbours\", \"jumpers\", \"time\", \"lightning\", \"photo\"]),\r\n    \"mains_tripped\": (False, [\"photo\"]),\r\n    \"circuit_breaker_tripped\": (False, [\"neighbours\", \"photo\"]),\r\n    \"reversing\u00a0_phase\": (False, [\"neighbours\"]),\r\n    \"low_voltage\": (False, [\"neighbours\", \"jumper_burnt\", \"time\", \"lightning\"]),\r\n    \"high_voltage\": (False, [\"time\", \"lightning\", \"high_voltage\", \"high_voltage_supply\"]),\r\n    \"broken_pole\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"broken_cross_arm\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"tree_on_line\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"trees_growing_on_line\": (True, [\"neighbours\", \"photo\"]),\r\n    \"blown_cable\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"blown_transformer\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"transformer_leaking\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"cable_dug_up\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"theft\": (False, [\"neighbours\"]),\r\n    \"vandalism\": (False, [\"neighbours\"]),\r\n    \"door_open\": (True, [\"noise\", \"photo\"]),\r\n    \"slanting_pole\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"box_broken\": (True, [\"noise\", \"pilar_box\", \"photo\"]),\r\n    \"pole_on_fire\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\", \"photo\"]),\r\n    \"minisub_fire\": (True, [\"neighbours\", \"fire\", \"burning\", \"structure\", \"fire_location\", \"line_hanging\", \"photo\"]),\r\n    \"fire_under_line\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"substation_burning\": (True, [\"neighbours\", \"fire\", \"burning\", \"structure\", \"fire_location\", \"line_hanging\", \"photo\"]),\r\n    \"loose_connection\": (True, [\"neighbours\"]),\r\n    \"blown_circuit\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n    \"repeat_call\": (False, [\"neighbours\"]),\r\n    \"blown_surge_arrestor\": (True, [\"neighbours\", \"lines_hanging\", \"line_color\", \"lines_bundle\", \"pole\", \"sparks\", \"line_structure\"]),\r\n}\r\ntrans.fault = faults.get(trans.fault)\r\ntrans.emergency = trans.fault[0]\r\ntrans.classification = trans.classification.replace(\"_\", \" \").capitalize()",
                            "guard": "trans.fault",
                            "ref": "CSlWKyC0SiaqZ7V2GeZxQA",
                            "route": "f/s/CSlWKyC0SiaqZ7V2GeZxQA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "EqZC-Vd_SjWccAt9koCLFw",
                            "route": "f/s/EqZC-Vd_SjWccAt9koCLFw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "VHpfUGRkTYuVanYuWvBT0w",
                    "name": "Check fault",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "images = {\r\n    \"broken_meter_box\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/broken_meter_box.jpg\",\r\n    \"line_on_the_ground\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/wire_on_ground.jpg\",\r\n    \"pole_down\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/broken_pole.jpg\",\r\n    \"link_dropped_out\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/link_dropped_out.jpg\",\r\n    \"loose_stay_wire\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/stay_wire_loose.jpg\",\r\n    \"mains_tripped\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/msc_tripped.jpg\",\r\n    \"circuit_breaker_tripped\":\"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/msc_tripped.jpg\",\r\n    \"broken_cross_arm\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/broken_cross_arm.jpg\",\r\n    \"tree_on_line\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/tree_in_line.jpg\",\r\n    \"blown_transformer\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/blown_transformer.jpg\",\r\n    \"transformer_leaking\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/transformer_leaking_oil.jpg\",\r\n    \"door_open\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/minisub_with_open_door.jpg\",\r\n    \"box_broken\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/pillar_box.jpg\",\r\n    \"blown_surge_arrestor\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/blown_surge_arrestor.jpg\",\r\n    \"blown_cable\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/blown_cable_and_burning_pole.jpg\",\r\n    \"pole_on_fire\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/blown_cable_and_burning_pole.jpg\",\r\n    \"slanting_pole\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/slanting_pole.jpg\",\r\n}\r\nkey = trans.classification.replace(\" \", \"_\").lower()\r\ntrans.url = images.get(key, \"\")\r\ntrans.case = \"\"\r\nfor case in trans.history.cases:\r\n    if case.get(\"category\") == \"Isolated Eskom Fault\":\r\n        trans.case = case.get(\"mrid\")",
                    "decisions": [
                        {
                            "guard": "trans.history.cases and trans.history.last == \"Isolated Eskom Fault\"",
                            "ref": "o2ZoORl3RKqEC5jSve3wJw",
                            "route": "f/s/o2ZoORl3RKqEC5jSve3wJw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.url",
                            "ref": "5vgJ3ISfThGFrovxHcWdUA",
                            "route": "f/s/5vgJ3ISfThGFrovxHcWdUA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "4xqFOKAYT5uiBf3V7gw60w",
                            "route": "f/s/4xqFOKAYT5uiBf3V7gw60w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4gUbHEjKSleygJlsjNy3dA",
                    "name": "Check history",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.threshold < 0.4",
                            "ref": "s_xupfDyQAWLlqQnUEqMNQ",
                            "route": "f/s/s_xupfDyQAWLlqQnUEqMNQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.fault = trans.fault[0][\"label\"]",
                            "ref": "VHpfUGRkTYuVanYuWvBT0w",
                            "route": "f/s/VHpfUGRkTYuVanYuWvBT0w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Ut_QLzi0T9SSSojJ-L1Atw",
                    "name": "Check threshold",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.utterance\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "3c17440f-6ade-46d3-816b-fff5bde117cb"
                        }
                    ],
                    "id": "ka99xAS5S0Ocis5JcO9OBg",
                    "input_variable": "trans.utterance",
                    "method": "POST",
                    "name": "Classify fault",
                    "on_error": {
                        "transition": {
                            "ref": "EqZC-Vd_SjWccAt9koCLFw",
                            "route": "f/s/EqZC-Vd_SjWccAt9koCLFw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.fault_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.threshold = trans.fault[0][\"probability\"]\r\ndel trans.utterance",
                            "ref": "Ut_QLzi0T9SSSojJ-L1Atw",
                            "route": "f/s/Ut_QLzi0T9SSSojJ-L1Atw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.fault"
                    },
                    "resource": "https://nlu.feersum.io/nlu/v2/intent_classifiers/fault-classifier/retrieve",
                    "retries": 0,
                    "retry": false,
                    "selected_nlu_model": "intent_classifier/fault-classifier",
                    "simplify_result": false,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "id": "EqZC-Vd_SjWccAt9koCLFw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "10CvcGohQhOjK19cC7-S6w",
                            "route": "f/s/10CvcGohQhOjK19cC7-S6w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "EqZC-Vd_SjWccAt9koCLFw",
                            "route": "f/s/EqZC-Vd_SjWccAt9koCLFw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Z1JQ78K3T5eD8t5B9iNRjg",
                                            "style": "",
                                            "text": "Retry",
                                            "transition": {
                                                "ref": "dcYj66jYSe6PgkbWtlzxuA",
                                                "route": "f/s/dcYj66jYSe6PgkbWtlzxuA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "gcys8NHaQL-pbJDX-wSXZA",
                                            "style": "",
                                            "text": "Select from list",
                                            "transition": {
                                                "ref": "ZSdIuSCcSa-pKjsdFHvwUQ",
                                                "route": "f/s/ZSdIuSCcSa-pKjsdFHvwUQ",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "_hc6cSYdQqmDkyjiJAt4KQ",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "ctor6VdPQUyjZFKgnYcpFg",
                                                "route": "f/s/ctor6VdPQUyjZFKgnYcpFg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Could not classify fault, would you like to try again or select from a list?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error getting fault",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "trans.fault = trans.fault[trans.button_index][\"label\"]",
                            "ref": "VHpfUGRkTYuVanYuWvBT0w",
                            "route": "f/s/VHpfUGRkTYuVanYuWvBT0w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "sMwX9lbAQAalkRcID619vw",
                    "name": "Get fault",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "UUQwVfqzQtufpZm9z2vxLw",
                            "route": "f/s/UUQwVfqzQtufpZm9z2vxLw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "5vgJ3ISfThGFrovxHcWdUA",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"mime_type\": \"image/png\",\r\n        \"media\": trans.url\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "id": "dcYj66jYSe6PgkbWtlzxuA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ka99xAS5S0Ocis5JcO9OBg",
                            "route": "f/s/ka99xAS5S0Ocis5JcO9OBg",
                            "statetype": "nlu_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "dcYj66jYSe6PgkbWtlzxuA",
                            "route": "f/s/dcYj66jYSe6PgkbWtlzxuA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "fx-Z-PN3TbC_K97aCVeDFw",
                                            "style": "",
                                            "text": "\ud83d\udd0d Show issues",
                                            "transition": {
                                                "code": "del trans.utterance",
                                                "ref": "ZSdIuSCcSa-pKjsdFHvwUQ",
                                                "route": "f/s/ZSdIuSCcSa-pKjsdFHvwUQ",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m sorry to hear you\u2019re having an electricity issue.\r\n\r\nPlease send me a summary of the issue you are having.\r\n\r\nIf you\u2019d prefer to see a list of issues you can choose from, select \ud83d\udd0d Show issues below."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Introduction",
                    "relatives": [
                        {
                            "location": "/editor/states/5hV5kwyLTHK0yXPTr9PF_g/#state:w0quhu5QTfmyfdjW9zk_bQ",
                            "name": "Render codes"
                        },
                        {
                            "location": "/editor/states/5hV5kwyLTHK0yXPTr9PF_g/#state:yDLAaDhsSbaZ2b__nmAg8A",
                            "name": "Was I able to assist you"
                        },
                        {
                            "location": "/editor/states/iwxrOjGeRraRi4ohz8ky5Q/#state:rybW5FAlRxisSGPCY3rDqA",
                            "name": "Error code"
                        },
                        {
                            "location": "/editor/states/iwxrOjGeRraRi4ohz8ky5Q/#state:F1ID6SIsQpi2h-giF-8XFA",
                            "name": "Render codes"
                        },
                        {
                            "location": "/editor/states/iwxrOjGeRraRi4ohz8ky5Q/#state:p0CM3u68QFCrToiig4c0bg",
                            "name": "Was I able to assist you"
                        },
                        {
                            "location": "/editor/states/Ei5N-sp7TwG-DZFdS9hyjw/#state:AKVgcrz0SuCVCmCBDoKZ6g",
                            "name": "Check outage"
                        },
                        {
                            "location": "/editor/states/Ei5N-sp7TwG-DZFdS9hyjw/#state:8uNW1qOESJCzAGsPAjD5Jw",
                            "name": "Not found"
                        },
                        {
                            "location": "/editor/states/PuI-bXqSTEGJjio6ySMdSA/#state:wkXegw0tThWkOBp56B1KyQ",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "id": "UUQwVfqzQtufpZm9z2vxLw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"image\"",
                            "ref": "hSyl22rjRROXQOMBdJRbnw",
                            "route": "f/s/hSyl22rjRROXQOMBdJRbnw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "UUQwVfqzQtufpZm9z2vxLw",
                            "route": "f/s/UUQwVfqzQtufpZm9z2vxLw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': 'Have a look at this picture. \u261d\ufe0f\\n\\nDoes it look similar to this?',\r\n             'buttons': [\r\n                transition('ID_OK', '\u2705 Yes'),\r\n                transition('ID_NO', '\u274c No'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_OK",
                                        "transition": {
                                            "ref": "4xqFOKAYT5uiBf3V7gw60w",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_NO",
                                        "transition": {
                                            "ref": "dcYj66jYSe6PgkbWtlzxuA",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Is there an image?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "trans.done = False\r\nif trans.counter < len(trans.questions):\r\n    trans.question = trans.fault[1][trans.counter]\r\nelse:\r\n    trans.done = True",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.answer\r\ndel trans.classification\r\ndel trans.counter\r\ndel trans.fault\r\ndel trans.question\r\ndel trans.questions\r\ndel trans.done\r\ndel trans.emergency\r\ndel trans.threshold\r\ndel trans.within_range\r\ndel trans.url\r\ntrans.description = \"\\n\".join(trans.description)",
                            "guard": "trans.done and (trans.emergency or perm.customer.prepaid or perm.customer.postpaid)",
                            "label": "Faults: API",
                            "ref": "UOI0_g5XQ6Kkru1aItIRvw",
                            "route": "f/w/UOI0_g5XQ6Kkru1aItIRvw",
                            "type": "workflow"
                        },
                        {
                            "guard": "trans.done",
                            "ref": "ctor6VdPQUyjZFKgnYcpFg",
                            "route": "f/s/ctor6VdPQUyjZFKgnYcpFg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.emergency or perm.customer.prepaid or perm.customer.postpaid",
                            "ref": "5WnCBAFcT-ODN1dxd7h3Vw",
                            "route": "f/s/5WnCBAFcT-ODN1dxd7h3Vw",
                            "statetype": "wflow_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "ctor6VdPQUyjZFKgnYcpFg",
                            "route": "f/s/ctor6VdPQUyjZFKgnYcpFg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "exnan_beTxm2eabOsttXLA",
                    "name": "Keep asking questions",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "id": "Zo5lMtdDTyi-kuKZYyblqg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"history\"",
                            "ref": "hSyl22rjRROXQOMBdJRbnw",
                            "route": "f/s/hSyl22rjRROXQOMBdJRbnw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Zo5lMtdDTyi-kuKZYyblqg",
                            "route": "f/s/Zo5lMtdDTyi-kuKZYyblqg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "38Y8G-vdStyXlHTph1tX7A",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "o2ZoORl3RKqEC5jSve3wJw",
                                                "route": "f/s/o2ZoORl3RKqEC5jSve3wJw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "XdzLOuckTpCq-u0MdJKKgA",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "4gUbHEjKSleygJlsjNy3dA",
                                                "route": "f/s/4gUbHEjKSleygJlsjNy3dA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I am having issues loading your fault history, do you have an on going fault logged?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Manual history",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"symptoms\"",
                            "ref": "s_xupfDyQAWLlqQnUEqMNQ",
                            "route": "f/s/s_xupfDyQAWLlqQnUEqMNQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"fault\"",
                            "ref": "CSlWKyC0SiaqZ7V2GeZxQA",
                            "route": "f/s/CSlWKyC0SiaqZ7V2GeZxQA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"history\"",
                            "ref": "Zo5lMtdDTyi-kuKZYyblqg",
                            "route": "f/s/Zo5lMtdDTyi-kuKZYyblqg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"image\"",
                            "ref": "5vgJ3ISfThGFrovxHcWdUA",
                            "route": "f/s/5vgJ3ISfThGFrovxHcWdUA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.route == \"ongoing case\"",
                            "ref": "o2ZoORl3RKqEC5jSve3wJw",
                            "route": "f/s/o2ZoORl3RKqEC5jSve3wJw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "10CvcGohQhOjK19cC7-S6w",
                            "route": "f/s/10CvcGohQhOjK19cC7-S6w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "xlVBu9SqTtGKSJvLBMQ_ow",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.answer\r\ndel trans.classification\r\ndel trans.counter\r\ndel trans.fault\r\ndel trans.question\r\ndel trans.questions\r\ndel trans.done\r\ndel trans.emergency\r\ndel trans.threshold\r\ndel trans.within_range\r\ndel trans.location\r\ndel trans.history\r\ndel trans.description\r\ndel trans.fault_symptom\r\ndel trans.location\r\ndel trans.account_number\r\ndel trans.url",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.answer\r\ndel trans.classification\r\ndel trans.counter\r\ndel trans.fault\r\ndel trans.question\r\ndel trans.questions\r\ndel trans.done\r\ndel trans.emergency\r\ndel trans.threshold\r\ndel trans.description\r\ndel trans.fault_symptom\r\ndel trans.within_range\r\ndel trans.location\r\ndel trans.history\r\ndel trans.location\r\ndel trans.account_number\r\ndel trans.url",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "10CvcGohQhOjK19cC7-S6w",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "del trans.utterance\r\ndel trans.answer\r\ndel trans.classification\r\ndel trans.counter\r\ndel trans.fault\r\ndel trans.question\r\ndel trans.questions\r\ndel trans.done\r\ndel trans.emergency\r\ndel trans.threshold\r\ndel trans.within_range",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "ctor6VdPQUyjZFKgnYcpFg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Thank you for using Eskom Distribution. We will look into it."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                },
                {
                    "id": "s_xupfDyQAWLlqQnUEqMNQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"symptoms\"",
                            "ref": "hSyl22rjRROXQOMBdJRbnw",
                            "route": "f/s/hSyl22rjRROXQOMBdJRbnw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "s_xupfDyQAWLlqQnUEqMNQ",
                            "route": "f/s/s_xupfDyQAWLlqQnUEqMNQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': 'I am not sure about your fault, please select one of the options below or type *menu* to go to the main menu.',\r\n            'buttons': [\r\n                transition('ID_SELECT', '%s' % (button['label'].replace('_', ' ').capitalize()), code='trans.button_index=%d' % (index))\r\n               for index, button in enumerate(trans.fault)\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_SELECT",
                                        "transition": {
                                            "ref": "sMwX9lbAQAalkRcID619vw",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Threshold low",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "3ohiD9ZiRiiP9kzA1rr1Gg",
                    "workflow_name": "Faults: Symptoms"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 20, 2024, 01:40 AM",
            "default_state_id": "UKIEvOzqSCeqSZylA2AJxw",
            "id": "2fll7A0ySNmx8-rE8z16Mg",
            "name": "FB_Testing",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "UKIEvOzqSCeqSZylA2AJxw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "file",
                                "output_handler": "attachment",
                                "var": "trans.image_upload"
                            }
                        ],
                        "transition": {
                            "ref": "YDPtZQYXTGKJEz2zy4ablg",
                            "route": "f/s/YDPtZQYXTGKJEz2zy4ablg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "",
                            "type": null
                        },
                        "type": "attachment"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Send the image"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Default",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "2fll7A0ySNmx8-rE8z16Mg",
                    "workflow_name": "FB_Testing"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "",
                            "type": null
                        },
                        "type": "continue"
                    },
                    "id": "YDPtZQYXTGKJEz2zy4ablg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "{{ trans.image_upload }}\r\n{{ trans.image_upload.get('url','')}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Image Display",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "2fll7A0ySNmx8-rE8z16Mg",
                    "workflow_name": "FB_Testing"
                }
            ],
            "updated_at": "Sep. 20, 2024, 01:41 AM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "ZFiBxeZcSny_v51rvgNNsQ",
            "id": "H_RFVrXCSn6dETRtfkUhUw",
            "name": "HSMs: Create Job",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"body\": {\r\n        \"msisdn\": perm.msisdn_on_bot,\r\n        \"middleware_url\": \"https://bot.eskom.qa.helm.africa\",\r\n        \"trigger_url\": \"https://engine.eskom.qa.helm.africa/api/project/eskom/incoming-status-follow-up\",\r\n        \"reference\": trans.reference,\r\n        \"status\": trans.status,\r\n        \"run\": trans.run\r\n    },\r\n    \"schedule\":trans.cron,\r\n    \"uri\": \"https://europe-west1-eskom-426109.cloudfunctions.net/share-fault-status\"\r\n}",
                    "code": "today = datetime.now()\r\nday = str(today.day)\r\nmonth = str(today.month)\r\ntrans.cron = \"*/5 * \" + day + \" \" + month + \" *\"",
                    "format": "JSON",
                    "id": "sCOUbHU-Rnm_GWO_wl88iw",
                    "method": "POST",
                    "name": "API: Create a 4 hour reminder",
                    "on_error": {
                        "transition": {
                            "ref": "qo0VnqXnS3iWpd2S0tCRzQ",
                            "route": "f/s/qo0VnqXnS3iWpd2S0tCRzQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "job = {\r\n    \"date\": str(datetime.now())[0:10],\r\n    \"name\": trans.job.job_name\r\n}\r\nperm.job = job\r\ndel trans.cron",
                            "ref": "2LAxmyuUTnuhrZVDqIxsqA",
                            "route": "f/s/2LAxmyuUTnuhrZVDqIxsqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.job"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/jobs?token=mock&project_name=eskom-426109&location=europe-west1",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "BMMHEGVCQPOEavqmtXLoVg",
                    "method": "DELETE",
                    "name": "API: Delete job",
                    "on_error": {
                        "transition": {
                            "ref": "c7FXoaiwRHSvd3ZIP6Ttag",
                            "route": "f/s/c7FXoaiwRHSvd3ZIP6Ttag",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "perm.job = {}",
                            "ref": "gzw6By1tQVS7QQI6ChcWXQ",
                            "route": "f/s/gzw6By1tQVS7QQI6ChcWXQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.deleted"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/jobs?token=mock&project=eskom-426109&location=europe-west1&job_name={{perm.job.name}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "perm.job",
                            "ref": "QNEP6N0lQqeUd76nq9XXUA",
                            "route": "f/s/QNEP6N0lQqeUd76nq9XXUA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "c7FXoaiwRHSvd3ZIP6Ttag",
                            "route": "f/s/c7FXoaiwRHSvd3ZIP6Ttag",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ZFiBxeZcSny_v51rvgNNsQ",
                    "name": "Check if there's a running job",
                    "relatives": [
                        {
                            "location": "/editor/states/UOI0_g5XQ6Kkru1aItIRvw/#state:lcT1FiuXT4O6iqwTBbM3IA",
                            "name": "Already logged"
                        },
                        {
                            "location": "/editor/states/UOI0_g5XQ6Kkru1aItIRvw/#state:d4U053iSQg6Op3F6T4ZxYg",
                            "name": "Fault logged"
                        },
                        {
                            "location": "/editor/states/-9j98rRnR2i380sGsTgi5Q/#state:6rN1wurzRDWgwDCitRKssw",
                            "name": "Route or answer"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "sCOUbHU-Rnm_GWO_wl88iw",
                            "route": "f/s/sCOUbHU-Rnm_GWO_wl88iw",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "c7FXoaiwRHSvd3ZIP6Ttag",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Creating an automated update for you, this may take a few seconds...."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Creating update",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "sCOUbHU-Rnm_GWO_wl88iw",
                            "route": "f/s/sCOUbHU-Rnm_GWO_wl88iw",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "gzw6By1tQVS7QQI6ChcWXQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "The follow up update has been deleted, creating a new automated update for you now. This may take a few seconds..."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Deleted",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "id": "7Ooi_OD4T1u1esYkKNcNvg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hRbttYkLTLa6C75kDric0Q",
                            "route": "f/s/hRbttYkLTLa6C75kDric0Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7Ooi_OD4T1u1esYkKNcNvg",
                            "route": "f/s/7Ooi_OD4T1u1esYkKNcNvg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "EvBbTY3oRnytjccNZeqM0g",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "hRbttYkLTLa6C75kDric0Q",
                                                "route": "f/s/hRbttYkLTLa6C75kDric0Q",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "3MhcW3-wTBWJciuFeSHKgA",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "7pJnZpHHRtm5RZyoNKEykg",
                                                "route": "f/s/7pJnZpHHRtm5RZyoNKEykg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I will not be able to set a new follow up while there's one registered.\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "I cannot set a reminder",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "id": "QNEP6N0lQqeUd76nq9XXUA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hRbttYkLTLa6C75kDric0Q",
                            "route": "f/s/hRbttYkLTLa6C75kDric0Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "QNEP6N0lQqeUd76nq9XXUA",
                            "route": "f/s/QNEP6N0lQqeUd76nq9XXUA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "pAASgThEQMiXWDzlKmcNXA",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "ref": "BMMHEGVCQPOEavqmtXLoVg",
                                                "route": "f/s/BMMHEGVCQPOEavqmtXLoVg",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "7vBwYoXpTeSSujHv6V6MVA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "7Ooi_OD4T1u1esYkKNcNvg",
                                                "route": "f/s/7Ooi_OD4T1u1esYkKNcNvg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Unfortunatley there's already a follow up update *{{perm.job.name}}* set on the {{perm.job.date}}\r\n\r\nThis will need to be removed in order to set a new one. Can I remove this reminder?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Job already running",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "id": "2LAxmyuUTnuhrZVDqIxsqA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hRbttYkLTLa6C75kDric0Q",
                            "route": "f/s/hRbttYkLTLa6C75kDric0Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2LAxmyuUTnuhrZVDqIxsqA",
                            "route": "f/s/2LAxmyuUTnuhrZVDqIxsqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "EG_39c34QKarj9Tdt5b0sA",
                                            "style": "",
                                            "text": "\ud83d\udc4d\ufe0f Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "hRbttYkLTLa6C75kDric0Q",
                                                "route": "f/s/hRbttYkLTLa6C75kDric0Q",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "I-q9ytEsRKaqzzvWncw0hg",
                                            "style": "",
                                            "text": "\ud83d\udc4e\ufe0f No, I\u2019m good",
                                            "transition": {
                                                "ref": "7pJnZpHHRtm5RZyoNKEykg",
                                                "route": "f/s/7pJnZpHHRtm5RZyoNKEykg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "A reminder has been scheduled for you!\r\n\r\nYour reference number is: **{{trans.reference}}**\r\n\r\nIs there anythig else that I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Job created",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "id": "qo0VnqXnS3iWpd2S0tCRzQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "hRbttYkLTLa6C75kDric0Q",
                            "route": "f/s/hRbttYkLTLa6C75kDric0Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "qo0VnqXnS3iWpd2S0tCRzQ",
                            "route": "f/s/qo0VnqXnS3iWpd2S0tCRzQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "2BkNs4ruRkybA-35ozigyA",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "ref": "sCOUbHU-Rnm_GWO_wl88iw",
                                                "route": "f/s/sCOUbHU-Rnm_GWO_wl88iw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "JflbCEn4RZC9rpFneP0VHg",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "7pJnZpHHRtm5RZyoNKEykg",
                                                "route": "f/s/7pJnZpHHRtm5RZyoNKEykg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an issue creating a follow up update. Would you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Job not created",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.job\r\ndel trans.deleted\r\ndel trans.status\r\ndel trans.reference_number",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.job\r\ndel trans.deleted\r\ndel trans.status\r\ndel trans.reference_number",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "hRbttYkLTLa6C75kDric0Q",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "hRbttYkLTLa6C75kDric0Q",
                            "route": "f/s/hRbttYkLTLa6C75kDric0Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "7pJnZpHHRtm5RZyoNKEykg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "H_RFVrXCSn6dETRtfkUhUw",
                    "workflow_name": "HSMs: Create Job"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "JNzHoYRPSCapX70tGCYK5A",
            "id": "AXo8S_QDS2uB9vCckrhQZw",
            "name": "HSMs: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "JNzHoYRPSCapX70tGCYK5A",
                    "method": "GET",
                    "name": "API: Check opt in status",
                    "on_error": {
                        "transition": {
                            "ref": "AjQMFTL9RG-u5v0gbktLYQ",
                            "route": "f/s/AjQMFTL9RG-u5v0gbktLYQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "Yc5_FGvFT_2mPE6maKdGJQ",
                            "route": "f/s/Yc5_FGvFT_2mPE6maKdGJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.subscribed"
                    },
                    "relatives": [
                        {
                            "location": "/editor/states/DK7u0cfPTxiY6jEW9uNKPA/#state:T4OXDpJ3Ska1FHasdYy8Pg",
                            "name": "Introduction"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        }
                    ],
                    "resource": "{{const.MIDDLEWARE}}/hsm/subscribers?token=mock&auth=96ef71e15bfbeea24d0afa2961cc052b092961f4&account_id=MfundoNtini&msisdn={{perm.msisdn_on_bot}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "T1KBkisJSkmtermcjQGYKQ",
                    "method": "GET",
                    "name": "API: Events",
                    "on_error": {
                        "transition": {
                            "ref": "uen-kLHzSkmv9Syjax7FTA",
                            "route": "f/s/uen-kLHzSkmv9Syjax7FTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "AwwM5dKpQp2t5M_vRwaZVQ",
                            "route": "f/s/AwwM5dKpQp2t5M_vRwaZVQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.event_type"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/{{trans.event}}?token=mock&account_id=MfundoNtini&auth=96ef71e15bfbeea24d0afa2961cc052b092961f4&msisdn={{perm.msidn_on_bot}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "id": "7u8QRcgjSXSOYpZpBt9Y1w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7u8QRcgjSXSOYpZpBt9Y1w",
                            "route": "f/s/7u8QRcgjSXSOYpZpBt9Y1w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "zTVacgsYSF2IATbTKf4UuA",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "T1KBkisJSkmtermcjQGYKQ",
                                                "route": "f/s/T1KBkisJSkmtermcjQGYKQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Py2zga5pQzSSJE2ywg2XWg",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "fDimBLcLSlaKrqOp9UaZYg",
                                                "route": "f/s/fDimBLcLSlaKrqOp9UaZYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I'm having some trouble trying to {{trans.event}} you.\r\n\r\nWould you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "id": "tHfoIQOeQtGmf1JwJrsYMg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "tHfoIQOeQtGmf1JwJrsYMg",
                            "route": "f/s/tHfoIQOeQtGmf1JwJrsYMg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "DBRyj-l4Qr2BYj3rHhOAPg",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "JNzHoYRPSCapX70tGCYK5A",
                                                "route": "f/s/JNzHoYRPSCapX70tGCYK5A",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "1hSczASvQJqRaqDNWtnFqw",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "fDimBLcLSlaKrqOp9UaZYg",
                                                "route": "f/s/fDimBLcLSlaKrqOp9UaZYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I'm struggling to check your current *subscription status*.\r\n\r\nWould you like me to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "HzBLX_NbRzGaApHCK0oD-A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Due to a technical issue, I am unable to {{trans.event}} you at the moment. Sorry about that!\r\n\r\nPlease try again later."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.event\r\ndel trans.event_type\r\ndel trans.subscribed",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.error\r\ndel trans.event\r\ndel trans.event_type\r\ndel trans.subscribed",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "tnaxpGinT1aLMtZS_6NABg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "id": "1k4dLo-9TJOYB-W2CFfcLg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "1k4dLo-9TJOYB-W2CFfcLg",
                            "route": "f/s/1k4dLo-9TJOYB-W2CFfcLg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "vtdzuKYMR2SWzcMipXFVnQ",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.event = \"subscribe\"",
                                                "ref": "T1KBkisJSkmtermcjQGYKQ",
                                                "route": "f/s/T1KBkisJSkmtermcjQGYKQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "5ncpX4aOSRqjdfq28_SNRw",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "fDimBLcLSlaKrqOp9UaZYg",
                                                "route": "f/s/fDimBLcLSlaKrqOp9UaZYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "You have *opted out* of getting messages from me.\r\n\r\nWould you like to *opt in*?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Subscribe",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "id": "gByK77I5Rvu7KX88Zww2DQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "gByK77I5Rvu7KX88Zww2DQ",
                            "route": "f/s/gByK77I5Rvu7KX88Zww2DQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "-teogITBTxyIqt-vofEZEA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.navigation.utterance == \"menu\"",
                                                "ref": "tnaxpGinT1aLMtZS_6NABg",
                                                "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "CVNJyCXoSKyFPwPgtJCYNA",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "fDimBLcLSlaKrqOp9UaZYg",
                                                "route": "f/s/fDimBLcLSlaKrqOp9UaZYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Great!\r\n\r\nNow that you\u2019ve opted in, I can send you messages when I need to.\r\n\r\n_You can *opt out* again at any time._\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Subscribed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "fDimBLcLSlaKrqOp9UaZYg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "id": "Yc5_FGvFT_2mPE6maKdGJQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Yc5_FGvFT_2mPE6maKdGJQ",
                            "route": "f/s/Yc5_FGvFT_2mPE6maKdGJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "G4dQOrdFSImHXGLlwgHDQw",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.event = \"unsubscribe\"",
                                                "ref": "T1KBkisJSkmtermcjQGYKQ",
                                                "route": "f/s/T1KBkisJSkmtermcjQGYKQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "47nbmPvFQDmgNcF_boSD0w",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "fDimBLcLSlaKrqOp9UaZYg",
                                                "route": "f/s/fDimBLcLSlaKrqOp9UaZYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "You have *opted in* to receive messages from me.\r\n\r\nWould you like to *opt out*?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Unsubscribe",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "id": "oyALYKd1QpatTkuNJvEqgg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tnaxpGinT1aLMtZS_6NABg",
                            "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "oyALYKd1QpatTkuNJvEqgg",
                            "route": "f/s/oyALYKd1QpatTkuNJvEqgg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "XrXfZZcWSuKRiOqKFyXILw",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.navigation.utterance == \"menu\"",
                                                "ref": "tnaxpGinT1aLMtZS_6NABg",
                                                "route": "f/s/tnaxpGinT1aLMtZS_6NABg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ntq8lzziRY-_-8vcfbJkrQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "fDimBLcLSlaKrqOp9UaZYg",
                                                "route": "f/s/fDimBLcLSlaKrqOp9UaZYg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "No problem \u2013 I will no longer send you messages on WhatsApp.\r\n\r\n_You can *opt in* again at any time._\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Unsubscribed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "1k4dLo-9TJOYB-W2CFfcLg",
                            "route": "f/s/1k4dLo-9TJOYB-W2CFfcLg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "tHfoIQOeQtGmf1JwJrsYMg",
                            "route": "f/s/tHfoIQOeQtGmf1JwJrsYMg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "AjQMFTL9RG-u5v0gbktLYQ",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.event == \"subscribe\"",
                            "ref": "gByK77I5Rvu7KX88Zww2DQ",
                            "route": "f/s/gByK77I5Rvu7KX88Zww2DQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "oyALYKd1QpatTkuNJvEqgg",
                            "route": "f/s/oyALYKd1QpatTkuNJvEqgg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "AwwM5dKpQp2t5M_vRwaZVQ",
                    "name": "Which event?",
                    "type": "decision",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "HzBLX_NbRzGaApHCK0oD-A",
                            "route": "f/s/HzBLX_NbRzGaApHCK0oD-A",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "7u8QRcgjSXSOYpZpBt9Y1w",
                            "route": "f/s/7u8QRcgjSXSOYpZpBt9Y1w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "uen-kLHzSkmv9Syjax7FTA",
                    "name": "Which event error?",
                    "type": "decision",
                    "workflow_id": "AXo8S_QDS2uB9vCckrhQZw",
                    "workflow_name": "HSMs: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "0bs5TWdGRquDU9O6axgB6g",
            "id": "xHlshH6aQqeNjVwiHYEddQ",
            "name": "HSMs: Set Reminder",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "WcyWqTo2TfGLljh_OpX1jw",
                            "route": "f/s/WcyWqTo2TfGLljh_OpX1jw",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "QQ66xF_LQoeH365VxfP43A",
                            "route": "f/s/QQ66xF_LQoeH365VxfP43A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "a9RA_d_YT6C2TXXYNgdNYg",
                    "name": "404?",
                    "type": "decision",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "id": "kRKMJ6vTSmagQRflKYcljg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "kRKMJ6vTSmagQRflKYcljg",
                            "route": "f/s/kRKMJ6vTSmagQRflKYcljg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "LznRYnp9Q_u4d-yvnE2DlA",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                                                "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "hKfMsJzfRY-GU3Cv7zMiVQ",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "i5_11Tm0RYyA2NSYKSxTYw",
                                                "route": "f/s/i5_11Tm0RYyA2NSYKSxTYw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "You have already set a reminder to read your meter for the {{trans.reading_date}}.\r\n\r\nIs there anything else I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Already registered",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"group\": trans.batch_name,\r\n    \"subscriber_params\": [\r\n        {\r\n            \"msisdn\": perm.msisdn_on_bot,\r\n            \"parameters\": {\r\n                \"0\": user.username\r\n            }\r\n        }\r\n    ]\r\n}",
                    "code": "",
                    "format": "JSON",
                    "id": "l5YG2tG-Q9WoLh8VAqog-w",
                    "method": "POST",
                    "name": "API: Append to batch",
                    "on_error": {
                        "transition": {
                            "ref": "mppgantWTcqoPUf_rUtzYQ",
                            "route": "f/s/mppgantWTcqoPUf_rUtzYQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "iv_TH-nqQDWnyJS1u8JJlw",
                            "route": "f/s/iv_TH-nqQDWnyJS1u8JJlw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.appended"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/append?token=mock",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "6D-r4hCbQOysol6dUYJ2-g",
                    "method": "GET",
                    "name": "API: Check if batch exists",
                    "on_error": {
                        "transition": {
                            "ref": "a9RA_d_YT6C2TXXYNgdNYg",
                            "route": "f/s/a9RA_d_YT6C2TXXYNgdNYg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "GKF_KTWyRs-P_ZxAjd8L7Q",
                            "route": "f/s/GKF_KTWyRs-P_ZxAjd8L7Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.group"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/batches?token=mock&group={{trans.batch_name}}&msisdn={{perm.msisdn_on_bot}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n  \"buttons\": [\r\n      {\r\n        \"type\": \"quick_reply\",\r\n        \"index\": 0,\r\n        \"value\": \"itUqTl-9QEym1Z0sNQxsCw\"\r\n      },\r\n      {\r\n        \"type\": \"quick_reply\",\r\n        \"index\": 1,\r\n        \"value\": \"m-6Gld3-QNCbFlIMmXKLiA\"\r\n      }\r\n  ],\r\n  \"description\": \"A batch to remind Eskom customers to read their meter on the: \" + trans.reading_date,\r\n  \"header\": {\"type\": null},\r\n  \"name\": trans.batch_name,\r\n  \"subscriber_params\": [\r\n    {\r\n      \"msisdn\": perm.msisdn_on_bot,\r\n      \"parameters\": {\r\n        \"0\": user.username,\r\n        \"1\": trans.end_date\r\n      }\r\n    }\r\n  ],\r\n  \"template_slug\": \"eskom_readings_buttons_qa\",\r\n  \"scheduled_start\": trans.schedule\r\n}",
                    "code": "trans.schedule = trans.reading_date + \"T08:00:00\"",
                    "format": "JSON",
                    "id": "WcyWqTo2TfGLljh_OpX1jw",
                    "method": "POST",
                    "name": "API: Create Batch",
                    "on_error": {
                        "transition": {
                            "ref": "H2Ixmz7NQLa7CEUOcQ6F8Q",
                            "route": "f/s/H2Ixmz7NQLa7CEUOcQ6F8Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "iv_TH-nqQDWnyJS1u8JJlw",
                            "route": "f/s/iv_TH-nqQDWnyJS1u8JJlw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.batch"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/schedule?token=mock",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "mppgantWTcqoPUf_rUtzYQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There seems to be an error adding your reminder for the {{trans.reading_date}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Can't append to batch",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "H2Ixmz7NQLa7CEUOcQ6F8Q",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Thre was a problem creating the reminders for the {{trans.reading_date}}. Please try again later."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Can't create batch",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.reading_date = \"2024-09-20\"",
                            "guard": "trans.subscribed",
                            "ref": "8Udko0V0T4GoZxfHT1q6SQ",
                            "route": "f/s/8Udko0V0T4GoZxfHT1q6SQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.not_subscribed",
                            "ref": "qqCN-AlGSpqmdJRYh88jKQ",
                            "route": "f/s/qqCN-AlGSpqmdJRYh88jKQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "0bs5TWdGRquDU9O6axgB6g",
                    "name": "Check subscription status",
                    "relatives": [
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:z3oFz8UeSGa09gNZVwizIg",
                            "name": "Keep an eye"
                        },
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:HKhrCpWqQoWqBUvmBNhihw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/Yrv1aSpNTKu-dlHaf7s0dQ/#state:Wto-0mgSRB6hdDUSBGTjbQ",
                            "name": "Keep an eye"
                        },
                        {
                            "location": "/editor/states/Yrv1aSpNTKu-dlHaf7s0dQ/#state:1BSxn4DpSdS3KSRLyIiwIQ",
                            "name": "Route or answer"
                        }
                    ],
                    "type": "wflow_call",
                    "wflow": {
                        "label": "Reusable: Subscribe",
                        "ref": "pmf0p54ERGCxzwJWlP9A9Q",
                        "route": "f/w/pmf0p54ERGCxzwJWlP9A9Q",
                        "type": "workflow"
                    },
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.group.found",
                            "ref": "kRKMJ6vTSmagQRflKYcljg",
                            "route": "f/s/kRKMJ6vTSmagQRflKYcljg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "l5YG2tG-Q9WoLh8VAqog-w",
                            "route": "f/s/l5YG2tG-Q9WoLh8VAqog-w",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "GKF_KTWyRs-P_ZxAjd8L7Q",
                    "name": "Found",
                    "type": "decision",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.batch_name = \"ESKOM_METER_READINGS_QA_\" + trans.reading_date",
                            "ref": "6D-r4hCbQOysol6dUYJ2-g",
                            "route": "f/s/6D-r4hCbQOysol6dUYJ2-g",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "8Udko0V0T4GoZxfHT1q6SQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Give me a few minutes while I set up a meter reading reminder for the {{trans.reading_date}}. This might take a few minutes..."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Introduction",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "id": "qqCN-AlGSpqmdJRYh88jKQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "qqCN-AlGSpqmdJRYh88jKQ",
                            "route": "f/s/qqCN-AlGSpqmdJRYh88jKQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "CstzJJLbQkKMMz2f4HDDzg",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                                                "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "C5e4GnRDRCmcfybkfsxKvw",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "i5_11Tm0RYyA2NSYKSxTYw",
                                                "route": "f/s/i5_11Tm0RYyA2NSYKSxTYw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I cannot legally send you messages you are not opted-in to.\r\n\r\nIs there anything else I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not subscribed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "id": "iv_TH-nqQDWnyJS1u8JJlw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "iv_TH-nqQDWnyJS1u8JJlw",
                            "route": "f/s/iv_TH-nqQDWnyJS1u8JJlw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "q6gikq3qQq2LPPp2Ex3gFQ",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                                                "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "xbmzrp7eRPyMK3ZmAoxAKw",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "i5_11Tm0RYyA2NSYKSxTYw",
                                                "route": "f/s/i5_11Tm0RYyA2NSYKSxTYw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Reminder to read your meter set for the {{trans.reading_date}}.\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Reminder set",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.date\r\ndel trans.group\r\ndel trans.reading_date\r\ndel trans.start_date\r\ndel trans.subscribed\r\ndel trans.batch_name\r\ntrans.navigation = {}",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.utterance\r\ndel trans.date\r\ndel trans.group\r\ndel trans.reading_date\r\ndel trans.start_date\r\ndel trans.subscribed\r\ndel trans.batch_name",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "BA-04Sg-SJWz4Ro-kkuwTA",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "QQ66xF_LQoeH365VxfP43A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was a technical error accessing the reminder system, please try again later."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Technical error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "BA-04Sg-SJWz4Ro-kkuwTA",
                            "route": "f/s/BA-04Sg-SJWz4Ro-kkuwTA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "i5_11Tm0RYyA2NSYKSxTYw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "xHlshH6aQqeNjVwiHYEddQ",
                    "workflow_name": "HSMs: Set Reminder"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "H6eRG7-vS3izwdhQ3WwJ2A",
            "id": "oX_hGX2WSpyUQnj-NPOhQg",
            "name": "Introduction",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "sh2sJnrYRX-wRJ2SiLFWIQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.name"
                            }
                        ],
                        "transition": {
                            "ref": "q9Sxpim9SgmPTiuhcbRwdw",
                            "route": "f/s/q9Sxpim9SgmPTiuhcbRwdw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "sh2sJnrYRX-wRJ2SiLFWIQ",
                            "route": "f/s/sh2sJnrYRX-wRJ2SiLFWIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "No problem \u2013 what would you like me to call you?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Change name",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                },
                {
                    "id": "zTlpVA3dS0ysPsJ0tHvKsw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "to-BvHb2QlWXY9lYup6xog",
                            "route": "f/s/to-BvHb2QlWXY9lYup6xog",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "zTlpVA3dS0ysPsJ0tHvKsw",
                            "route": "f/s/zTlpVA3dS0ysPsJ0tHvKsw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "szJI7iwaTmGmZl5LASgPqQ",
                                            "style": "",
                                            "text": "\ud83d\udc4d I agree",
                                            "transition": {
                                                "ref": "g1yVtDqYQPinECGsgNoGvw",
                                                "route": "f/s/g1yVtDqYQPinECGsgNoGvw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m afraid that makes it tricky for me to help you. \ud83d\ude2c\r\n\r\nIf you change your mind and want to proceed, please tap below to let me know if you agree."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Declined",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                },
                {
                    "id": "H6eRG7-vS3izwdhQ3WwJ2A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.name"
                            }
                        ],
                        "transition": {
                            "ref": "K23TNSs1REWLLX7qYMXK6g",
                            "route": "f/s/K23TNSs1REWLLX7qYMXK6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "H6eRG7-vS3izwdhQ3WwJ2A",
                            "route": "f/s/H6eRG7-vS3izwdhQ3WwJ2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Hello! \ud83d\udc4b\r\n\r\nI\u2019m *Alfred* \u2013 Eskom\u2019s ever-present, amped-to-assist, AI-enhanced chatbot.\r\nWhat\u2019s your name?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "First time greeting",
                    "relatives": [
                        {
                            "location": "/editor/states/NRi28eP2QoaHkfZLl_1zug/#state:ZjzXk_1QTb6jtasIziiNNg",
                            "name": "Establish context"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                },
                {
                    "id": "q9Sxpim9SgmPTiuhcbRwdw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "to-BvHb2QlWXY9lYup6xog",
                            "route": "f/s/to-BvHb2QlWXY9lYup6xog",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "q9Sxpim9SgmPTiuhcbRwdw",
                            "route": "f/s/q9Sxpim9SgmPTiuhcbRwdw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "a82AnQycTs2XnD9SezE97w",
                                            "style": "",
                                            "text": "\u2705 It\u2019s right",
                                            "transition": {
                                                "code": "user.username = trans.name\r\ndel trans.name",
                                                "ref": "qJh-nzC7QzuMQ2tQ16P4tA",
                                                "route": "f/s/qJh-nzC7QzuMQ2tQ16P4tA",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "unX33dLNTUydaQcJI-rV3g",
                                            "style": "",
                                            "text": "\u274c Change it",
                                            "transition": {
                                                "ref": "sh2sJnrYRX-wRJ2SiLFWIQ",
                                                "route": "f/s/sh2sJnrYRX-wRJ2SiLFWIQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Sure thing {{trans.name}} \u2013 is that right?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "New name",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                },
                {
                    "id": "K23TNSs1REWLLX7qYMXK6g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "to-BvHb2QlWXY9lYup6xog",
                            "route": "f/s/to-BvHb2QlWXY9lYup6xog",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "K23TNSs1REWLLX7qYMXK6g",
                            "route": "f/s/K23TNSs1REWLLX7qYMXK6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "o0GwlJ75Rae_NVhnCUqWoQ",
                                            "style": "",
                                            "text": "\u2705 It\u2019s right",
                                            "transition": {
                                                "code": "user.username = trans.name\r\ndel trans.name",
                                                "ref": "qJh-nzC7QzuMQ2tQ16P4tA",
                                                "route": "f/s/qJh-nzC7QzuMQ2tQ16P4tA",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "PqzVPmMYTNiICOmtjqlRug",
                                            "style": "",
                                            "text": "\u274c Change it",
                                            "transition": {
                                                "ref": "sh2sJnrYRX-wRJ2SiLFWIQ",
                                                "route": "f/s/sh2sJnrYRX-wRJ2SiLFWIQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Nice to meet you {{trans.name}}!\r\n\r\nDid I get that right or do you need to change your name?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Nice to meet you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                },
                {
                    "id": "g1yVtDqYQPinECGsgNoGvw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "to-BvHb2QlWXY9lYup6xog",
                            "route": "f/s/to-BvHb2QlWXY9lYup6xog",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "g1yVtDqYQPinECGsgNoGvw",
                            "route": "f/s/g1yVtDqYQPinECGsgNoGvw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "wrpiBChPSoGjz9vWqvBRfQ",
                                            "style": "",
                                            "text": "\u26a1 Postpaid",
                                            "transition": {
                                                "label": "Login: Postpaid",
                                                "ref": "2JLYQtHYQZe42CTmEO2gdw",
                                                "route": "f/w/2JLYQtHYQZe42CTmEO2gdw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "yr3rCJB6T26QUhxSbyFtYQ",
                                            "style": "",
                                            "text": "\u26a1 Neither",
                                            "transition": {
                                                "label": "Menu: Logged Out",
                                                "ref": "PuI-bXqSTEGJjio6ySMdSA",
                                                "route": "f/w/PuI-bXqSTEGJjio6ySMdSA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "628Qlu1zTSG9ctOPDMWU1A",
                                            "style": "",
                                            "text": "\u26a1 Prepaid",
                                            "transition": {
                                                "label": "Login: Prepaid",
                                                "ref": "WTTD9JUbSsuDI4RPlcFp0w",
                                                "route": "f/w/WTTD9JUbSsuDI4RPlcFp0w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thanks{% if user.username %}, {{user.username}}{% endif %}!\r\n\r\nNext up, I need to know what type of Eskom customer you are.\r\n\r\nWhich is it?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Prepaid or Postpaid",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "del trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "to-BvHb2QlWXY9lYup6xog",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                },
                {
                    "code": "del trans.document\r\ndel trans.url\r\ndel trans.text\r\ndel trans.button_1\r\ndel trans.button_2",
                    "decisions": [
                        {
                            "code": "del trans.button_one\r\ndel trans.button_two",
                            "guard": "trans.button_one",
                            "ref": "g1yVtDqYQPinECGsgNoGvw",
                            "route": "f/s/g1yVtDqYQPinECGsgNoGvw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.button_one\r\ndel trans.button_two",
                            "guard": "trans.button_two",
                            "ref": "zTlpVA3dS0ysPsJ0tHvKsw",
                            "route": "f/s/zTlpVA3dS0ysPsJ0tHvKsw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.button_one\r\ndel trans.button_two",
                            "ref": "to-BvHb2QlWXY9lYup6xog",
                            "route": "f/s/to-BvHb2QlWXY9lYup6xog",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "qJh-nzC7QzuMQ2tQ16P4tA",
                    "name": "Show terms and conditions",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.document = \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/documents/terms_and_conditions.pdf\"\r\ntrans.text = \"Great!\\nBefore we get to all the useful things I can help you with, I need you to agree to these terms and conditions.\"\r\ntrans.button_1 = \"\u2705 I accept\"\r\ntrans.button_2 = \"\u274c I don\u2019t\"",
                        "label": "Render: Document",
                        "ref": "BQRw87-bSm2bhp6fdStDVA",
                        "route": "f/w/BQRw87-bSm2bhp6fdStDVA",
                        "type": "workflow"
                    },
                    "workflow_id": "oX_hGX2WSpyUQnj-NPOhQg",
                    "workflow_name": "Introduction"
                }
            ],
            "updated_at": "Sep. 20, 2024, 04:27 AM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "ACu8J1VwRK-I8sObvBVrQw",
            "id": "OzxkVsL4TLanlQ6VqszbSg",
            "name": "Login: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "ACu8J1VwRK-I8sObvBVrQw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qFGjswffRj6LvrS6AWGzIg",
                            "route": "f/s/qFGjswffRj6LvrS6AWGzIg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ACu8J1VwRK-I8sObvBVrQw",
                            "route": "f/s/ACu8J1VwRK-I8sObvBVrQw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "oC850q9PSEG5wrLqKj5pTQ",
                                            "style": "",
                                            "text": "\u26a1\ufe0f Prepaid",
                                            "transition": {
                                                "label": "Login: Prepaid",
                                                "ref": "WTTD9JUbSsuDI4RPlcFp0w",
                                                "route": "f/w/WTTD9JUbSsuDI4RPlcFp0w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "2uVR0a2RRZ-hjWF5MsiEyg",
                                            "style": "",
                                            "text": "\u26a1\ufe0f Postpaid",
                                            "transition": {
                                                "label": "Login: Postpaid",
                                                "ref": "2JLYQtHYQZe42CTmEO2gdw",
                                                "route": "f/w/2JLYQtHYQZe42CTmEO2gdw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "zbQJM9zxSKW_buCjOS8SzA",
                                            "style": "",
                                            "text": "\u26a1\ufe0f Neither",
                                            "transition": {
                                                "label": "Menu: Main",
                                                "ref": "JfhDWc6UTFaa-pwepw3hrA",
                                                "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thanks{% if user.name %}, {{user.name}}{% endif %}!\r\n\r\nNext up, I need to know what type of Eskom customer you are.\r\n\r\nWhich is it?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Prepaid or postpaid?",
                    "relatives": [
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        },
                        {
                            "location": "/editor/states/nXv5rj_BSlijKOCFyYjR2w/#state:lqKD-BcoSrGNGhlBd1i1-Q",
                            "name": "Log history"
                        },
                        {
                            "location": "/editor/states/PuI-bXqSTEGJjio6ySMdSA/#state:wkXegw0tThWkOBp56B1KyQ",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "OzxkVsL4TLanlQ6VqszbSg",
                    "workflow_name": "Login: Entrypoint"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "del trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "qFGjswffRj6LvrS6AWGzIg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "OzxkVsL4TLanlQ6VqszbSg",
                    "workflow_name": "Login: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "Aep384_lRVigJzfYW7SRiQ",
            "id": "2JLYQtHYQZe42CTmEO2gdw",
            "name": "Login: Postpaid",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "perm.customer = {}\r\ntrans.context = {}\r\npremises = trans.customer.get(\"details\", {}).get(\"premises\", [])\r\naccount = trans.account_number\r\nnext_date = trans.customer.get(\"details\", {}).get(\"reading_date\", \"\")\r\ncredit = trans.customer.get(\"details\", {}).get(\"credit_rating\", \"\")\r\nidentifier = trans.customer.get(\"details\", {}).get(\"sa_id\", \"\")\r\ncitizen = trans.customer.get(\"details\", {}).get(\"natural_citizen\", True)\r\n\r\ntrans.context.update({\r\n    \"logged_in\": True,\r\n    \"logged_out\": False,\r\n    \"premises\": premises,\r\n    \"account\": account\r\n})\r\n\r\nperm.customer.update({\"identifier\": identifier, \"prepaid\":False, \"postpaid\": True, \"premises\": premises, \"account\": account, \"next_date\": next_date, \"credit\": credit, \"citizen\": citizen})\r\nperm.logged_in = True\r\ndel trans.meter\r\ndel trans.customer",
                            "guard": "trans.customer.details.account_number",
                            "ref": "zWcgjeyXRfeayu5A2FiW1g",
                            "route": "f/s/zWcgjeyXRfeayu5A2FiW1g",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "JJjerJpoTIuKgoY6uuRHQA",
                            "route": "f/s/JJjerJpoTIuKgoY6uuRHQA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "SrhEfDi9QNy7c4cPA7Q1Pw",
                    "name": "Account found?",
                    "type": "decision",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "id": "Aep384_lRVigJzfYW7SRiQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.account_number"
                            }
                        ],
                        "transition": {
                            "ref": "w75WSNUCT5aR1KysR_8FrA",
                            "route": "f/s/w75WSNUCT5aR1KysR_8FrA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "yQlF6xKCTWi2w-nJgokjCw",
                            "route": "f/s/yQlF6xKCTWi2w-nJgokjCw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "numeric"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Excellent!\r\n\r\nThen I just need your Eskom *account number* \u2013 please send that to me now."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Account number",
                    "relatives": [
                        {
                            "location": "/editor/states/oX_hGX2WSpyUQnj-NPOhQg/#state:g1yVtDqYQPinECGsgNoGvw",
                            "name": "Prepaid or Postpaid"
                        },
                        {
                            "location": "/editor/states/OzxkVsL4TLanlQ6VqszbSg/#state:ACu8J1VwRK-I8sObvBVrQw",
                            "name": "Prepaid or postpaid?"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "KB0lUkHjR9Ka9GUMk73NVg",
                            "route": "f/s/KB0lUkHjR9Ka9GUMk73NVg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "pvjY_-_wR9Gw26ijhMeUsQ",
                            "route": "f/s/pvjY_-_wR9Gw26ijhMeUsQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "KB0lUkHjR9Ka9GUMk73NVg",
                            "route": "f/s/KB0lUkHjR9Ka9GUMk73NVg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "2HOClWTSTGygoo4W71Clew",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "Unld-2sHQpyiKaTQoHtPOQ",
                    "method": "GET",
                    "name": "API: Get customer",
                    "on_error": {
                        "transition": {
                            "ref": "1bOyq5LYR7G8221BdJt4xA",
                            "route": "f/s/1bOyq5LYR7G8221BdJt4xA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "SrhEfDi9QNy7c4cPA7Q1Pw",
                            "route": "f/s/SrhEfDi9QNy7c4cPA7Q1Pw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.customer"
                    },
                    "resource": "{{const.MIDDLEWARE}}/customers/postpaid?token=mock&account={{trans.account_number}}&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "code": "account = perm.customer.account\r\nlog_in_time = datetime.utcnow()\r\nperm.setdefault(\"log_in_information\", {\"history\": []})\r\nif perm.log_in_information.get(account):\r\n    perm.log_in_information[account].append(f\"login-{log_in_time}\")\r\n    if perm.log_in_information.history:\r\n        perm.log_in_information.history.append(account)\r\n        temp_set = set(perm.log_in_information.history)\r\n        perm.log_in_information.history = (list(temp_set))\r\n    else:\r\n        perm.log_in_information.history = [account]\r\nelse:\r\n    perm.log_in_information.update({\r\n        account: [f\"login-{log_in_time}\"]\r\n    })\r\n    if perm.log_in_information.history:\r\n        perm.log_in_information.history.append(account)\r\n        temp_set = set(perm.log_in_information.history)\r\n        perm.log_in_information.history = (list(temp_set))\r\n    else:\r\n        perm.log_in_information.history = [account]\r\n",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "pvjY_-_wR9Gw26ijhMeUsQ",
                            "route": "f/s/pvjY_-_wR9Gw26ijhMeUsQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "zWcgjeyXRfeayu5A2FiW1g",
                    "name": "Capture history",
                    "type": "decision",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "id": "X2AVf9V5RxS9OVTS33HkbQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"login\"",
                            "ref": "2HOClWTSTGygoo4W71Clew",
                            "route": "f/s/2HOClWTSTGygoo4W71Clew",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "X2AVf9V5RxS9OVTS33HkbQ",
                            "route": "f/s/X2AVf9V5RxS9OVTS33HkbQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "kh3E3XL3TmusBN1rmSDNFw",
                                            "style": "",
                                            "text": "\ud83d\udd04 Try again",
                                            "transition": {
                                                "ref": "Unld-2sHQpyiKaTQoHtPOQ",
                                                "route": "f/s/Unld-2sHQpyiKaTQoHtPOQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "fBBLzRtVRtGylviBzkTZ-Q",
                                            "style": "",
                                            "text": "\ud83d\udd35\ufe0f See menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "pvjY_-_wR9Gw26ijhMeUsQ",
                                                "route": "f/s/pvjY_-_wR9Gw26ijhMeUsQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry, {{user.username}} \u2013 my system isn\u2019t allowing me to verify you right this minute.\r\n\r\nPlease wait a few minutes, then *try again*.\r\n\r\nYou can also see a *limited menu* without signing in."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "id": "yQlF6xKCTWi2w-nJgokjCw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"accounts\"",
                            "ref": "2HOClWTSTGygoo4W71Clew",
                            "route": "f/s/2HOClWTSTGygoo4W71Clew",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "yQlF6xKCTWi2w-nJgokjCw",
                            "route": "f/s/yQlF6xKCTWi2w-nJgokjCw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "m7_Tt2PvSUujy59YJJyuMA",
                                            "style": "",
                                            "text": "\u2705\ufe0f Resend",
                                            "transition": {
                                                "ref": "Aep384_lRVigJzfYW7SRiQ",
                                                "route": "f/s/Aep384_lRVigJzfYW7SRiQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "M2Dv5OuyQKOfayH73yRSFg",
                                            "style": "",
                                            "text": "\u274c Cancel",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "label": "Menu: Logged Out",
                                                "ref": "PuI-bXqSTEGJjio6ySMdSA",
                                                "route": "f/w/PuI-bXqSTEGJjio6ySMdSA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Wait, that doesn\u2019t look right...\r\n\r\nYour Eskom account number has *10 digits*, so {{trans.account_number}} is not the correct number.\r\n\r\nWould you like to *resend* your account number or *cancel* to view your other options?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Luhn failed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "code": "del trans.luhn\r\ndel trans.postpaid",
                    "decisions": [
                        {
                            "code": "del trans.valid\r\ndel trans.flag",
                            "guard": "trans.valid",
                            "ref": "Unld-2sHQpyiKaTQoHtPOQ",
                            "route": "f/s/Unld-2sHQpyiKaTQoHtPOQ",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.valid\r\ndel trans.flag",
                            "ref": "yQlF6xKCTWi2w-nJgokjCw",
                            "route": "f/s/yQlF6xKCTWi2w-nJgokjCw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "w75WSNUCT5aR1KysR_8FrA",
                    "name": "Luhn test",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.postpaid = True\r\ndel trans.prepaid",
                        "label": "Reusable: LUHN Test",
                        "ref": "rCt59Q6oRxSZwvEFN1bzrQ",
                        "route": "f/w/rCt59Q6oRxSZwvEFN1bzrQ",
                        "type": "workflow"
                    },
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "id": "hvOJNOO6SHGxgXjZpHVbTg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"sign in\"",
                            "ref": "2HOClWTSTGygoo4W71Clew",
                            "route": "f/s/2HOClWTSTGygoo4W71Clew",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "hvOJNOO6SHGxgXjZpHVbTg",
                            "route": "f/s/hvOJNOO6SHGxgXjZpHVbTg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "FY9HuR9VRG-pyeFciA8C8A",
                                            "style": "",
                                            "text": " \u2705\ufe0f Resend",
                                            "transition": {
                                                "ref": "Aep384_lRVigJzfYW7SRiQ",
                                                "route": "f/s/Aep384_lRVigJzfYW7SRiQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "D7NiOH7QTX-pyZaSlpdjYw",
                                            "style": "",
                                            "text": "\u274c Cancel",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "pvjY_-_wR9Gw26ijhMeUsQ",
                                                "route": "f/s/pvjY_-_wR9Gw26ijhMeUsQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m afraid the account number *{{trans.account_number}}* isn\u2019t registered on the Eskom system.\r\n\r\nPlease *resend* it and make sure you enter the number exactly as it appears on your bill.\r\n\r\nOr you can *cancel* the sign-in process to view your other options."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.route == \"login\"",
                            "ref": "X2AVf9V5RxS9OVTS33HkbQ",
                            "route": "f/s/X2AVf9V5RxS9OVTS33HkbQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.route == \"sign in\"",
                            "ref": "hvOJNOO6SHGxgXjZpHVbTg",
                            "route": "f/s/hvOJNOO6SHGxgXjZpHVbTg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.route == \"accounts\"",
                            "ref": "yQlF6xKCTWi2w-nJgokjCw",
                            "route": "f/s/yQlF6xKCTWi2w-nJgokjCw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "pvjY_-_wR9Gw26ijhMeUsQ",
                            "route": "f/s/pvjY_-_wR9Gw26ijhMeUsQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "KB0lUkHjR9Ka9GUMk73NVg",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "code": "del trans.meter\r\ndel trans.customer",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}\r\ndel trans.utterance\r\ndel trans.account_number",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.account_number",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "pvjY_-_wR9Gw26ijhMeUsQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "pvjY_-_wR9Gw26ijhMeUsQ",
                            "route": "f/s/pvjY_-_wR9Gw26ijhMeUsQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "JJjerJpoTIuKgoY6uuRHQA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Well, this is awkward...\r\n\r\nI _know_ you have an Eskom account, but your details need to be validated on our system first.\r\n\r\nThis may take a day or two, but we can start the process right away \u2013 shall we do it?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Unvalidated",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "hvOJNOO6SHGxgXjZpHVbTg",
                            "route": "f/s/hvOJNOO6SHGxgXjZpHVbTg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "X2AVf9V5RxS9OVTS33HkbQ",
                            "route": "f/s/X2AVf9V5RxS9OVTS33HkbQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "1bOyq5LYR7G8221BdJt4xA",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "2JLYQtHYQZe42CTmEO2gdw",
                    "workflow_name": "Login: Postpaid"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "ggQlb_rJSJuLOIj_D9ClTA",
            "id": "WTTD9JUbSsuDI4RPlcFp0w",
            "name": "Login: Prepaid",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "perm.customer = {}\r\ntrans.context = {}\r\ntrans.premises = trans.customer.get(\"details\", {}).get(\"premises\", [])\r\naccount = trans.customer.get(\"details\", {}).get(\"account_number\", \"\").replace(\" \", \"\")\r\ndevice = trans.customer.get(\"details\", {}).get(\"prepaid_meter\", \"\").replace(\" \", \"\")\r\nbuyer = trans.customer.get(\"details\", {}).get(\"buyer\", \"\").lower()\r\nlow_buyer = buyer.startswith(\"low\")\r\nzero_buyer = buyer.startswith(\"zero\")\r\nidentifier = trans.customer.get(\"details\", {}).get(\"sa_id\", \"\")\r\ncitizen = trans.customer.get(\"details\", {}).get(\"natural_citizen\", True)\r\n\r\ntrans.context.update({\r\n    \"logged_in\": True,\r\n    \"logged_out\": False,\r\n    \"premises\": trans.premises,\r\n    \"device\": device,\r\n    \"account\": account\r\n})\r\n\r\nperm.customer.update({\"identifier\": identifier, \"prepaid\":True, \"postpaid\": False, \"premises\": trans.premises, \"prepaid_meter\": device, \"account\": account, \"low_buyer\": low_buyer, \"zero_buyer\": zero_buyer, \"citizen\": citizen})\r\nperm.logged_in = True\r\ndel trans.meter\r\ndel trans.customer\r\ntrans.address = trans.premises[0][\"description\"]",
                            "guard": "trans.customer.details.account_number",
                            "ref": "f8CXt9RRQWepJpJWhWKnuA",
                            "route": "f/s/f8CXt9RRQWepJpJWhWKnuA",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "075TpCJcRIOSqBvr_BSrzw",
                            "route": "f/s/075TpCJcRIOSqBvr_BSrzw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "b8hTME2xQF-in0KKGdE-0Q",
                    "name": "Account found?",
                    "type": "decision",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "_mXfxECDQZ-NyAU0GNEtLw",
                            "route": "f/s/_mXfxECDQZ-NyAU0GNEtLw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "V4q5oR9CQjqrED4FzM-GRg",
                            "route": "f/s/V4q5oR9CQjqrED4FzM-GRg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "_mXfxECDQZ-NyAU0GNEtLw",
                            "route": "f/s/_mXfxECDQZ-NyAU0GNEtLw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "cpFEaHE3Ta-kSgtD_wPV2A",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "Vfh2NHcfTnewJR99aD50pQ",
                    "method": "GET",
                    "name": "API: Get customer",
                    "on_error": {
                        "transition": {
                            "ref": "bgHpsihYR4yal6ezRaU8rQ",
                            "route": "f/s/bgHpsihYR4yal6ezRaU8rQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "b8hTME2xQF-in0KKGdE-0Q",
                            "route": "f/s/b8hTME2xQF-in0KKGdE-0Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.customer"
                    },
                    "resource": "{{const.MIDDLEWARE}}/customers/prepaid?token=mock&meter={{trans.meter}}&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.add = trans.address + \", ZA\"",
                    "format": null,
                    "id": "rQFVDHXVRLWWV2PVvNQX0A",
                    "method": "GET",
                    "name": "API: Get province",
                    "on_error": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.add\r\ndel trans.address",
                            "ref": "V4q5oR9CQjqrED4FzM-GRg",
                            "route": "f/s/V4q5oR9CQjqrED4FzM-GRg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "components = trans.geolocation.results[0][\"address_components\"]\r\nprovince = \"\"\r\nprovince_name = \"\"\r\nfor component in components:\r\n    if component[\"types\"][0] == \"administrative_area_level_1\":\r\n        province = component[\"short_name\"]\r\n        province_name = component[\"long_name\"]\r\nperm.customer.premises[0].update({\"province\": province.lower(), \"province_name\": province_name})\r\ntrans.utterance = \"menu\"\r\ndel trans.add\r\ndel trans.address",
                            "ref": "V4q5oR9CQjqrED4FzM-GRg",
                            "route": "f/s/V4q5oR9CQjqrED4FzM-GRg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.geolocation"
                    },
                    "resource": "https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBPiom5smBrEzMpe6ju3IL3NzCoan9UmWY&address={{trans.add}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "code": "account = perm.customer.account\r\nlog_in_time = datetime.utcnow()\r\nperm.setdefault(\"log_in_information\", {\"history\": []})\r\nif perm.log_in_information.get(account):\r\n    perm.log_in_information[account].append(f\"login-{log_in_time}\")\r\n    if perm.log_in_information.history:\r\n        perm.log_in_information.history.append(account)\r\n        temp_set = set(perm.log_in_information.history)\r\n        perm.log_in_information.history = (list(temp_set))\r\n    else:\r\n        perm.log_in_information.history = [account]\r\nelse:\r\n    perm.log_in_information.update({\r\n        account: [f\"login-{log_in_time}\"]\r\n    })\r\n    if perm.log_in_information.history:\r\n        perm.log_in_information.history.append(account)\r\n        temp_set = set(perm.log_in_information.history)\r\n        perm.log_in_information.history = (list(temp_set))\r\n    else:\r\n        perm.log_in_information.history = [account]\r\n",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "rQFVDHXVRLWWV2PVvNQX0A",
                            "route": "f/s/rQFVDHXVRLWWV2PVvNQX0A",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "f8CXt9RRQWepJpJWhWKnuA",
                    "name": "Capture history",
                    "type": "decision",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "id": "MzI5e54LQ9C6pPTz4HQjAQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"login\"\r\ndel trans.error_text",
                            "ref": "cpFEaHE3Ta-kSgtD_wPV2A",
                            "route": "f/s/cpFEaHE3Ta-kSgtD_wPV2A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "MzI5e54LQ9C6pPTz4HQjAQ",
                            "route": "f/s/MzI5e54LQ9C6pPTz4HQjAQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "I15Du5GFQti0wjG27v9kVQ",
                                            "style": "",
                                            "text": "\ud83d\udd04 Try again",
                                            "transition": {
                                                "code": "del trans.error_text",
                                                "ref": "Vfh2NHcfTnewJR99aD50pQ",
                                                "route": "f/s/Vfh2NHcfTnewJR99aD50pQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "vCy7PqyFRCm0lY0qlAI6tg",
                                            "style": "",
                                            "text": "\ud83d\udd35\ufe0f See menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"\r\ndel trans.error_text",
                                                "ref": "V4q5oR9CQjqrED4FzM-GRg",
                                                "route": "f/s/V4q5oR9CQjqrED4FzM-GRg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{% if trans.error_text %}{{trans.error_text}}{% else %}I\u2019m so sorry, {{user.name}} \u2013 my system isn\u2019t allowing me to verify you right this minute.\r\n\r\nPlease wait a few minutes, then *try again*.\r\n\r\nYou can also see a *limited menu* without signing in.{% endif %}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "id": "3N3KdUhBTJywOXqzf1s3FA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"meter no.\"",
                            "ref": "cpFEaHE3Ta-kSgtD_wPV2A",
                            "route": "f/s/cpFEaHE3Ta-kSgtD_wPV2A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "3N3KdUhBTJywOXqzf1s3FA",
                            "route": "f/s/3N3KdUhBTJywOXqzf1s3FA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "BQ3oIDRiSkKAq2_D13q47w",
                                            "style": "",
                                            "text": "\u2705\ufe0f Resend",
                                            "transition": {
                                                "ref": "ggQlb_rJSJuLOIj_D9ClTA",
                                                "route": "f/s/ggQlb_rJSJuLOIj_D9ClTA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "u87RJBN4SvGD4ttQntI37Q",
                                            "style": "",
                                            "text": "\u274c Cancel",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "V4q5oR9CQjqrED4FzM-GRg",
                                                "route": "f/s/V4q5oR9CQjqrED4FzM-GRg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Wait, that doesn\u2019t look right...\r\n\r\nPlease double check and make sure you\u2019ve entered the correct number _exactly_ as it appears on the meter.\r\n\r\nWould you like to *resend* now or *cancel* to view your other options?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Luhn failed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "code": "del trans.luhn\r\ndel trans.prepaid\r\ndel trans.meter_number",
                    "decisions": [
                        {
                            "code": "del trans.valid\r\ndel trans.flag",
                            "guard": "trans.valid",
                            "ref": "Vfh2NHcfTnewJR99aD50pQ",
                            "route": "f/s/Vfh2NHcfTnewJR99aD50pQ",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.valid\r\ndel trans.flag",
                            "ref": "3N3KdUhBTJywOXqzf1s3FA",
                            "route": "f/s/3N3KdUhBTJywOXqzf1s3FA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "0fose8VzS4KZ3awwrRIt8Q",
                    "name": "Luhn test",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.meter_number = trans.meter\r\ntrans.prepaid = True\r\ndel trans.postpaid",
                        "label": "Reusable: LUHN Test",
                        "ref": "rCt59Q6oRxSZwvEFN1bzrQ",
                        "route": "f/w/rCt59Q6oRxSZwvEFN1bzrQ",
                        "type": "workflow"
                    },
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "id": "ggQlb_rJSJuLOIj_D9ClTA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.meter"
                            }
                        ],
                        "transition": {
                            "ref": "0fose8VzS4KZ3awwrRIt8Q",
                            "route": "f/s/0fose8VzS4KZ3awwrRIt8Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ggQlb_rJSJuLOIj_D9ClTA",
                            "route": "f/s/ggQlb_rJSJuLOIj_D9ClTA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Excellent!\r\n\r\nThen I just need your Eskom *meter* number \u2013 please send that to me now."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Meter number",
                    "relatives": [
                        {
                            "location": "/editor/states/oX_hGX2WSpyUQnj-NPOhQg/#state:g1yVtDqYQPinECGsgNoGvw",
                            "name": "Prepaid or Postpaid"
                        },
                        {
                            "location": "/editor/states/OzxkVsL4TLanlQ6VqszbSg/#state:ACu8J1VwRK-I8sObvBVrQw",
                            "name": "Prepaid or postpaid?"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "id": "IHHKmyC-Qn2aL-soPrOChQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"sign in\"",
                            "ref": "cpFEaHE3Ta-kSgtD_wPV2A",
                            "route": "f/s/cpFEaHE3Ta-kSgtD_wPV2A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "IHHKmyC-Qn2aL-soPrOChQ",
                            "route": "f/s/IHHKmyC-Qn2aL-soPrOChQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "VhZiYDGsS-2Jleve1q4yOA",
                                            "style": "",
                                            "text": " \u2705\ufe0f Resend",
                                            "transition": {
                                                "ref": "ggQlb_rJSJuLOIj_D9ClTA",
                                                "route": "f/s/ggQlb_rJSJuLOIj_D9ClTA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "i7sg1nZiRrCHaHgNGKmpmA",
                                            "style": "",
                                            "text": "\u274c Cancel",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "V4q5oR9CQjqrED4FzM-GRg",
                                                "route": "f/s/V4q5oR9CQjqrED4FzM-GRg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m afraid the meter number *{{trans.meter}}* isn\u2019t registered on the Eskom system.\r\n\r\nPlease *resend* it and make sure you enter the number exactly as it appears on your meter.\r\n\r\nOr you can *cancel* the sign-in process to view your other options."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"login\"",
                            "ref": "MzI5e54LQ9C6pPTz4HQjAQ",
                            "route": "f/s/MzI5e54LQ9C6pPTz4HQjAQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"details\"",
                            "ref": "075TpCJcRIOSqBvr_BSrzw",
                            "route": "f/s/075TpCJcRIOSqBvr_BSrzw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"sign in\"",
                            "ref": "IHHKmyC-Qn2aL-soPrOChQ",
                            "route": "f/s/IHHKmyC-Qn2aL-soPrOChQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"meter no.\"",
                            "ref": "3N3KdUhBTJywOXqzf1s3FA",
                            "route": "f/s/3N3KdUhBTJywOXqzf1s3FA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "V4q5oR9CQjqrED4FzM-GRg",
                            "route": "f/s/V4q5oR9CQjqrED4FzM-GRg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "_mXfxECDQZ-NyAU0GNEtLw",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "code": "del trans.meter\r\ndel trans.customer",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}\r\ndel trans.customer\r\ndel trans.meter\r\ndel trans.utterance\r\ndel trans.premises\r\ndel trans.province\r\ndel trans.geolocation",
                            "guard": "trans.utterance == \"unvalidated\"",
                            "label": "Unvalidated: Entrypoint",
                            "ref": "loAZFG-kSZWNZxewg7p0Fw",
                            "route": "f/w/loAZFG-kSZWNZxewg7p0Fw",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation = {}\r\ndel trans.utterance\r\ndel trans.meter\r\ndel trans.utterance\r\ndel trans.premises\r\ndel trans.province\r\ndel trans.geolocation",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.meter\r\ndel trans.utterance\r\ndel trans.premises\r\ndel trans.province\r\ndel trans.geolocation",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "V4q5oR9CQjqrED4FzM-GRg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "id": "075TpCJcRIOSqBvr_BSrzw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"details\"",
                            "ref": "cpFEaHE3Ta-kSgtD_wPV2A",
                            "route": "f/s/cpFEaHE3Ta-kSgtD_wPV2A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "075TpCJcRIOSqBvr_BSrzw",
                            "route": "f/s/075TpCJcRIOSqBvr_BSrzw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "BS4FN5OHTzWyaT-UpBmydQ",
                                            "style": "",
                                            "text": "\ud83e\udd13 Sure",
                                            "transition": {
                                                "code": "trans.utterance = \"unvalidated\"",
                                                "label": "Unvalidated: Entrypoint",
                                                "ref": "loAZFG-kSZWNZxewg7p0Fw",
                                                "route": "f/w/loAZFG-kSZWNZxewg7p0Fw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "sBJYk26cTpOYejcgonzmXA",
                                            "style": "",
                                            "text": " \ud83e\udee3\ufe0f\ufe0f Maybe later",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ggQlb_rJSJuLOIj_D9ClTA",
                                                "route": "f/s/ggQlb_rJSJuLOIj_D9ClTA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Well, this is awkward...\r\n\r\nI _know_ you have an Eskom prepaid meter, but your details need to be validated on our system first.\r\n\r\nThis may take a day or two, but we can start the process right away \u2013 shall we do it?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Unvalidated",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 401",
                            "ref": "075TpCJcRIOSqBvr_BSrzw",
                            "route": "f/s/075TpCJcRIOSqBvr_BSrzw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "IHHKmyC-Qn2aL-soPrOChQ",
                            "route": "f/s/IHHKmyC-Qn2aL-soPrOChQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.error_text = \"I\u2019m so sorry,  \u2013 my system isn\u2019t allowing me to verify you right this minute. Are you sure you entered the right meter number?\\n\\nPlease wait a few minutes, then try again.\\n\\nYou can also see a limited menu without signing in.\"",
                            "guard": "trans.error_.status_code == 400",
                            "ref": "MzI5e54LQ9C6pPTz4HQjAQ",
                            "route": "f/s/MzI5e54LQ9C6pPTz4HQjAQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "MzI5e54LQ9C6pPTz4HQjAQ",
                            "route": "f/s/MzI5e54LQ9C6pPTz4HQjAQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bgHpsihYR4yal6ezRaU8rQ",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "WTTD9JUbSsuDI4RPlcFp0w",
                    "workflow_name": "Login: Prepaid"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "2ax-VPjRSYKC_Q-pX-8M1w",
            "id": "tKvsMyspQ2y0UBJH3bSN-w",
            "name": "Menu: Logged In",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "2ax-VPjRSYKC_Q-pX-8M1w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "k9L__styTpOC6mzn-Pg4Zg",
                            "route": "f/s/k9L__styTpOC6mzn-Pg4Zg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2ax-VPjRSYKC_Q-pX-8M1w",
                            "route": "f/s/2ax-VPjRSYKC_Q-pX-8M1w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "perm.customer.prepaid or perm.customer.postpaid",
                                            "id": "Ef5Qe0wzRuGsQfaBpGMtew",
                                            "style": "list",
                                            "text": "\u26a1\ufe0f Outages",
                                            "transition": {
                                                "code": "trans.desc__=\"Report or follow up on an outage.\"",
                                                "label": "Faults: Entrypoint",
                                                "ref": "DnJU93jkRti5yzGjBDDjIQ",
                                                "route": "f/w/DnJU93jkRti5yzGjBDDjIQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "perm.customer.prepaid",
                                            "id": "zqfb67d3R0Cqt94u3zSTXA",
                                            "style": "list",
                                            "text": "\u274c Token Issues",
                                            "transition": {
                                                "code": "trans.desc__=\"Get KRN info and submit faulty tokens for verification and refund.\"",
                                                "label": "Tokens: Entrypoint",
                                                "ref": "zETuDg6gTTuSF9vIjOBk3w",
                                                "route": "f/w/zETuDg6gTTuSF9vIjOBk3w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "perm.customer.postpaid",
                                            "id": "au0EZSz5TTKgrjY-HxFv5A",
                                            "style": "list",
                                            "text": "\ud83d\udcb0 Balance & Bills",
                                            "transition": {
                                                "code": "trans.desc__=\"Check your account balance and download your bill.\"",
                                                "label": "Accounts: Entrypoint",
                                                "ref": "rQ44dYS7R5mGodDoGoBJDQ",
                                                "route": "f/w/rQ44dYS7R5mGodDoGoBJDQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "perm.customer.postpaid",
                                            "id": "5PcKdR4wSN2u7Z17JN4nXQ",
                                            "style": "list",
                                            "text": "\ud83d\udd22 Meter Readings",
                                            "transition": {
                                                "code": "trans.desc__=\"Log your meter readings.\"",
                                                "label": "Meters: Entrypoint",
                                                "ref": "JkmlFYZERWmRYegDFq0ZgA",
                                                "route": "f/w/JkmlFYZERWmRYegDFq0ZgA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "perm.customer.prepaid or perm.customer.postpaid",
                                            "id": "i-W83ugfR0ealiwxV3JYpw",
                                            "style": "list",
                                            "text": "\ud83d\udc64 Profile",
                                            "transition": {
                                                "code": "trans.updates = []\r\ntrans.desc__=\"Update your contact details and message preferences.\"",
                                                "label": "Profile: Entrypoint",
                                                "ref": "DK7u0cfPTxiY6jEW9uNKPA",
                                                "route": "f/w/DK7u0cfPTxiY6jEW9uNKPA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "perm.customer.prepaid or perm.customer.postpaid",
                                            "id": "rIUirmgaRnS42gBzjpouWA",
                                            "style": "list",
                                            "text": "\u2753FAQs",
                                            "transition": {
                                                "code": "trans.desc__=\"Get the answers to your questions.\"",
                                                "label": "FAQS: Entrypoint",
                                                "ref": "ehWkPYp5TOyOk2BVu3MpTg",
                                                "route": "f/w/ehWkPYp5TOyOk2BVu3MpTg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "h7rzetkVQbine5CHxfT2xA",
                                            "style": "list",
                                            "text": "\ud83d\ude4b Change account",
                                            "transition": {
                                                "code": "trans.desc__=\"Sign in with a different account.\"",
                                                "label": "Users: Change Account",
                                                "ref": "nXv5rj_BSlijKOCFyYjR2w",
                                                "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "not (perm.customer.prepaid or perm.customer.postpaid)",
                                            "id": "vMd-3QMxTy665wdttUKuew",
                                            "style": "list",
                                            "text": "\ud83d\ude4b I\u2019m a customer",
                                            "transition": {
                                                "code": "trans.desc__=\"Sign in for more options.\"",
                                                "label": "Login: Entrypoint",
                                                "ref": "OzxkVsL4TLanlQ6VqszbSg",
                                                "route": "f/w/OzxkVsL4TLanlQ6VqszbSg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "hJPPyOpEQvCJ79OXUp4Pkg",
                                            "style": "list",
                                            "text": "\ud83d\udcf1Test Dialog360",
                                            "transition": {
                                                "code": "trans.desc__=\"Test dialog360 renders and inputs.\"",
                                                "label": "Test: Dialog360",
                                                "ref": "lQ1Aj5CESB650OQoOcRZAQ",
                                                "route": "f/w/lQ1Aj5CESB650OQoOcRZAQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Select option\r\n\r\nHi{% if user.username %} {{user.username}}{% endif %}\r\n\r\n*What would you like to do today?*"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Menu options",
                    "relatives": [
                        {
                            "location": "/editor/states/rQ44dYS7R5mGodDoGoBJDQ/#state:RdZ1c0AMSoqoXF8JJAlkGg",
                            "name": "Account menu"
                        },
                        {
                            "location": "/editor/states/NRi28eP2QoaHkfZLl_1zug/#state:rugjTllCTgOYyX1s40M7WA",
                            "name": "Call context check"
                        },
                        {
                            "location": "/editor/states/JfhDWc6UTFaa-pwepw3hrA/#state:vVttbWANRS622R0GYinQ7Q",
                            "name": "Check status"
                        },
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:-ULrtG_zStamekI9Rtnulw",
                            "name": "Check for metre"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "tKvsMyspQ2y0UBJH3bSN-w",
                    "workflow_name": "Menu: Logged In"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "del trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "k9L__styTpOC6mzn-Pg4Zg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "tKvsMyspQ2y0UBJH3bSN-w",
                    "workflow_name": "Menu: Logged In"
                }
            ],
            "updated_at": "Sep. 20, 2024, 03:35 AM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "wkXegw0tThWkOBp56B1KyQ",
            "id": "PuI-bXqSTEGJjio6ySMdSA",
            "name": "Menu: Logged Out",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "wkXegw0tThWkOBp56B1KyQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "perm.seen = True",
                            "ref": "lzZie4tfQ76qLrxKGVrbWQ",
                            "route": "f/s/lzZie4tfQ76qLrxKGVrbWQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "wkXegw0tThWkOBp56B1KyQ",
                            "route": "f/s/wkXegw0tThWkOBp56B1KyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ym-xIs7RT0e6HKe_j_1KUg",
                                            "style": "list",
                                            "text": "\u26a1\ufe0f Report emergency",
                                            "transition": {
                                                "code": "trans.desc__=\"Report an urgent or serious issue.\"\r\nperm.seen = True",
                                                "label": "Faults: Symptoms",
                                                "ref": "3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "route": "f/w/3ohiD9ZiRiiP9kzA1rr1Gg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "dVP2pws6T9e2RFX4Hv_H5Q",
                                            "style": "list",
                                            "text": "\u2753FAQs",
                                            "transition": {
                                                "code": "trans.desc__=\"Get the answers to your questions.\"\r\nperm.seen = True",
                                                "label": "FAQS: Entrypoint",
                                                "ref": "ehWkPYp5TOyOk2BVu3MpTg",
                                                "route": "f/w/ehWkPYp5TOyOk2BVu3MpTg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Ea9GH3K5QBKii9pCJeyMmA",
                                            "style": "list",
                                            "text": "\ud83d\udcde Contact Eskom",
                                            "transition": {
                                                "code": "trans.desc__=\"Get details on how to contact Eskom.\"\r\nperm.seen = True",
                                                "label": "Reusable: Contact Us",
                                                "ref": "DGcWYk9nTt2b7R04Ks3Jeg",
                                                "route": "f/w/DGcWYk9nTt2b7R04Ks3Jeg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "22kendEvSMOlKWsKPHqVbw",
                                            "style": "list",
                                            "text": "\ud83d\ude4b I\u2019m a customer",
                                            "transition": {
                                                "code": "trans.desc__=\"Sign in for more options.\"\r\nperm.seen = True",
                                                "label": "Login: Entrypoint",
                                                "ref": "OzxkVsL4TLanlQ6VqszbSg",
                                                "route": "f/w/OzxkVsL4TLanlQ6VqszbSg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "0qZtD8mjQ2SLScyzO4rO-Q",
                                            "style": "list",
                                            "text": "\ud83d\udcf1Test Dialog360",
                                            "transition": {
                                                "code": "trans.desc__=\"Test dialog360 renders and inputs.\"\r\nperm.seen = True",
                                                "label": "Test: Dialog360",
                                                "ref": "lQ1Aj5CESB650OQoOcRZAQ",
                                                "route": "f/w/lQ1Aj5CESB650OQoOcRZAQ",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "**Select option**\r\n{% if perm.seen %}*What would you like to do today?*{% else %}No problem \u2013 I can still help you get some answers, if that\u2019s why you\u2019re here.\r\n\r\n*What would you like to do today?*{% endif %}\r\n\r\n\u2753*FAQs:* Get the answers to your questions\r\n\ud83d\udcde *Contact Eskom*\r\n\ud83d\ude4b *I\u2019m a customer:* Sign in for more options"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Menu options",
                    "relatives": [
                        {
                            "location": "/editor/states/NRi28eP2QoaHkfZLl_1zug/#state:rugjTllCTgOYyX1s40M7WA",
                            "name": "Call context check"
                        },
                        {
                            "location": "/editor/states/oX_hGX2WSpyUQnj-NPOhQg/#state:g1yVtDqYQPinECGsgNoGvw",
                            "name": "Prepaid or Postpaid"
                        },
                        {
                            "location": "/editor/states/2JLYQtHYQZe42CTmEO2gdw/#state:yQlF6xKCTWi2w-nJgokjCw",
                            "name": "Luhn failed"
                        },
                        {
                            "location": "/editor/states/JfhDWc6UTFaa-pwepw3hrA/#state:vVttbWANRS622R0GYinQ7Q",
                            "name": "Check status"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "PuI-bXqSTEGJjio6ySMdSA",
                    "workflow_name": "Menu: Logged Out"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "del trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "lzZie4tfQ76qLrxKGVrbWQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "PuI-bXqSTEGJjio6ySMdSA",
                    "workflow_name": "Menu: Logged Out"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:49 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "vVttbWANRS622R0GYinQ7Q",
            "id": "JfhDWc6UTFaa-pwepw3hrA",
            "name": "Menu: Main",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.context.logged_in",
                            "label": "Menu: Logged In",
                            "ref": "tKvsMyspQ2y0UBJH3bSN-w",
                            "route": "f/w/tKvsMyspQ2y0UBJH3bSN-w",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "label": "Menu: Logged Out",
                            "ref": "PuI-bXqSTEGJjio6ySMdSA",
                            "route": "f/w/PuI-bXqSTEGJjio6ySMdSA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "vVttbWANRS622R0GYinQ7Q",
                    "name": "Check status",
                    "relatives": [
                        {
                            "location": "/editor/states/5hV5kwyLTHK0yXPTr9PF_g/#state:NZOTGCv_TKibSFSWDyxR9g",
                            "name": "Main menu"
                        },
                        {
                            "location": "/editor/states/mjd3QiqzTbCvvtZ4lZw-xw/#state:_P18nXOoQlKF86Xkj4mSqw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ZGZGOPpkSH6LbhlJyF42wQ/#state:scm9NoWGS4--oGIxzC9kdw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/rQ44dYS7R5mGodDoGoBJDQ/#state:gc4_1y5PROyblFzhuzEynQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ehWkPYp5TOyOk2BVu3MpTg/#state:8pSZitNITSaN0GOAGEymRw",
                            "name": "FAQ response"
                        },
                        {
                            "location": "/editor/states/ehWkPYp5TOyOk2BVu3MpTg/#state:hsyAkiBwS6quOdgxw6xziQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/UOI0_g5XQ6Kkru1aItIRvw/#state:VO2DbmHITkO7m9LPz8vLXQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/iwxrOjGeRraRi4ohz8ky5Q/#state:31ByOJEST3yX7KvAo5bRBg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ZcGWskz9S_qSsb1AzWDumA/#state:DyKmfBktR3CsR3_zDcEU-Q",
                            "name": "Get location"
                        },
                        {
                            "location": "/editor/states/ZcGWskz9S_qSsb1AzWDumA/#state:5N9phk1bSoOunxnGmW4mBw",
                            "name": "Main menu"
                        },
                        {
                            "location": "/editor/states/ZcGWskz9S_qSsb1AzWDumA/#state:ie02Oby8ShO6NWhNznw95w",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/Ei5N-sp7TwG-DZFdS9hyjw/#state:y6yOt2WFQYGLCyq0xbj-AQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/k3DAd-onR9-T0iSZ4jO0tw/#state:o4bmHP0HQRWq2bZDPRRBqQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/7VWvlCENT4ugIiEMF6BXJg/#state:APcZr01jQ-GFal8UmXZjGA",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:ZSdIuSCcSa-pKjsdFHvwUQ",
                            "name": "Call paginator"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:10CvcGohQhOjK19cC7-S6w",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:ctor6VdPQUyjZFKgnYcpFg",
                            "name": "Thank you"
                        },
                        {
                            "location": "/editor/states/H_RFVrXCSn6dETRtfkUhUw/#state:hRbttYkLTLa6C75kDric0Q",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/AXo8S_QDS2uB9vCckrhQZw/#state:tnaxpGinT1aLMtZS_6NABg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/xHlshH6aQqeNjVwiHYEddQ/#state:BA-04Sg-SJWz4Ro-kkuwTA",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/OzxkVsL4TLanlQ6VqszbSg/#state:ACu8J1VwRK-I8sObvBVrQw",
                            "name": "Prepaid or postpaid?"
                        },
                        {
                            "location": "/editor/states/2JLYQtHYQZe42CTmEO2gdw/#state:pvjY_-_wR9Gw26ijhMeUsQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/WTTD9JUbSsuDI4RPlcFp0w/#state:V4q5oR9CQjqrED4FzM-GRg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:HKhrCpWqQoWqBUvmBNhihw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/Yrv1aSpNTKu-dlHaf7s0dQ/#state:1BSxn4DpSdS3KSRLyIiwIQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:4VdMEbpXTWO7jLuWZdoM3Q",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/bp6ck4mlTIONv-Q7YF2hSQ/#state:K8ZgjbQ3RHa73V0e2XHJ4w",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/TG3pNYXVQfadjYB7LXJmzg/#state:CIum6jb7S1-3_Z69n1yCbg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/E0w11JgoRRaVa3B6VYeFUw/#state:TimMCd_-RrmwfFxqyULmag",
                            "name": "NLU Error"
                        },
                        {
                            "location": "/editor/states/DK7u0cfPTxiY6jEW9uNKPA/#state:ujkcazGjTBSal3T4gOz0dw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/jRYUGXU3REmcL0GpEBi1Tg/#state:IfqG82jBTqC2S5fa890NDg",
                            "name": "Rescue"
                        },
                        {
                            "location": "/editor/states/DGcWYk9nTt2b7R04Ks3Jeg/#state:Ehkx62yjQESwcpTj3oJ8Mg",
                            "name": "Static details"
                        },
                        {
                            "location": "/editor/states/DGcWYk9nTt2b7R04Ks3Jeg/#state:UGKIEbQLRaWZWqn8ACHhzw",
                            "name": "Thank you"
                        },
                        {
                            "location": "/editor/states/bTtkrc8_QIu5jNCoaTrY3Q/#state:20HQ-1PuS0S4LX6rBMh9sQ",
                            "name": "Questions"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:i491YA54SUGYKifwVYJSBA",
                            "name": "Error"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:BlWsEUKQQIKJN_rI93OZFg",
                            "name": "I cannot route you"
                        },
                        {
                            "location": "/editor/states/zETuDg6gTTuSF9vIjOBk3w/#state:rEdXhTuoR-ySF6_6Y0buUA",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/djnYtnJFSyG_Q-UMTQgdQg/#state:Mqepun9wQJSFmYHpNbt4zg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:Fb4EJWjlQPqVBO3gJHLbPw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:amQ-ncFcSAm7M_xyrTRCnQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/-9j98rRnR2i380sGsTgi5Q/#state:6rN1wurzRDWgwDCitRKssw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/loAZFG-kSZWNZxewg7p0Fw/#state:vAzVxhNURL-qaHtj6kxcJQ",
                            "name": "Route or answer"
                        }
                    ],
                    "type": "wflow_call",
                    "wflow": {
                        "code": "if not trans.context:\r\n    trans.context = {}\r\ntrans.navigation = {}\r\ndel trans.error_",
                        "label": "Reusable: Check State",
                        "ref": "Jv8P9kp7T6e-cx14GU0_uw",
                        "route": "f/w/Jv8P9kp7T6e-cx14GU0_uw",
                        "type": "workflow"
                    },
                    "workflow_id": "JfhDWc6UTFaa-pwepw3hrA",
                    "workflow_name": "Menu: Main"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "nNMrilK-QMqkFrNim9ePOQ",
            "id": "EMOTISphRkueJnsHiNunGg",
            "name": "Meters: 1 Phase",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 400",
                            "ref": "oqoX6MOVRMeLrkaewlhksQ",
                            "route": "f/s/oqoX6MOVRMeLrkaewlhksQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "2yMMUrtBQ-OIQp1vIbqzIA",
                            "route": "f/s/2yMMUrtBQ-OIQp1vIbqzIA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "OeTR_cC3Q-CEsk6A2MePjA",
                    "name": "500?",
                    "type": "decision",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "nMNV8ASySLeWQdx13-6Q-w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "nMNV8ASySLeWQdx13-6Q-w",
                            "route": "f/s/nMNV8ASySLeWQdx13-6Q-w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "jwM8EHx8RfOT2gtR_LVcbg",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes, please!",
                                            "transition": {
                                                "code": "trans.set_reminder = True",
                                                "ref": "HKhrCpWqQoWqBUvmBNhihw",
                                                "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "m7QK_e0jSQm_qJEdC--tvA",
                                            "style": "",
                                            "text": "\ud83d\udc4e No, thanks",
                                            "transition": {
                                                "ref": "gUm1-UWAT4udDn8A9Zd4jA",
                                                "route": "f/s/gUm1-UWAT4udDn8A9Zd4jA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "No problem, {{user.username}}.\r\n\r\nWould you like me to send you a reminder when your next reading is due so you don\u2019t miss the window again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Abandon but get reminder",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "mb_eLfFlRa-9jZhzMn0xcw",
                            "route": "f/s/mb_eLfFlRa-9jZhzMn0xcw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "QS7QFGpgTgaGNxCUTMn_HQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Sure!\r\n\r\nMake sure you keep an eye out for that reminder."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Agreed to reminder",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "gUm1-UWAT4udDn8A9Zd4jA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Anything else I can help with then, {{user.username}}?\r\n\r\nFeel free to tap below to let me know."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Anything else",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.start_date = trans.meter.meter_reading_start[0:10]\r\ntrans.end_date = trans.meter.meter_reading_end[0:10]\r\ntrans.start_date = \"2024-09-10\"\r\ntrans.end_date = \"2024-09-25\"",
                    "format": null,
                    "id": "Get5FNY8Tm-mALNMszFEww",
                    "method": "GET",
                    "name": "API: In window",
                    "on_error": {
                        "transition": {
                            "code": "trans.date = trans.error_.now[0:10]",
                            "ref": "OeTR_cC3Q-CEsk6A2MePjA",
                            "route": "f/s/OeTR_cC3Q-CEsk6A2MePjA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.date = trans.window.now",
                            "ref": "mb_eLfFlRa-9jZhzMn0xcw",
                            "route": "f/s/mb_eLfFlRa-9jZhzMn0xcw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.window"
                    },
                    "resource": "{{const.MIDDLEWARE}}/meters/utils/window?token=mock&start_date={{trans.start_date}}&end_date={{trans.end_date}}&now={{trans.date}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"config_path\":\"app/config.yaml\",\r\n    \"client_name\":\"Eskom\",\r\n    \"task_name\":\"ocr\",\r\n    \"prompt_keyword\":\"meter-reading\",\r\n    \"image_url\": trans.url\r\n}",
                    "code": "url = trans.url.split(\"o/\")[-1].split(\"?\")[0]\r\ntrans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-aggregator-qa-media/\" + url\r\n#trans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-aggregator-qa-media/1224897385371584\"",
                    "format": "JSON",
                    "headers": [
                        {
                            "key": "X-API-Key",
                            "value": "your-api-key"
                        }
                    ],
                    "id": "eKTGHOZ6SLmewak3mPkw-w",
                    "method": "POST",
                    "name": "API: OCR",
                    "on_error": {
                        "transition": {
                            "ref": "iXkRaqPIQ5qhqvTKKnp_Yw",
                            "route": "f/s/iXkRaqPIQ5qhqvTKKnp_Yw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.meter_reading = trans.ocr[\"extracted_text\"][\"prediction\"]",
                            "ref": "fqkHBAW9RkKjcVBEJEBq5Q",
                            "route": "f/s/fqkHBAW9RkKjcVBEJEBq5Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.ocr"
                    },
                    "resource": "https://vision.eskom.qa.helm.africa/ocr/",
                    "retries": 0,
                    "retry": false,
                    "timeout": 30,
                    "type": "api_call",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"Header\":{\r\n        \"Verb\":\"created\",\r\n        \"Noun\":\"Submit Meter Reading\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Request\":{\r\n        \"ID\":\"3254\"\r\n    },\r\n    \"Payload\":{\r\n        \"MeterReadings\":{\r\n            \"MeterReading\":{\r\n                \"CustomerAccount\":{\r\n                    \"mRID\":perm.customer.account,\r\n                    \"ServiceLocations\":{\r\n                        \"mRID\":trans.context.premise.mrid,\r\n                        \"MeterAssets\":trans.reading\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                    "code": "trans.date = str(datetime.now())\r\ntrans.message_id = perm.msisdn_on_bot + \"-\" + trans.date[0:16] + \"-\" + perm.customer[\"account\"]",
                    "format": "JSON",
                    "id": "DMk-e2o_SpyqQKLDsgZgzw",
                    "method": "POST",
                    "name": "API: Submit Reading",
                    "on_error": {
                        "transition": {
                            "ref": "qVrY7H3WQw2Uc2yJKjU1-w",
                            "route": "f/s/qVrY7H3WQw2Uc2yJKjU1-w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "hoGz-5_cQOiyRM1O_zYoDQ",
                            "route": "f/s/hoGz-5_cQOiyRM1O_zYoDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.created"
                    },
                    "resource": "{{const.MIDDLEWARE}}/meters/?token=mock",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "del trans.count\r\ndel trans.metres",
                    "decisions": [
                        {
                            "code": "trans.utterance = \"menu\"",
                            "guard": "trans.navigation.input",
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "13i88sn0SGSb625-e6R_Yg",
                            "route": "f/s/13i88sn0SGSb625-e6R_Yg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "k9x60T_9T_u5HErhLr_VPQ",
                    "name": "Call metre validation",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.metres = [trans.meter]\r\ntrans.count = 0",
                        "label": "Reusable: Validate Meter",
                        "ref": "vstr6QzpR2OdFZBAKjRpjg",
                        "route": "f/w/vstr6QzpR2OdFZBAKjRpjg",
                        "type": "workflow"
                    },
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.meters.metres[0].smart_meter",
                            "label": "Meters: Smart",
                            "ref": "TG3pNYXVQfadjYB7LXJmzg",
                            "route": "f/w/TG3pNYXVQfadjYB7LXJmzg",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.meter = trans.meters[\"metres\"][0]",
                            "ref": "eBMj7BUPTESaznSBROHIsw",
                            "route": "f/s/eBMj7BUPTESaznSBROHIsw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "nNMrilK-QMqkFrNim9ePOQ",
                    "name": "Check for smart meter",
                    "relatives": [
                        {
                            "location": "/editor/states/bp6ck4mlTIONv-Q7YF2hSQ/#state:t6CdygpuTEq7PaatN4jXhw",
                            "name": "Check meters"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.created.Reply.ReplyCode == \"true\"",
                            "ref": "OA5I6kglTK-FotuSNNbR2A",
                            "route": "f/s/OA5I6kglTK-FotuSNNbR2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.submit_reading > 2",
                            "ref": "7hLMTBblRyeFxLiQmcRalg",
                            "route": "f/s/7hLMTBblRyeFxLiQmcRalg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "gnUJDGSiQK6BSFZ4AbhK3g",
                            "route": "f/s/gnUJDGSiQK6BSFZ4AbhK3g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "hoGz-5_cQOiyRM1O_zYoDQ",
                    "name": "Check reading",
                    "type": "decision",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "zKK31n9FQdSpToCKx_s3fw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "zKK31n9FQdSpToCKx_s3fw",
                            "route": "f/s/zKK31n9FQdSpToCKx_s3fw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Dh-6sByiRF6O-2jPLVwzIg",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "zPclXsv5RrCzrQiqNR9-sw",
                                                "route": "f/s/zPclXsv5RrCzrQiqNR9-sw",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ue20VUpvR8-mQ4PHLtpPLA",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "ref": "f7zz65e8QYyq-z8ox4Rc3Q",
                                                "route": "f/s/f7zz65e8QYyq-z8ox4Rc3Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error parsing your date."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Date parser error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "mb_eLfFlRa-9jZhzMn0xcw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.meter_number"
                            }
                        ],
                        "transition": {
                            "code": "trans.new_meters = []",
                            "ref": "k9x60T_9T_u5HErhLr_VPQ",
                            "route": "f/s/k9x60T_9T_u5HErhLr_VPQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "mb_eLfFlRa-9jZhzMn0xcw",
                            "route": "f/s/mb_eLfFlRa-9jZhzMn0xcw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Here we go...\r\n\r\nPlease send me the last 4 digits of your meter number."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter meter number",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "6v-CSnQPSxqJ7a-evmNvZQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.meter_reading"
                            }
                        ],
                        "transition": {
                            "code": "trans.ocr = {\"extracted_text\":{\"prediction\": trans.meter_reading,\"reason\":\"valid_extraction\"}}",
                            "ref": "fqkHBAW9RkKjcVBEJEBq5Q",
                            "route": "f/s/fqkHBAW9RkKjcVBEJEBq5Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "6v-CSnQPSxqJ7a-evmNvZQ",
                            "route": "f/s/6v-CSnQPSxqJ7a-evmNvZQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your previous meter reading was {{trans.meter.meter_reading}} and it was an {% if trans.meter.meter_reading_type == \"Customer Read\" %}actual {% else %}estimated {% endif %}reading.\r\n\r\nTo help me update this, please enter the new reading now."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter reading",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "2yMMUrtBQ-OIQp1vIbqzIA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2yMMUrtBQ-OIQp1vIbqzIA",
                            "route": "f/s/2yMMUrtBQ-OIQp1vIbqzIA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ENs2fxP7Txi9K3hlO3AOug",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "Get5FNY8Tm-mALNMszFEww",
                                                "route": "f/s/Get5FNY8Tm-mALNMszFEww",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "hExz0OHITGipXwY-6v_0QA",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "HKhrCpWqQoWqBUvmBNhihw",
                                                "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error calculating your reading window, please try again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error calculating window",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.submit_reading += 1",
                            "ref": "DMk-e2o_SpyqQKLDsgZgzw",
                            "route": "f/s/DMk-e2o_SpyqQKLDsgZgzw",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "gnUJDGSiQK6BSFZ4AbhK3g",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Uh-oh!\r\n\r\nIt looks like something went wrong as I was submitting that.\r\n\r\nI\u2019m trying again...."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "ZPQntptUSdWHUJI44qUt6g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ZPQntptUSdWHUJI44qUt6g",
                            "route": "f/s/ZPQntptUSdWHUJI44qUt6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "9Pmqy8fdSA2ZUttsRZm-Hg",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "_BwnDYtqTRyW6cql7rtrlA",
                                                "route": "f/s/_BwnDYtqTRyW6cql7rtrlA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "y8Rzcq-5Sfe1DFcTtyQE5Q",
                                            "style": "",
                                            "text": "Manually enter",
                                            "transition": {
                                                "ref": "mb_eLfFlRa-9jZhzMn0xcw",
                                                "route": "f/s/mb_eLfFlRa-9jZhzMn0xcw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error uploading the photo to Whatsapp. Would you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure getting image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "del trans.date_prompt\r\ndel trans.input_date",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.navigation.utterance == \"success\"",
                            "ref": "Get5FNY8Tm-mALNMszFEww",
                            "route": "f/s/Get5FNY8Tm-mALNMszFEww",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.navigation.utterance in [\"error\", \"fail\"]",
                            "ref": "zKK31n9FQdSpToCKx_s3fw",
                            "route": "f/s/zKK31n9FQdSpToCKx_s3fw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = trans.navigation.utterance",
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "zPclXsv5RrCzrQiqNR9-sw",
                    "name": "Get formatted date",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.date_prompt = \"Please enter the purchase date in the format (dd.mm.yyyy):\"",
                        "label": "Reusable: Date Parser",
                        "ref": "8KU22WENSBa_uis6QT7usQ",
                        "route": "f/w/8KU22WENSBa_uis6QT7usQ",
                        "type": "workflow"
                    },
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.button_one",
                            "ref": "xCI7pNWeSFil3VuYYCgt9A",
                            "route": "f/s/xCI7pNWeSFil3VuYYCgt9A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_two",
                            "ref": "_BwnDYtqTRyW6cql7rtrlA",
                            "route": "f/s/_BwnDYtqTRyW6cql7rtrlA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "yXNQzV3eRUq5fzoxWoir4A",
                    "name": "Get more tips",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.text = \"Here you go!\\n\\nAre you ready to send me your photo now?\"\r\ntrans.url = \"https://storage.googleapis.com/io-dstv-content-prd-media/shaka_campaign/Shaka-02.jpg\"\r\ntrans.button_1 = \"\ud83d\udcf8 Yes \"\r\ntrans.button_2 = \"\u2b05\ufe0f Go back\"",
                        "label": "Render: Image",
                        "ref": "le7tQ4smRwKS5z4QMFWu3w",
                        "route": "f/w/le7tQ4smRwKS5z4QMFWu3w",
                        "type": "workflow"
                    },
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "fQJ1yuHfSQi27UFnfKBUNA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "fQJ1yuHfSQi27UFnfKBUNA",
                            "route": "f/s/fQJ1yuHfSQi27UFnfKBUNA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "hkp_LkNNQ5W5pJEPAoqF4g",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes, please",
                                            "transition": {
                                                "code": "trans.set_reminder = True",
                                                "ref": "QS7QFGpgTgaGNxCUTMn_HQ",
                                                "route": "f/s/QS7QFGpgTgaGNxCUTMn_HQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "XeSsvSxuRZmpX6sLVxOquQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e No, thanks",
                                            "transition": {
                                                "ref": "mb_eLfFlRa-9jZhzMn0xcw",
                                                "route": "f/s/mb_eLfFlRa-9jZhzMn0xcw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK, {{user.username}}.\r\n\r\nBefore we continue, would you like me to send you a reminder when your next reading is due so you don\u2019t miss the window again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Get reminder",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "label": "HSMs: Set Reminder",
                            "ref": "xHlshH6aQqeNjVwiHYEddQ",
                            "route": "f/w/xHlshH6aQqeNjVwiHYEddQ",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "z3oFz8UeSGa09gNZVwizIg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Sure!\r\n\r\nMake sure you keep an eye out for that reminder. \ud83d\ude09\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Keep an eye",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "13i88sn0SGSb625-e6R_Yg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "13i88sn0SGSb625-e6R_Yg",
                            "route": "f/s/13i88sn0SGSb625-e6R_Yg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "PESXGpTQRq2pz2qlRBUkUA",
                                            "style": "",
                                            "text": "\ud83d\udd22  Enter manually",
                                            "transition": {
                                                "ref": "6v-CSnQPSxqJ7a-evmNvZQ",
                                                "route": "f/s/6v-CSnQPSxqJ7a-evmNvZQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "BMlL_oUWSKCqffka2fu1hQ",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Send a pic",
                                            "transition": {
                                                "code": "trans.ocr_counter = 0",
                                                "ref": "_BwnDYtqTRyW6cql7rtrlA",
                                                "route": "f/s/_BwnDYtqTRyW6cql7rtrlA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Guess what, {{user.username}}...\r\n\r\nYou can now choose whether you want to enter your readings manually or send me a photo \u2013 which do you prefer?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Manual or Photo",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Br1wih9HSdqTvK3R1gu_7w",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Account not found for this reading."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "7hLMTBblRyeFxLiQmcRalg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7hLMTBblRyeFxLiQmcRalg",
                            "route": "f/s/7hLMTBblRyeFxLiQmcRalg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "71gSovRMT9WMtrX39_oKug",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "HKhrCpWqQoWqBUvmBNhihw",
                                                "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "QKaTk-wlQaWSe8AASQCWyg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "f7zz65e8QYyq-z8ox4Rc3Q",
                                                "route": "f/s/f7zz65e8QYyq-z8ox4Rc3Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry, {{user.username}} \u2013 there seems to be a connection error, so I\u2019m unable to log your meter reading right now.\r\n\r\nPlease give it a few hours and then try again.\r\n\r\nIn the meantime, is there anything else I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not submitted",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "oqoX6MOVRMeLrkaewlhksQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "oqoX6MOVRMeLrkaewlhksQ",
                            "route": "f/s/oqoX6MOVRMeLrkaewlhksQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "4e_CSgfPSkGKufHY_8ycOw",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.reading_date = trans.start_date",
                                                "ref": "fQJ1yuHfSQi27UFnfKBUNA",
                                                "route": "f/s/fQJ1yuHfSQi27UFnfKBUNA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "LEHzDTrYQeOqVXTmv4KW5w",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "nMNV8ASySLeWQdx13-6Q-w",
                                                "route": "f/s/nMNV8ASySLeWQdx13-6Q-w",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Hmmm... this appears to be outside your reading window. \ud83e\uddd0\r\n\r\nYour meter reading window is {{trans.start_date}} - {{trans.end_date}}.\r\n\r\nYou can still submit the reading, but it won\u2019t be considered for your bill.\r\n\r\nWould you like to continue?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Outside window",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "xCI7pNWeSFil3VuYYCgt9A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "hwESZ_q5SV-F39VdaLEqyw",
                            "route": "f/s/hwESZ_q5SV-F39VdaLEqyw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your previous meter reading was {{trans.meter.meter_reading}} and it was an {% if trans.meter.meter_reading_type == \"Customer Read\" %}actual {% else %}estimated {% endif %}reading.\r\n\r\nTo help me update this, I need you to send me a photo.\r\n\r\n\ud83d\udca1 You can either take and send the photo right now, or upload and send me a photo you took earlier."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Previous reading",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "EHAe76qLRp2yLlNNwwKyVA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "EHAe76qLRp2yLlNNwwKyVA",
                            "route": "f/s/EHAe76qLRp2yLlNNwwKyVA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "trans.ocr_counter < 2",
                                            "id": "qzSYiUpIQRic_qtVyGCyYQ",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Send photo",
                                            "transition": {
                                                "code": "trans.ocr_counter += 1",
                                                "ref": "xCI7pNWeSFil3VuYYCgt9A",
                                                "route": "f/s/xCI7pNWeSFil3VuYYCgt9A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "tX2-v_DOThu3Mqgu5eYu_A",
                                            "style": "",
                                            "text": "\ud83d\udd22 Enter manually",
                                            "transition": {
                                                "ref": "6v-CSnQPSxqJ7a-evmNvZQ",
                                                "route": "f/s/6v-CSnQPSxqJ7a-evmNvZQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Oops!\r\n\r\nWould you like to send another  again or rather enter the reading manually?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Retry manaully?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.found\r\ndel trans.message_id\r\ndel trans.meter\r\ndel trans.meter_number\r\ndel trans.meter_reading\r\ndel trans.meters\r\ndel trans.ocr\r\ndel trans.ocr_counter\r\ndel trans.reading\r\ndel trans.submit_reading\r\ndel trans.url\r\ndel trans.window\r\ndel trans.set_reminder\r\ndel trans.new_meters\r\ntrans.reading_date = trans.start_date",
                            "guard": "trans.set_reminder",
                            "label": "HSMs: Set Reminder",
                            "ref": "xHlshH6aQqeNjVwiHYEddQ",
                            "route": "f/w/xHlshH6aQqeNjVwiHYEddQ",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.created\r\ndel trans.date\r\ndel trans.end_date\r\ndel trans.found\r\ndel trans.message_id\r\ndel trans.meter\r\ndel trans.meter_number\r\ndel trans.meter_reading\r\ndel trans.meters\r\ndel trans.ocr\r\ndel trans.ocr_counter\r\ndel trans.reading\r\ndel trans.start_date\r\ndel trans.new_meters\r\ndel trans.submit_reading\r\ndel trans.url\r\ndel trans.window",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.created\r\ndel trans.date\r\ndel trans.end_date\r\ndel trans.found\r\ndel trans.message_id\r\ndel trans.meter\r\ndel trans.meter_number\r\ndel trans.meter_reading\r\ndel trans.meters\r\ndel trans.ocr\r\ndel trans.ocr_counter\r\ndel trans.reading\r\ndel trans.start_date\r\ndel trans.submit_reading\r\ndel trans.url\r\ndel trans.new_meters\r\ndel trans.window",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "HKhrCpWqQoWqBUvmBNhihw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "OA5I6kglTK-FotuSNNbR2A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I\u2019m happy to report that your meter reading has been logged. \ud83d\ude4c\r\n\r\nThe reading still needs to be validated by our billing department, but there\u2019s nothing more you need to do.\r\n\r\nIf there\u2019s anything else I can help you with, please feel free to tap below."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Successfully captured",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "f7zz65e8QYyq-z8ox4Rc3Q",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "_BwnDYtqTRyW6cql7rtrlA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "_BwnDYtqTRyW6cql7rtrlA",
                            "route": "f/s/_BwnDYtqTRyW6cql7rtrlA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "a_kLMHU7RS-RPwWMaIczZA",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Yes! ",
                                            "transition": {
                                                "ref": "xCI7pNWeSFil3VuYYCgt9A",
                                                "route": "f/s/xCI7pNWeSFil3VuYYCgt9A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "cShUzDgsTXCOFDyE4tmG2A",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Show more tips",
                                            "transition": {
                                                "ref": "yXNQzV3eRUq5fzoxWoir4A",
                                                "route": "f/s/yXNQzV3eRUq5fzoxWoir4A",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Alright!\r\n\r\nTo make sure this works well, I need to see the whole meter (not just the reading).\r\n\r\nPlease ensure that the meter is:\r\n\ud83d\udc49 centred and taking up most of the frame\r\n\ud83d\udc49 in full focus (not blurry)\r\n\ud83d\udc49 facing you and not an an angle\r\n\ud83d\udc49 not covered by a dark shadow\r\n\ud83d\udc49 not reflecting any light or glare (don\u2019t use your flash)\r\n\ud83d\udc49 not obstructed by anything (i.e. there\u2019s nothing covering part of the meter reading)\r\n\r\n\u2600\ufe0f Pictures taken during daytime generally work better.\r\n\r\nAre you ready to send me your photo?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Tips on photo taking",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "iXkRaqPIQ5qhqvTKKnp_Yw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "iXkRaqPIQ5qhqvTKKnp_Yw",
                            "route": "f/s/iXkRaqPIQ5qhqvTKKnp_Yw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "trans.ocr_counter < 3",
                                            "id": "Ee7HiupMSk6nhku1Ix3Yaw",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "code": "trans.ocr_counter += 1",
                                                "ref": "xCI7pNWeSFil3VuYYCgt9A",
                                                "route": "f/s/xCI7pNWeSFil3VuYYCgt9A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "aqPTi47MTI2oLlN-Sh9Qhw",
                                            "style": "",
                                            "text": "Enter manually",
                                            "transition": {
                                                "ref": "mb_eLfFlRa-9jZhzMn0xcw",
                                                "route": "f/s/mb_eLfFlRa-9jZhzMn0xcw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an issue getting the values.\r\n{{trans.url}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Try again",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "trans.attachment = trans.__previous_message_meta__.get(\"whatsapp\", {})",
                    "decisions": [
                        {
                            "code": "trans.url = trans.attachment[\"image\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.image",
                            "ref": "eKTGHOZ6SLmewak3mPkw-w",
                            "route": "f/s/eKTGHOZ6SLmewak3mPkw-w",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "ZPQntptUSdWHUJI44qUt6g",
                            "route": "f/s/ZPQntptUSdWHUJI44qUt6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "hwESZ_q5SV-F39VdaLEqyw",
                    "name": "Validate photo",
                    "type": "decision",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "eBMj7BUPTESaznSBROHIsw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "eBMj7BUPTESaznSBROHIsw",
                            "route": "f/s/eBMj7BUPTESaznSBROHIsw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "AChhU-1FTTGVuBdAYOgeDg",
                                            "style": "",
                                            "text": "\ud83d\uddd3\ufe0f  Yes, today",
                                            "transition": {
                                                "code": "trans.input_date = \"today\"",
                                                "ref": "zPclXsv5RrCzrQiqNR9-sw",
                                                "route": "f/s/zPclXsv5RrCzrQiqNR9-sw",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "uX_RomGIS8m9o39HG6hh_g",
                                            "style": "",
                                            "text": "\ud83d\uddd3\ufe0f Another date",
                                            "transition": {
                                                "ref": "zPclXsv5RrCzrQiqNR9-sw",
                                                "route": "f/s/zPclXsv5RrCzrQiqNR9-sw",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Can I assume you\u2019re reading the meter today, or did you do it on another date?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Which date?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.submit_reading > 2",
                            "ref": "7hLMTBblRyeFxLiQmcRalg",
                            "route": "f/s/7hLMTBblRyeFxLiQmcRalg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "Br1wih9HSdqTvK3R1gu_7w",
                            "route": "f/s/Br1wih9HSdqTvK3R1gu_7w",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "gnUJDGSiQK6BSFZ4AbhK3g",
                            "route": "f/s/gnUJDGSiQK6BSFZ4AbhK3g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "qVrY7H3WQw2Uc2yJKjU1-w",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                },
                {
                    "id": "fqkHBAW9RkKjcVBEJEBq5Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "HKhrCpWqQoWqBUvmBNhihw",
                            "route": "f/s/HKhrCpWqQoWqBUvmBNhihw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "fqkHBAW9RkKjcVBEJEBq5Q",
                            "route": "f/s/fqkHBAW9RkKjcVBEJEBq5Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "3v1dCR4WTryCUKnM8rtYHA",
                                            "style": "",
                                            "text": "\ud83d\ude04 Happy ",
                                            "transition": {
                                                "code": "trans.submit_reading = 0\r\ntrans.reading = [\r\n    {\r\n        \"Readings\":\r\n            {\r\n                \"timeStamp\":trans.date + \"T00:00:00\",\r\n                \"value\":trans.meter_reading\r\n            }\r\n        ,\r\n        \"meterNumber\": trans.meter_number\r\n    }\r\n]",
                                                "ref": "DMk-e2o_SpyqQKLDsgZgzw",
                                                "route": "f/s/DMk-e2o_SpyqQKLDsgZgzw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "n3HaisaWTrut8E4O2WBO1w",
                                            "style": "",
                                            "text": "\ud83e\uddd0 No, it\u2019s wrong",
                                            "transition": {
                                                "ref": "EHAe76qLRp2yLlNNwwKyVA",
                                                "route": "f/s/EHAe76qLRp2yLlNNwwKyVA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thanks, {{user.username}}!\r\n\r\nI see your current meter reading is {{trans.meter_reading}} \u2013 are you happy for me to go ahead and log that?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Your  reading",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "EMOTISphRkueJnsHiNunGg",
                    "workflow_name": "Meters: 1 Phase"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "RLjPg4NwStq71EZRSCXO6Q",
            "id": "Yrv1aSpNTKu-dlHaf7s0dQ",
            "name": "Meters: 3 Phase",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_ == 400",
                            "ref": "B5T738WKT_2VSbscNiByWg",
                            "route": "f/s/B5T738WKT_2VSbscNiByWg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "iusiT8S1QCy3rq8A1lNygw",
                            "route": "f/s/iusiT8S1QCy3rq8A1lNygw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ZT97z6f-RZeo5SZB18tlyg",
                    "name": "500?",
                    "type": "decision",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "Ijo_rHSwRmahBX5skKM5lQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Ijo_rHSwRmahBX5skKM5lQ",
                            "route": "f/s/Ijo_rHSwRmahBX5skKM5lQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "miEDKWeTSjCZHKLZCqwhNQ",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes, please!",
                                            "transition": {
                                                "code": "trans.set_reminder = True",
                                                "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                                                "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "cWKK3MhBRUCI3sbdEz__cg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No, thanks",
                                            "transition": {
                                                "ref": "AEBOxFpHSNKJG7fkyyNiuw",
                                                "route": "f/s/AEBOxFpHSNKJG7fkyyNiuw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "No problem, {{user.username}}.\r\n\r\nWould you like me to send you a reminder when your next reading is due so you don\u2019t miss the window again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Abandon but get reminder",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "xT35e8HjQhCEL5V6FKOdOw",
                            "route": "f/s/xT35e8HjQhCEL5V6FKOdOw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ONmU5rOhT1C95RIvFmZgew",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Sure!\r\n\r\nMake sure you keep an eye out for that reminder."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Agreed to reminder",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "AEBOxFpHSNKJG7fkyyNiuw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Anything else I can help with then, {{user.username}}?\r\n\r\nFeel free to tap below to let me know."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Anything else",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.start_date = trans.meters[0].meter_reading_start[0:10]\r\ntrans.end_date = trans.meters[0].meter_reading_end[0:10]\r\ntrans.new_meters = []\r\ntrans.start_date = \"2024-09-10\"\r\ntrans.end_date = \"2024-09-25\"",
                    "format": null,
                    "id": "P5c2ixhqSAurSueAWLjrvA",
                    "method": "GET",
                    "name": "API: In window",
                    "on_error": {
                        "transition": {
                            "ref": "ZT97z6f-RZeo5SZB18tlyg",
                            "route": "f/s/ZT97z6f-RZeo5SZB18tlyg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.date = trans.window.now\r\n",
                            "ref": "xT35e8HjQhCEL5V6FKOdOw",
                            "route": "f/s/xT35e8HjQhCEL5V6FKOdOw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.window"
                    },
                    "resource": "{{const.MIDDLEWARE}}/meters/utils/window?token=mock&start_date={{trans.start_date}}&end_date={{trans.end_date}}&now={{trans.date}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"config_path\":\"app/config.yaml\",\r\n    \"client_name\":\"Eskom\",\r\n    \"task_name\":\"ocr\",\r\n    \"prompt_keyword\":\"meter-reading\",\r\n    \"image_url\": trans.url\r\n}",
                    "code": "url = trans.url.split(\"o/\")[-1].split(\"?\")[0]\r\ntrans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-aggregator-qa-media/\" + url\r\n#trans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-aggregator-qa-media/1224897385371584\"",
                    "format": "JSON",
                    "headers": [
                        {
                            "key": "X-API-Key",
                            "value": "your-api-key"
                        }
                    ],
                    "id": "uWko3en9RrKzU3N1bIvZ2g",
                    "method": "POST",
                    "name": "API: OCR",
                    "on_error": {
                        "transition": {
                            "ref": "At93gqJBQH-QwA9jG3sO7w",
                            "route": "f/s/At93gqJBQH-QwA9jG3sO7w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.meter_reading = trans.ocr[\"extracted_text\"][\"prediction\"]",
                            "ref": "ZK7R9eFMT7SG9B_jKpel2A",
                            "route": "f/s/ZK7R9eFMT7SG9B_jKpel2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.ocr"
                    },
                    "resource": "https://vision.eskom.qa.helm.africa/ocr/",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"Header\":{\r\n        \"Verb\":\"created\",\r\n        \"Noun\":\"Submit Meter Reading\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Request\":{\r\n        \"ID\":\"3254\"\r\n    },\r\n    \"Payload\":{\r\n        \"MeterReadings\":{\r\n            \"MeterReading\":{\r\n                \"CustomerAccount\":{\r\n                    \"mRID\":perm.customer.account,\r\n                    \"ServiceLocations\":{\r\n                        \"mRID\":trans.context.premise.mrid,\r\n                        \"MeterAssets\":trans.reading\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                    "code": "trans.date = str(datetime.now())\r\ntrans.message_id = perm.msisdn_on_bot + \"-\" + trans.date[0:16] + \"-\" + perm.customer[\"account\"]",
                    "format": "JSON",
                    "id": "x8mICGmbSpixj_EMseo1yA",
                    "method": "POST",
                    "name": "API: Submit Reading",
                    "on_error": {
                        "transition": {
                            "ref": "OWtRyE_6RWinxi5Kv3D7zw",
                            "route": "f/s/OWtRyE_6RWinxi5Kv3D7zw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "4D-5EwIKSPW_AZtGF2cT_A",
                            "route": "f/s/4D-5EwIKSPW_AZtGF2cT_A",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.created"
                    },
                    "resource": "{{const.MIDDLEWARE}}/meters/?token=mock",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "del trans.count\r\ndel trans.metres\r\ntrans.meters = trans.new_meters",
                    "decisions": [
                        {
                            "code": "trans.utterance = \"menu\"",
                            "guard": "trans.navigation.input",
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "b_0caT0CSxubf7uOtKRXqA",
                            "route": "f/s/b_0caT0CSxubf7uOtKRXqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "K_KanE5nSzintCY0kHB12Q",
                    "name": "Call metre validation",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.metres = trans.meters\r\ntrans.count = 0",
                        "label": "Reusable: Validate Meter",
                        "ref": "vstr6QzpR2OdFZBAKjRpjg",
                        "route": "f/w/vstr6QzpR2OdFZBAKjRpjg",
                        "type": "workflow"
                    },
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.created.Reply.ReplyCode == \"true\"",
                            "ref": "BVZbhLS4QVStwsTW5ubRXg",
                            "route": "f/s/BVZbhLS4QVStwsTW5ubRXg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.submit_reading > 2",
                            "ref": "bGnANco5SA6y0zNU4AzwTg",
                            "route": "f/s/bGnANco5SA6y0zNU4AzwTg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "KZeK7yu9QgCIJ_WJMMGnjg",
                            "route": "f/s/KZeK7yu9QgCIJ_WJMMGnjg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4D-5EwIKSPW_AZtGF2cT_A",
                    "name": "Check reading",
                    "type": "decision",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "g8UH0c0MTYK68tAWwMXXmQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "g8UH0c0MTYK68tAWwMXXmQ",
                            "route": "f/s/g8UH0c0MTYK68tAWwMXXmQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "F9g9pEIWQ02pFFvidbv_yg",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "1wV2obdFRTOFGE51sOw7SQ",
                                                "route": "f/s/1wV2obdFRTOFGE51sOw7SQ",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "lpRf1kVRS-KRZjcLzsOrNw",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "ref": "x1uL2HC6Ty6gucZkCf26yg",
                                                "route": "f/s/x1uL2HC6Ty6gucZkCf26yg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error parsing your date."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Date parser error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "xT35e8HjQhCEL5V6FKOdOw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.meter_number"
                            }
                        ],
                        "transition": {
                            "ref": "K_KanE5nSzintCY0kHB12Q",
                            "route": "f/s/K_KanE5nSzintCY0kHB12Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "xT35e8HjQhCEL5V6FKOdOw",
                            "route": "f/s/xT35e8HjQhCEL5V6FKOdOw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Here we go...\r\n\r\nPlease send me the last 4 digits of your {{trans.next}} meter number."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter meter number",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "mQH3dORVTRS4GvNBNxnnpg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.meter_reading"
                            }
                        ],
                        "transition": {
                            "code": "trans.ocr = {\"extracted_text\":{\"prediction\": trans.meter_reading,\"reason\":\"valid_extraction\"}}",
                            "ref": "ZK7R9eFMT7SG9B_jKpel2A",
                            "route": "f/s/ZK7R9eFMT7SG9B_jKpel2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "mQH3dORVTRS4GvNBNxnnpg",
                            "route": "f/s/mQH3dORVTRS4GvNBNxnnpg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Your previous meter reading was {{trans.found.meter_reading}} and it was an {% if trans.found.meter_reading_type == \"Customer Read\" %}actual {% else %}estimated {% endif %}reading.\r\n\r\nTo help me update this, please enter the new reading now."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter reading",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "iusiT8S1QCy3rq8A1lNygw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "iusiT8S1QCy3rq8A1lNygw",
                            "route": "f/s/iusiT8S1QCy3rq8A1lNygw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "sB32B13QSju1sx_kS9tLdg",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "P5c2ixhqSAurSueAWLjrvA",
                                                "route": "f/s/P5c2ixhqSAurSueAWLjrvA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "V56uZpkYS9ySfrqlMqHGpA",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                                                "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error calculating your reading window, please try again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error calculating window",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.submit_reading += 1",
                            "ref": "x8mICGmbSpixj_EMseo1yA",
                            "route": "f/s/x8mICGmbSpixj_EMseo1yA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "KZeK7yu9QgCIJ_WJMMGnjg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Uh-oh!\r\n\r\nIt looks like something went wrong as I was submitting that.\r\n\r\nI\u2019m trying again...."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "vI23iWY5RJiBheWqtlQL1A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "vI23iWY5RJiBheWqtlQL1A",
                            "route": "f/s/vI23iWY5RJiBheWqtlQL1A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "eSkBZ-jAQVe_03ysI9GEwQ",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "QtlnQKm3Qb2B-Z2saXc3YQ",
                                                "route": "f/s/QtlnQKm3Qb2B-Z2saXc3YQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "N9ZKneAEScuDoqdwoiaudA",
                                            "style": "",
                                            "text": "Manually enter",
                                            "transition": {
                                                "ref": "xT35e8HjQhCEL5V6FKOdOw",
                                                "route": "f/s/xT35e8HjQhCEL5V6FKOdOw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error uploading the photo to Whatsapp. Would you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure getting image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "del trans.date_prompt\r\ndel trans.input_date",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.navigation.utterance == \"success\"",
                            "ref": "P5c2ixhqSAurSueAWLjrvA",
                            "route": "f/s/P5c2ixhqSAurSueAWLjrvA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.navigation.utterance in [\"error\", \"fail\"]",
                            "ref": "g8UH0c0MTYK68tAWwMXXmQ",
                            "route": "f/s/g8UH0c0MTYK68tAWwMXXmQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = trans.navigation.utterance",
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "1wV2obdFRTOFGE51sOw7SQ",
                    "name": "Get formatted date",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.date_prompt = \"Please enter the purchase date in the format (dd.mm.yyyy):\"",
                        "label": "Reusable: Date Parser",
                        "ref": "8KU22WENSBa_uis6QT7usQ",
                        "route": "f/w/8KU22WENSBa_uis6QT7usQ",
                        "type": "workflow"
                    },
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.button_one",
                            "ref": "tjfFN0BoTqWwwuY6TB0H2Q",
                            "route": "f/s/tjfFN0BoTqWwwuY6TB0H2Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_two",
                            "ref": "QtlnQKm3Qb2B-Z2saXc3YQ",
                            "route": "f/s/QtlnQKm3Qb2B-Z2saXc3YQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "1hvBPH6eT2SblFpccxTlpw",
                    "name": "Get more tips",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.text = \"Here you go!\\n\\nAre you ready to send me your photo now?\"\r\ntrans.url = \"https://storage.googleapis.com/io-dstv-content-prd-media/shaka_campaign/Shaka-02.jpg\"\r\ntrans.button_1 = \"\ud83d\udcf8 Yes \"\r\ntrans.button_2 = \"\u2b05\ufe0f Go back\"",
                        "label": "Render: Image",
                        "ref": "le7tQ4smRwKS5z4QMFWu3w",
                        "route": "f/w/le7tQ4smRwKS5z4QMFWu3w",
                        "type": "workflow"
                    },
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "T8HDQD66SsOFT5EI5cGowA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "T8HDQD66SsOFT5EI5cGowA",
                            "route": "f/s/T8HDQD66SsOFT5EI5cGowA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "bJkMHVNhRSmkemzPLhwjEA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes, please",
                                            "transition": {
                                                "code": "trans.set_reminder = True",
                                                "ref": "ONmU5rOhT1C95RIvFmZgew",
                                                "route": "f/s/ONmU5rOhT1C95RIvFmZgew",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "r4ercS3KRnG5MvBQWP4XZQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e No, thanks",
                                            "transition": {
                                                "ref": "xT35e8HjQhCEL5V6FKOdOw",
                                                "route": "f/s/xT35e8HjQhCEL5V6FKOdOw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK, {{user.username}}.\r\n\r\nBefore we continue, would you like me to send you a reminder when your next reading is due so you don\u2019t miss the window again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Get reminder",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "xT35e8HjQhCEL5V6FKOdOw",
                            "route": "f/s/xT35e8HjQhCEL5V6FKOdOw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "gD5MjYgdTNy55KneMABO-g",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "{{trans.meters_read}} meter(s) done, {{trans.left}} left to go."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "How many left",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "label": "HSMs: Set Reminder",
                            "ref": "xHlshH6aQqeNjVwiHYEddQ",
                            "route": "f/w/xHlshH6aQqeNjVwiHYEddQ",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "Wto-0mgSRB6hdDUSBGTjbQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Sure!\r\n\r\nMake sure you keep an eye out for that reminder. \ud83d\ude09\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Keep an eye",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "b_0caT0CSxubf7uOtKRXqA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "b_0caT0CSxubf7uOtKRXqA",
                            "route": "f/s/b_0caT0CSxubf7uOtKRXqA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "bsphEj_lT6iujuFmmUnJGQ",
                                            "style": "",
                                            "text": "\ud83d\udd22  Enter manually",
                                            "transition": {
                                                "ref": "mQH3dORVTRS4GvNBNxnnpg",
                                                "route": "f/s/mQH3dORVTRS4GvNBNxnnpg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "yW9AnU-oTIy4q5NDrzP4Qg",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Send a pic",
                                            "transition": {
                                                "code": "trans.ocr_counter = 0",
                                                "ref": "QtlnQKm3Qb2B-Z2saXc3YQ",
                                                "route": "f/s/QtlnQKm3Qb2B-Z2saXc3YQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Guess what, {{user.username}}...\r\n\r\nYou can now choose whether you want to enter your readings manually or send me a photo \u2013 which do you prefer?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Manual or Photo",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.left = len(trans.new_meters)\r\ntrans.new_meters = []",
                            "guard": "trans.new_meters",
                            "ref": "gD5MjYgdTNy55KneMABO-g",
                            "route": "f/s/gD5MjYgdTNy55KneMABO-g",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "x8mICGmbSpixj_EMseo1yA",
                            "route": "f/s/x8mICGmbSpixj_EMseo1yA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "20K1d1ZOQ7CQEGVHliFnYw",
                    "name": "Meters done?",
                    "type": "decision",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "WundoAmNQiaDb7SDHyBW_Q",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Account not found for this reading."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "bGnANco5SA6y0zNU4AzwTg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "bGnANco5SA6y0zNU4AzwTg",
                            "route": "f/s/bGnANco5SA6y0zNU4AzwTg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "3FFaJKoXSdmxgVVwv6ArgA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                                                "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "iUPCRtpgQXCg1Otot1pAng",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "x1uL2HC6Ty6gucZkCf26yg",
                                                "route": "f/s/x1uL2HC6Ty6gucZkCf26yg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry, {{user.username}} \u2013 there seems to be a connection error, so I\u2019m unable to log your meter reading right now.\r\n\r\nPlease give it a few hours and then try again.\r\n\r\nIn the meantime, is there anything else I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not submitted",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "B5T738WKT_2VSbscNiByWg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "B5T738WKT_2VSbscNiByWg",
                            "route": "f/s/B5T738WKT_2VSbscNiByWg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "pBzOk3peSniElMBrk9GiNg",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "ref": "T8HDQD66SsOFT5EI5cGowA",
                                                "route": "f/s/T8HDQD66SsOFT5EI5cGowA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "nSTjMcR-SS2oEuq8giBtMA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "Ijo_rHSwRmahBX5skKM5lQ",
                                                "route": "f/s/Ijo_rHSwRmahBX5skKM5lQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Hmmm... this appears to be outside your reading window. \ud83e\uddd0\r\n\r\nYour meter reading window is {{trans.start_date}} - {{trans.end_date}}.\r\n\r\nYou can still submit the reading, but it won\u2019t be considered for your bill.\r\n\r\nWould you like to continue?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Outside window",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "tjfFN0BoTqWwwuY6TB0H2Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "57LIuSjsTJ65DzLrwNYMyA",
                            "route": "f/s/57LIuSjsTJ65DzLrwNYMyA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK.\r\n\r\nYour previous meter reading was XX and it was an XX reading.\r\n\r\nTo help me update this, I need you to send me a photo.\r\n\r\n\ud83d\udca1 You can either take and send the photo right now, or upload and send me a photo you took earlier."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Previous reading",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "i1_9TU0cRWamdOZfZCd1Iw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "i1_9TU0cRWamdOZfZCd1Iw",
                            "route": "f/s/i1_9TU0cRWamdOZfZCd1Iw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "trans.ocr_counter < 2",
                                            "id": "J7m_WBHzQiuvXvjPl_m6TQ",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Send photo",
                                            "transition": {
                                                "code": "trans.ocr_counter += 1",
                                                "ref": "tjfFN0BoTqWwwuY6TB0H2Q",
                                                "route": "f/s/tjfFN0BoTqWwwuY6TB0H2Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "qUGo36AZR92Bx7OCSZC-jg",
                                            "style": "",
                                            "text": "\ud83d\udd22 Enter manually",
                                            "transition": {
                                                "ref": "mQH3dORVTRS4GvNBNxnnpg",
                                                "route": "f/s/mQH3dORVTRS4GvNBNxnnpg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Oops!\r\n\r\nWould you like to send another  again or rather enter the reading manually?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Retry manaully?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.created\r\ndel trans.utterance\r\ndel trans.date\r\ndel trans.found\r\ndel trans.message_id\r\ndel trans.meter\r\ndel trans.meter_number\r\ndel trans.meter_reading\r\ndel trans.meters\r\ndel trans.ocr\r\ndel trans.ocr_counter\r\ndel trans.reading\r\ndel trans.submit_reading\r\ndel trans.url\r\ndel trans.window\r\ndel trans.next\r\ndel trans.set_reminder\r\ndel trans.meters_read\r\ndel trans.new_meters\r\ndel trans.left\r\ndel trans.mtr\r\ntrans.reading_date = trans.start_date",
                            "guard": "trans.set_reminder",
                            "label": "HSMs: Set Reminder",
                            "ref": "xHlshH6aQqeNjVwiHYEddQ",
                            "route": "f/w/xHlshH6aQqeNjVwiHYEddQ",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.created\r\ndel trans.date\r\ndel trans.end_date\r\ndel trans.found\r\ndel trans.message_id\r\ndel trans.meter\r\ndel trans.meter_number\r\ndel trans.meter_reading\r\ndel trans.meters\r\ndel trans.ocr\r\ndel trans.ocr_counter\r\ndel trans.reading\r\ndel trans.start_date\r\ndel trans.submit_reading\r\ndel trans.url\r\ndel trans.window\r\ndel trans.next\r\ndel trans.meters_read\r\ndel trans.new_meters\r\ndel trans.left\r\ndel trans.set_reminder\r\ndel trans.mtr",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.created\r\ndel trans.date\r\ndel trans.end_date\r\ndel trans.found\r\ndel trans.message_id\r\ndel trans.meter\r\ndel trans.meter_number\r\ndel trans.meter_reading\r\ndel trans.meters\r\ndel trans.ocr\r\ndel trans.ocr_counter\r\ndel trans.reading\r\ndel trans.start_date\r\ndel trans.submit_reading\r\ndel trans.url\r\ndel trans.window\r\ndel trans.next\r\ndel trans.meters_read\r\ndel trans.new_meters\r\ndel trans.left\r\ndel trans.set_reminder\r\ndel trans.mtr",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "1BSxn4DpSdS3KSRLyIiwIQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "BVZbhLS4QVStwsTW5ubRXg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I\u2019m happy to report that your meter reading has been logged. \ud83d\ude4c\r\n\r\nThe reading still needs to be validated by our billing department, but there\u2019s nothing more you need to do.\r\n\r\nIf there\u2019s anything else I can help you with, please feel free to tap below."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Successfully captured",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "x1uL2HC6Ty6gucZkCf26yg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "QtlnQKm3Qb2B-Z2saXc3YQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "QtlnQKm3Qb2B-Z2saXc3YQ",
                            "route": "f/s/QtlnQKm3Qb2B-Z2saXc3YQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "FjeCDxIsSLyEafj-4vB9Sg",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Yes! ",
                                            "transition": {
                                                "ref": "tjfFN0BoTqWwwuY6TB0H2Q",
                                                "route": "f/s/tjfFN0BoTqWwwuY6TB0H2Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Vtbp9wM9Sf6w8X_Gzc_2pA",
                                            "style": "",
                                            "text": "\ud83d\udcf8 Show more tips",
                                            "transition": {
                                                "ref": "1hvBPH6eT2SblFpccxTlpw",
                                                "route": "f/s/1hvBPH6eT2SblFpccxTlpw",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Alright!\r\n\r\nTo make sure this works well, I need to see the whole meter (not just the reading).\r\n\r\nPlease ensure that the meter is:\r\n\ud83d\udc49 centred and taking up most of the frame\r\n\ud83d\udc49 in full focus (not blurry)\r\n\ud83d\udc49 facing you and not an an angle\r\n\ud83d\udc49 not covered by a dark shadow\r\n\ud83d\udc49 not reflecting any light or glare (don\u2019t use your flash)\r\n\ud83d\udc49 not obstructed by anything (i.e. there\u2019s nothing covering part of the meter reading)\r\n\r\n\u2600\ufe0f Pictures taken during daytime generally work better.\r\n\r\nAre you ready to send me your photo?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Tips on photo taking",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "At93gqJBQH-QwA9jG3sO7w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "At93gqJBQH-QwA9jG3sO7w",
                            "route": "f/s/At93gqJBQH-QwA9jG3sO7w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "trans.ocr_counter < 3",
                                            "id": "bseBqJD3QxKkN1H8AKlcjg",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "code": "trans.counter += 1",
                                                "ref": "tjfFN0BoTqWwwuY6TB0H2Q",
                                                "route": "f/s/tjfFN0BoTqWwwuY6TB0H2Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "fRdKRdA8QOGNHrWc992iZw",
                                            "style": "",
                                            "text": "Enter manually",
                                            "transition": {
                                                "ref": "xT35e8HjQhCEL5V6FKOdOw",
                                                "route": "f/s/xT35e8HjQhCEL5V6FKOdOw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an issue getting the values."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Try again",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "trans.attachment = trans.__previous_message_meta__.get(\"whatsapp\", {})",
                    "decisions": [
                        {
                            "code": "trans.url = trans.attachment[\"image\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.image",
                            "ref": "uWko3en9RrKzU3N1bIvZ2g",
                            "route": "f/s/uWko3en9RrKzU3N1bIvZ2g",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "vI23iWY5RJiBheWqtlQL1A",
                            "route": "f/s/vI23iWY5RJiBheWqtlQL1A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "57LIuSjsTJ65DzLrwNYMyA",
                    "name": "Validate photo",
                    "type": "decision",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "RLjPg4NwStq71EZRSCXO6Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "RLjPg4NwStq71EZRSCXO6Q",
                            "route": "f/s/RLjPg4NwStq71EZRSCXO6Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "viORP_sLQ8CoATTN_ARqyw",
                                            "style": "",
                                            "text": "\ud83d\uddd3\ufe0f  Yes, today",
                                            "transition": {
                                                "code": "trans.input_date = \"today\"\r\ntrans.meters = trans.meters[\"metres\"]\r\ntrans.next = \"\"",
                                                "ref": "1wV2obdFRTOFGE51sOw7SQ",
                                                "route": "f/s/1wV2obdFRTOFGE51sOw7SQ",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "9MI9A4awTkutcPlmnS6Fcg",
                                            "style": "",
                                            "text": "\ud83d\uddd3\ufe0f Another date",
                                            "transition": {
                                                "code": "trans.meters = trans.meters[\"metres\"]\r\ntrans.next = \"\"",
                                                "ref": "1wV2obdFRTOFGE51sOw7SQ",
                                                "route": "f/s/1wV2obdFRTOFGE51sOw7SQ",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Can I assume you\u2019re reading the meter today, or did you do it on another date?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Which date?",
                    "relatives": [
                        {
                            "location": "/editor/states/bp6ck4mlTIONv-Q7YF2hSQ/#state:t6CdygpuTEq7PaatN4jXhw",
                            "name": "Check meters"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.submit_reading > 2",
                            "ref": "bGnANco5SA6y0zNU4AzwTg",
                            "route": "f/s/bGnANco5SA6y0zNU4AzwTg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "WundoAmNQiaDb7SDHyBW_Q",
                            "route": "f/s/WundoAmNQiaDb7SDHyBW_Q",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "KZeK7yu9QgCIJ_WJMMGnjg",
                            "route": "f/s/KZeK7yu9QgCIJ_WJMMGnjg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "OWtRyE_6RWinxi5Kv3D7zw",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                },
                {
                    "id": "ZK7R9eFMT7SG9B_jKpel2A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "1BSxn4DpSdS3KSRLyIiwIQ",
                            "route": "f/s/1BSxn4DpSdS3KSRLyIiwIQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ZK7R9eFMT7SG9B_jKpel2A",
                            "route": "f/s/ZK7R9eFMT7SG9B_jKpel2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "xptHgwJrSzCLTtYRhzwafQ",
                                            "style": "",
                                            "text": "\ud83d\ude04 Happy ",
                                            "transition": {
                                                "code": "trans.submit_reading = 0\r\ntrans.next = \"next\"\r\nreading = {\r\n    \"Readings\":\r\n        {\r\n            \"timeStamp\":trans.date + \"T00:00:00\",\r\n            \"value\":trans.meter_reading\r\n        }\r\n    ,\r\n    \"meterNumber\": trans.mtr\r\n}\r\nif trans.reading:\r\n    trans.reading.append(reading)\r\nelse:\r\n    trans.reading = [reading]\r\ntrans.meters_read = len(trans.reading)",
                                                "ref": "20K1d1ZOQ7CQEGVHliFnYw",
                                                "route": "f/s/20K1d1ZOQ7CQEGVHliFnYw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "gyxnjQD7RcymdZrWG-jolA",
                                            "style": "",
                                            "text": "\ud83e\uddd0 No, it\u2019s wrong",
                                            "transition": {
                                                "ref": "i1_9TU0cRWamdOZfZCd1Iw",
                                                "route": "f/s/i1_9TU0cRWamdOZfZCd1Iw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thanks, {{user.username}}!\r\n\r\nI see your current meter reading is {{trans.meter_reading}} for meter ending with *{{trans.meter_number }}* \u2013 are you happy for me to go ahead and log that?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Your  reading",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "Yrv1aSpNTKu-dlHaf7s0dQ",
                    "workflow_name": "Meters: 3 Phase"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "FYsv6KgFSUCRY6lSY86lZg",
            "id": "JkmlFYZERWmRYegDFq0ZgA",
            "name": "Meters: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "8eAUD17wS5q6GKhaX6ojkg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "bCa9BlUOQB-BxymtvHlRvA",
                            "route": "f/s/bCa9BlUOQB-BxymtvHlRvA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "8eAUD17wS5q6GKhaX6ojkg",
                            "route": "f/s/8eAUD17wS5q6GKhaX6ojkg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "5daQm9TlRRm7oiCH78ZgUA",
                                            "style": "",
                                            "text": "\u2705 That\u2019s it",
                                            "transition": {
                                                "ref": "_3d2ELCJTA6l_A-STjrYZA",
                                                "route": "f/s/_3d2ELCJTA6l_A-STjrYZA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "7Tva4FkLTJ2eM1q2l-9s7Q",
                                            "style": "",
                                            "text": "\ud83d\udd04 No, change it",
                                            "transition": {
                                                "code": "trans.utterance = \"sign_out\"",
                                                "ref": "4VdMEbpXTWO7jLuWZdoM3Q",
                                                "route": "f/s/4VdMEbpXTWO7jLuWZdoM3Q",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "The account number I have for you is {{perm.customer.account}} \u2013 is that right?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Account number",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "JkmlFYZERWmRYegDFq0ZgA",
                    "workflow_name": "Meters: Entrypoint"
                },
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done",
                            "ref": "8eAUD17wS5q6GKhaX6ojkg",
                            "route": "f/s/8eAUD17wS5q6GKhaX6ojkg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_",
                            "ref": "8eAUD17wS5q6GKhaX6ojkg",
                            "route": "f/s/8eAUD17wS5q6GKhaX6ojkg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.utterance",
                            "ref": "4VdMEbpXTWO7jLuWZdoM3Q",
                            "route": "f/s/4VdMEbpXTWO7jLuWZdoM3Q",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "8eAUD17wS5q6GKhaX6ojkg",
                            "route": "f/s/8eAUD17wS5q6GKhaX6ojkg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bCa9BlUOQB-BxymtvHlRvA",
                    "name": "Account number route",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ntrans.caller = \"meters\"",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "JkmlFYZERWmRYegDFq0ZgA",
                    "workflow_name": "Meters: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.context.premise",
                            "label": "Meters: Get meters",
                            "ref": "bp6ck4mlTIONv-Q7YF2hSQ",
                            "route": "f/w/bp6ck4mlTIONv-Q7YF2hSQ",
                            "type": "workflow"
                        },
                        {
                            "guard": "trans.utterance == \"menu\"",
                            "ref": "4VdMEbpXTWO7jLuWZdoM3Q",
                            "route": "f/s/4VdMEbpXTWO7jLuWZdoM3Q",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "label": "Menu: Logged In",
                            "ref": "tKvsMyspQ2y0UBJH3bSN-w",
                            "route": "f/w/tKvsMyspQ2y0UBJH3bSN-w",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "-ULrtG_zStamekI9Rtnulw",
                    "name": "Check for metre",
                    "type": "wflow_call",
                    "wflow": {
                        "label": "Reusable: Select Premise",
                        "ref": "ET4-PmNlTQKtkfkF2vk-tQ",
                        "route": "f/w/ET4-PmNlTQKtkfkF2vk-tQ",
                        "type": "workflow"
                    },
                    "workflow_id": "JkmlFYZERWmRYegDFq0ZgA",
                    "workflow_name": "Meters: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "-ULrtG_zStamekI9Rtnulw",
                            "route": "f/s/-ULrtG_zStamekI9Rtnulw",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "_3d2ELCJTA6l_A-STjrYZA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Just a sec..."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Just a sec",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "JkmlFYZERWmRYegDFq0ZgA",
                    "workflow_name": "Meters: Entrypoint"
                },
                {
                    "id": "FYsv6KgFSUCRY6lSY86lZg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "4VdMEbpXTWO7jLuWZdoM3Q",
                            "route": "f/s/4VdMEbpXTWO7jLuWZdoM3Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "FYsv6KgFSUCRY6lSY86lZg",
                            "route": "f/s/FYsv6KgFSUCRY6lSY86lZg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "AMsEQmrISB-YiGCcUXS6fA",
                                            "style": "",
                                            "text": "\ud83d\ude0e Submit now",
                                            "transition": {
                                                "ref": "8eAUD17wS5q6GKhaX6ojkg",
                                                "route": "f/s/8eAUD17wS5q6GKhaX6ojkg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "1pV_MwfETZqhOSmXzZc_7Q",
                                            "style": "",
                                            "text": "\ud83e\udd13 Show me how",
                                            "transition": {
                                                "ref": "a0ptpmYASLaLAdEDnZhxig",
                                                "route": "f/s/a0ptpmYASLaLAdEDnZhxig",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK, let\u2019s get those numbers logged!\r\n\r\nIf you know how to do it, you can *submit* right away. Otherwise I\u2019m happy to *show you how* to read your meter and submit the readings."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Metre readings",
                    "relatives": [
                        {
                            "location": "/editor/states/ehWkPYp5TOyOk2BVu3MpTg/#state:8pSZitNITSaN0GOAGEymRw",
                            "name": "FAQ response"
                        },
                        {
                            "location": "/editor/states/ehWkPYp5TOyOk2BVu3MpTg/#state:hsyAkiBwS6quOdgxw6xziQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "JkmlFYZERWmRYegDFq0ZgA",
                    "workflow_name": "Meters: Entrypoint"
                },
                {
                    "code": "del trans.document\r\ndel trans.url\r\ndel trans.text\r\ndel trans.button_1\r\ndel trans.button_2",
                    "decisions": [
                        {
                            "code": "del trans.button_one\r\ndel trans.button_two",
                            "guard": "trans.button_one",
                            "ref": "8eAUD17wS5q6GKhaX6ojkg",
                            "route": "f/s/8eAUD17wS5q6GKhaX6ojkg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.button_one\r\ndel trans.button_two",
                            "guard": "trans.button_two",
                            "ref": "4VdMEbpXTWO7jLuWZdoM3Q",
                            "route": "f/s/4VdMEbpXTWO7jLuWZdoM3Q",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.button_one\r\ndel trans.button_two",
                            "ref": "4VdMEbpXTWO7jLuWZdoM3Q",
                            "route": "f/s/4VdMEbpXTWO7jLuWZdoM3Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "a0ptpmYASLaLAdEDnZhxig",
                    "name": "Render PDF",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.document = \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/documents/meter_readings.pdf\"\r\ntrans.text = \"Here you go, \" + user.username + \"! \ud83d\udc46\\n\\nThat should cover everything you need to know.\\n\\nLet me know when you\u2019re ready to submit.\"\r\ntrans.button_1 = \"\ud83d\ude0e Submit now\"\r\ntrans.button_2 = \"\u2b05\ufe0f Back to main menu\"",
                        "label": "Render: Document",
                        "ref": "BQRw87-bSm2bhp6fdStDVA",
                        "route": "f/w/BQRw87-bSm2bhp6fdStDVA",
                        "type": "workflow"
                    },
                    "workflow_id": "JkmlFYZERWmRYegDFq0ZgA",
                    "workflow_name": "Meters: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.utterance == \"sign_out\"",
                            "label": "Users: Change Account",
                            "ref": "nXv5rj_BSlijKOCFyYjR2w",
                            "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "4VdMEbpXTWO7jLuWZdoM3Q",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "JkmlFYZERWmRYegDFq0ZgA",
                    "workflow_name": "Meters: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "eB0UUmZuQd2pQcKVyd8-Mw",
            "id": "bp6ck4mlTIONv-Q7YF2hSQ",
            "name": "Meters: Get meters",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "eB0UUmZuQd2pQcKVyd8-Mw",
                    "method": "GET",
                    "name": "API: Get meters",
                    "on_error": {
                        "transition": {
                            "ref": "bRtAaaJQQ16zKpJoeuBugg",
                            "route": "f/s/bRtAaaJQQ16zKpJoeuBugg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "t6CdygpuTEq7PaatN4jXhw",
                            "route": "f/s/t6CdygpuTEq7PaatN4jXhw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.meters"
                    },
                    "relatives": [
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:-ULrtG_zStamekI9Rtnulw",
                            "name": "Check for metre"
                        }
                    ],
                    "resource": "{{const.MIDDLEWARE}}/meters?token=mock&location={{trans.context.premise.mrid}}&account={{perm.customer.account}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "bp6ck4mlTIONv-Q7YF2hSQ",
                    "workflow_name": "Meters: Get meters"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.meters.metres and len(trans.meters.metres) > 1",
                            "label": "Meters: 3 Phase",
                            "ref": "Yrv1aSpNTKu-dlHaf7s0dQ",
                            "route": "f/w/Yrv1aSpNTKu-dlHaf7s0dQ",
                            "type": "workflow"
                        },
                        {
                            "guard": "trans.meters.metres",
                            "label": "Meters: 1 Phase",
                            "ref": "EMOTISphRkueJnsHiNunGg",
                            "route": "f/w/EMOTISphRkueJnsHiNunGg",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "voMe5c1cT2u40PcZlE777w",
                            "route": "f/s/voMe5c1cT2u40PcZlE777w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "t6CdygpuTEq7PaatN4jXhw",
                    "name": "Check meters",
                    "type": "decision",
                    "workflow_id": "bp6ck4mlTIONv-Q7YF2hSQ",
                    "workflow_name": "Meters: Get meters"
                },
                {
                    "id": "voMe5c1cT2u40PcZlE777w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "K8ZgjbQ3RHa73V0e2XHJ4w",
                            "route": "f/s/K8ZgjbQ3RHa73V0e2XHJ4w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "voMe5c1cT2u40PcZlE777w",
                            "route": "f/s/voMe5c1cT2u40PcZlE777w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "f01LkkeeT_Ketv8tUpOBAQ",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "eB0UUmZuQd2pQcKVyd8-Mw",
                                                "route": "f/s/eB0UUmZuQd2pQcKVyd8-Mw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "iBiqCPPvQrmDktrxrMt3GQ",
                                            "style": "",
                                            "text": "Try another account",
                                            "transition": {
                                                "label": "Users: Change Account",
                                                "ref": "nXv5rj_BSlijKOCFyYjR2w",
                                                "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error getting meters associated with this account. Do you want to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "bp6ck4mlTIONv-Q7YF2hSQ",
                    "workflow_name": "Meters: Get meters"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "K8ZgjbQ3RHa73V0e2XHJ4w",
                            "route": "f/s/K8ZgjbQ3RHa73V0e2XHJ4w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "rJ-zwEYXTeGgjHo5KKzS2A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There are no meters associated with this account."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "bp6ck4mlTIONv-Q7YF2hSQ",
                    "workflow_name": "Meters: Get meters"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance",
                            "ref": "K8ZgjbQ3RHa73V0e2XHJ4w",
                            "route": "f/s/K8ZgjbQ3RHa73V0e2XHJ4w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "K8ZgjbQ3RHa73V0e2XHJ4w",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "bp6ck4mlTIONv-Q7YF2hSQ",
                    "workflow_name": "Meters: Get meters"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "rJ-zwEYXTeGgjHo5KKzS2A",
                            "route": "f/s/rJ-zwEYXTeGgjHo5KKzS2A",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "voMe5c1cT2u40PcZlE777w",
                            "route": "f/s/voMe5c1cT2u40PcZlE777w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bRtAaaJQQ16zKpJoeuBugg",
                    "name": "Which error",
                    "type": "decision",
                    "workflow_id": "bp6ck4mlTIONv-Q7YF2hSQ",
                    "workflow_name": "Meters: Get meters"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "2Xgx42pwSpKJEfSNPBducQ",
            "id": "TG3pNYXVQfadjYB7LXJmzg",
            "name": "Meters: Smart",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "CIum6jb7S1-3_Z69n1yCbg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "TG3pNYXVQfadjYB7LXJmzg",
                    "workflow_name": "Meters: Smart"
                },
                {
                    "id": "2Xgx42pwSpKJEfSNPBducQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "CIum6jb7S1-3_Z69n1yCbg",
                            "route": "f/s/CIum6jb7S1-3_Z69n1yCbg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2Xgx42pwSpKJEfSNPBducQ",
                            "route": "f/s/2Xgx42pwSpKJEfSNPBducQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "XD8zkT0TScmoO4-zDR_ObA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "CIum6jb7S1-3_Z69n1yCbg",
                                                "route": "f/s/CIum6jb7S1-3_Z69n1yCbg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "5VpEt83IR4CjJV3IN42nOA",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "mYEg-6FSToOxR09sT6dFNg",
                                                "route": "f/s/mYEg-6FSToOxR09sT6dFNg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK, you\u2019ve got a smart meter, so unfortunately I won\u2019t be able to help you log your reading.\r\n\r\nFor help with your smart meter reading, please check out [RESOURCE/CONTACT TBC]\r\n\r\nIn the meantime, is there anything else I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Smart meter",
                    "relatives": [
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:nNMrilK-QMqkFrNim9ePOQ",
                            "name": "Check for smart meter"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "TG3pNYXVQfadjYB7LXJmzg",
                    "workflow_name": "Meters: Smart"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "CIum6jb7S1-3_Z69n1yCbg",
                            "route": "f/s/CIum6jb7S1-3_Z69n1yCbg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "mYEg-6FSToOxR09sT6dFNg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "TG3pNYXVQfadjYB7LXJmzg",
                    "workflow_name": "Meters: Smart"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "UAH-l7XuTYG6CHb7Q5Hmcg",
            "id": "E0w11JgoRRaVa3B6VYeFUw",
            "name": "NLU: Route or Answer",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.nlu_result",
                            "guard": "trans.nlu_result",
                            "label": "Routing: Logged In",
                            "ref": "PXi9vnq7Qa6-Rfxp4YpgFw",
                            "route": "f/w/PXi9vnq7Qa6-Rfxp4YpgFw",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "FwXivCVeQiiHJ6lUyaYnHw",
                            "route": "f/s/FwXivCVeQiiHJ6lUyaYnHw",
                            "statetype": "nlu_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "UAH-l7XuTYG6CHb7Q5Hmcg",
                    "name": "Already determined route",
                    "relatives": [
                        {
                            "location": "/editor/states/Ei5N-sp7TwG-DZFdS9hyjw/#state:nmWdeWczSpee2mYmvVOo9Q",
                            "name": "Select premise"
                        },
                        {
                            "location": "/editor/states/mjd3QiqzTbCvvtZ4lZw-xw/#state:_P18nXOoQlKF86Xkj4mSqw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ZGZGOPpkSH6LbhlJyF42wQ/#state:scm9NoWGS4--oGIxzC9kdw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/rQ44dYS7R5mGodDoGoBJDQ/#state:gc4_1y5PROyblFzhuzEynQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/NRi28eP2QoaHkfZLl_1zug/#state:1_hMMqZfRGiTz86K1OzzUw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ehWkPYp5TOyOk2BVu3MpTg/#state:hsyAkiBwS6quOdgxw6xziQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/UOI0_g5XQ6Kkru1aItIRvw/#state:VO2DbmHITkO7m9LPz8vLXQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/5hV5kwyLTHK0yXPTr9PF_g/#state:K98aZTKSS1WaXSZYoxf2MQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/iwxrOjGeRraRi4ohz8ky5Q/#state:31ByOJEST3yX7KvAo5bRBg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/DnJU93jkRti5yzGjBDDjIQ/#state:HSf1dvn2QleBxCtSZZRQzw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ZcGWskz9S_qSsb1AzWDumA/#state:DyKmfBktR3CsR3_zDcEU-Q",
                            "name": "Get location"
                        },
                        {
                            "location": "/editor/states/ZcGWskz9S_qSsb1AzWDumA/#state:ie02Oby8ShO6NWhNznw95w",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/Ei5N-sp7TwG-DZFdS9hyjw/#state:y6yOt2WFQYGLCyq0xbj-AQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/k3DAd-onR9-T0iSZ4jO0tw/#state:o4bmHP0HQRWq2bZDPRRBqQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/7VWvlCENT4ugIiEMF6BXJg/#state:APcZr01jQ-GFal8UmXZjGA",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:ZSdIuSCcSa-pKjsdFHvwUQ",
                            "name": "Call paginator"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:10CvcGohQhOjK19cC7-S6w",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/H_RFVrXCSn6dETRtfkUhUw/#state:hRbttYkLTLa6C75kDric0Q",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/AXo8S_QDS2uB9vCckrhQZw/#state:tnaxpGinT1aLMtZS_6NABg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/xHlshH6aQqeNjVwiHYEddQ/#state:BA-04Sg-SJWz4Ro-kkuwTA",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/oX_hGX2WSpyUQnj-NPOhQg/#state:to-BvHb2QlWXY9lYup6xog",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/OzxkVsL4TLanlQ6VqszbSg/#state:qFGjswffRj6LvrS6AWGzIg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/2JLYQtHYQZe42CTmEO2gdw/#state:pvjY_-_wR9Gw26ijhMeUsQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/WTTD9JUbSsuDI4RPlcFp0w/#state:V4q5oR9CQjqrED4FzM-GRg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:k9L__styTpOC6mzn-Pg4Zg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/PuI-bXqSTEGJjio6ySMdSA/#state:lzZie4tfQ76qLrxKGVrbWQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:HKhrCpWqQoWqBUvmBNhihw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/Yrv1aSpNTKu-dlHaf7s0dQ/#state:1BSxn4DpSdS3KSRLyIiwIQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:4VdMEbpXTWO7jLuWZdoM3Q",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/TG3pNYXVQfadjYB7LXJmzg/#state:CIum6jb7S1-3_Z69n1yCbg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/jRYUGXU3REmcL0GpEBi1Tg/#state:IfqG82jBTqC2S5fa890NDg",
                            "name": "Rescue"
                        },
                        {
                            "location": "/editor/states/DK7u0cfPTxiY6jEW9uNKPA/#state:ujkcazGjTBSal3T4gOz0dw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/jRYUGXU3REmcL0GpEBi1Tg/#state:IfqG82jBTqC2S5fa890NDg",
                            "name": "Rescue"
                        },
                        {
                            "location": "/editor/states/lQ1Aj5CESB650OQoOcRZAQ/#state:qtkkJYMyQJisGYUxV910Pg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/zETuDg6gTTuSF9vIjOBk3w/#state:rEdXhTuoR-ySF6_6Y0buUA",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/djnYtnJFSyG_Q-UMTQgdQg/#state:Mqepun9wQJSFmYHpNbt4zg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:Fb4EJWjlQPqVBO3gJHLbPw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:amQ-ncFcSAm7M_xyrTRCnQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/-9j98rRnR2i380sGsTgi5Q/#state:6rN1wurzRDWgwDCitRKssw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/loAZFG-kSZWNZxewg7p0Fw/#state:vAzVxhNURL-qaHtj6kxcJQ",
                            "name": "Route or answer"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "E0w11JgoRRaVa3B6VYeFUw",
                    "workflow_name": "NLU: Route or Answer"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.navigation[\"utterance\"]\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "3c17440f-6ade-46d3-816b-fff5bde117cb"
                        }
                    ],
                    "id": "FwXivCVeQiiHJ6lUyaYnHw",
                    "input_variable": "trans.navigation[\"utterance\"]",
                    "method": "POST",
                    "name": "Check if question or route",
                    "on_error": {
                        "transition": {
                            "ref": "TimMCd_-RrmwfFxqyULmag",
                            "route": "f/s/TimMCd_-RrmwfFxqyULmag",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.nlu_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "if trans.nlu_result:\r\n    trans.nlu_result = trans.nlu_result[0][\"label\"]\r\nelse:\r\n    trans.nlu_result = \"route\"\r\n\r\ntrans.navigation.update({\r\n    \"nlu_result\": trans.nlu_task_faq\r\n})",
                            "ref": "P-YfhGPCTEWIrZnVUb1ePg",
                            "route": "f/s/P-YfhGPCTEWIrZnVUb1ePg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.nlu_result"
                    },
                    "resource": "https://nlu.feersum.io/nlu/v2/intent_classifiers/question-or-route/retrieve",
                    "retries": 0,
                    "retry": false,
                    "selected_nlu_model": "intent_classifier/question-or-route",
                    "simplify_result": false,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "E0w11JgoRRaVa3B6VYeFUw",
                    "workflow_name": "NLU: Route or Answer"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {}",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "TimMCd_-RrmwfFxqyULmag",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was an NLU error."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "NLU Error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "E0w11JgoRRaVa3B6VYeFUw",
                    "workflow_name": "NLU: Route or Answer"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.nlu_result == \"route\"",
                            "label": "Routing: Logged In",
                            "ref": "PXi9vnq7Qa6-Rfxp4YpgFw",
                            "route": "f/w/PXi9vnq7Qa6-Rfxp4YpgFw",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.faq_input = trans.navigation[\"utterance\"]\r\ndel trans.question",
                            "label": "FAQS: Entrypoint",
                            "ref": "ehWkPYp5TOyOk2BVu3MpTg",
                            "route": "f/w/ehWkPYp5TOyOk2BVu3MpTg",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "P-YfhGPCTEWIrZnVUb1ePg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "E0w11JgoRRaVa3B6VYeFUw",
                    "workflow_name": "NLU: Route or Answer"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "T4OXDpJ3Ska1FHasdYy8Pg",
            "id": "DK7u0cfPTxiY6jEW9uNKPA",
            "name": "Profile: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "uW2Zmi3XTK62M-0VVniF8w",
                            "route": "f/s/uW2Zmi3XTK62M-0VVniF8w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "uW2Zmi3XTK62M-0VVniF8w",
                            "route": "f/s/uW2Zmi3XTK62M-0VVniF8w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "JxyyN0SuTXCNBa34OeHxoA",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "yKgA2Bb2TGeLibNQnN_ZIQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "yKgA2Bb2TGeLibNQnN_ZIQ",
                            "route": "f/s/yKgA2Bb2TGeLibNQnN_ZIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "1F52oaiXSqyjkom1t1VqVg",
                                            "style": "",
                                            "text": "\u2705 Confirm",
                                            "transition": {
                                                "ref": "Edn8l-GPTiuJvP_9wge_mQ",
                                                "route": "f/s/Edn8l-GPTiuJvP_9wge_mQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Lgp010jATmKxCuOneu3kTQ",
                                            "style": "",
                                            "text": "\ud83d\udd04 Change it",
                                            "transition": {
                                                "code": "trans.updates = []",
                                                "ref": "LhmObgjITF-CvgQIAs1ExQ",
                                                "route": "f/s/LhmObgjITF-CvgQIAs1ExQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I will be changing your:\r\n\r\n{% for update in trans.updates %}\r\n{{update.0}} to *{{update.1}}*{% endfor %}\r\n\r\nPlease confirm if you are happy for me to do this"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Anything else?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.query = perm.customer.account + \"&token=mock\" if perm.customer.postpaid else perm.customer.prepaid_meter + \"&token=mock&prepaid=true\"",
                    "format": null,
                    "id": "FQUUwwVfRrGuMxXowd3SPA",
                    "method": "GET",
                    "name": "API: Get Customer Details",
                    "on_error": {
                        "transition": {
                            "code": "del trans.query",
                            "ref": "4AfK8mhGSh22TCCmUgN_2Q",
                            "route": "f/s/4AfK8mhGSh22TCCmUgN_2Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "del trans.query",
                            "ref": "hryGiXNpT7CYYAu-XtqC1w",
                            "route": "f/s/hryGiXNpT7CYYAu-XtqC1w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.details"
                    },
                    "resource": "{{const.MIDDLEWARE}}/customers?account={{trans.query}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"Header\":{\r\n        \"Verb\":\"change\",\r\n        \"Noun\":\"CUSTOMER DETAILS\",\r\n        \"Revision\":\"2\",\r\n        \"OriginalEventDateTime\": trans.date,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\": trans.message_id\r\n    },\r\n    \"Payload\":{\r\n        \"Persons\":{\r\n            \"ErpPerson\": trans.attrs[\"ErpPerson\"]\r\n        },\r\n        \"CustomerDetails\":{\r\n            \"Customer\":{\r\n                \"CustomerAccounts\":{\r\n                    \"mRID\": perm.customer[\"account\"]\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                    "code": "trans.date = str(datetime.now())\r\ntrans.message_id = perm.msisdn_on_bot + \"-\" + trans.date[0:16] + \"-\" + perm.customer[\"account\"]\r\ntrans.message_id = trans.message_id.replace(\" \", \"\")\r\n\r\ntrans.attrs = {\r\n    \"ErpPerson\": {}\r\n}\r\n\r\ntemp = None\r\nnumbers = []\r\n\r\nfor key, value in trans.updates:\r\n    if key == \"email\":\r\n        temp = {\r\n            \"ElectronicAddresses\": {\"email\": value}\r\n        }\r\n    else:\r\n        numbers.append({\r\n            \"localNumber\": value,\r\n            \"usage\": {\"home phone\": \"HOME\", \"cell number\": \"MOBILE\", \"work phone\": \"BUSINESS\"}.get(key)\r\n        })\r\nif temp:\r\n    trans.attrs[\"ErpPerson\"].update(temp)\r\nif numbers:\r\n    tel = {\"ErpTelephoneNumbers\": numbers}\r\n    trans.attrs[\"ErpPerson\"].update(tel)\r\nif trans.preferred:\r\n    trans.attrs[\"ErpPerson\"].update(trans.preferred)\r\n",
                    "format": "JSON",
                    "id": "gaZvxquQTBy7n_3Y74q2qw",
                    "method": "POST",
                    "name": "API: Update customer details",
                    "on_error": {
                        "transition": {
                            "ref": "SGCFShRXS42dRDfPuIp2-w",
                            "route": "f/s/SGCFShRXS42dRDfPuIp2-w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "VGupdTsyTEy4Gvx_yh6fXQ",
                            "route": "f/s/VGupdTsyTEy4Gvx_yh6fXQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.success"
                    },
                    "resource": "{{const.MIDDLEWARE}}/customers/?token=mock",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "code": "del trans.validation_counter\r\ndel trans.identifier",
                    "decisions": [
                        {
                            "code": "del trans.validated",
                            "guard": "trans.validated",
                            "ref": "FQUUwwVfRrGuMxXowd3SPA",
                            "route": "f/s/FQUUwwVfRrGuMxXowd3SPA",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.validated",
                            "ref": "D8VNjyspRES-eqs6N-DuVw",
                            "route": "f/s/D8VNjyspRES-eqs6N-DuVw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "wWs5ASFWQ6G1dsM8jhbqZA",
                    "name": "Call validate",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.validation_counter = 0",
                        "label": "Reusable: Validate User",
                        "ref": "h2dw_kvtR3eJU6PFUvTbGg",
                        "route": "f/w/h2dw_kvtR3eJU6PFUvTbGg",
                        "type": "workflow"
                    },
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "LcSgVURhTJy8Wb2s6qVTlQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.cell"
                            }
                        ],
                        "transition": {
                            "code": "trans.updates.append([\"cell number\", trans.cell])",
                            "ref": "yKgA2Bb2TGeLibNQnN_ZIQ",
                            "route": "f/s/yKgA2Bb2TGeLibNQnN_ZIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "LcSgVURhTJy8Wb2s6qVTlQ",
                            "route": "f/s/LcSgVURhTJy8Wb2s6qVTlQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK.\r\n\r\nPlease send me the new cell phone you\u2019d like us to use. \ud83d\udc47"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Cell",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.home_number = trans.details[\"person\"][\"home_number\"]\r\ntrans.cell_number = trans.details[\"person\"][\"cell_number\"]\r\ntrans.email = trans.details[\"person\"][\"email\"]\r\ntrans.work_number = trans.details[\"person\"][\"work_number\"]",
                            "guard": "trans.details.person.mrid",
                            "ref": "LhmObgjITF-CvgQIAs1ExQ",
                            "route": "f/s/LhmObgjITF-CvgQIAs1ExQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "VJ2kSRAyTkWrDveczBQaYg",
                            "route": "f/s/VJ2kSRAyTkWrDveczBQaYg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "hryGiXNpT7CYYAu-XtqC1w",
                    "name": "Check details",
                    "type": "decision",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "iesI8gATSryhWB_GL-Ue-w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.email"
                            }
                        ],
                        "transition": {
                            "code": "trans.updates.append([\"email\", trans.email])",
                            "ref": "yKgA2Bb2TGeLibNQnN_ZIQ",
                            "route": "f/s/yKgA2Bb2TGeLibNQnN_ZIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "iesI8gATSryhWB_GL-Ue-w",
                            "route": "f/s/iesI8gATSryhWB_GL-Ue-w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK.\r\n\r\nPlease send me the new emai you\u2019d like us to use. \ud83d\udc47"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Email",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "VJ2kSRAyTkWrDveczBQaYg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "VJ2kSRAyTkWrDveczBQaYg",
                            "route": "f/s/VJ2kSRAyTkWrDveczBQaYg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "eJSilSCgQ4CuZnDpgimJow",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "FQUUwwVfRrGuMxXowd3SPA",
                                                "route": "f/s/FQUUwwVfRrGuMxXowd3SPA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "lZtbvhofQxSTMvKr_NNz3g",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "QohomXOTTwO2lxGuDlgf1g",
                                                "route": "f/s/QohomXOTTwO2lxGuDlgf1g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error retrieving your details.\r\n\r\nWould you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "SGCFShRXS42dRDfPuIp2-w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "SGCFShRXS42dRDfPuIp2-w",
                            "route": "f/s/SGCFShRXS42dRDfPuIp2-w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "OL-vTK8WQUewzV5-DXM0Sw",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "gaZvxquQTBy7n_3Y74q2qw",
                                                "route": "f/s/gaZvxquQTBy7n_3Y74q2qw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "JmMRCgGYQJaZSN0-WD-llw",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "QohomXOTTwO2lxGuDlgf1g",
                                                "route": "f/s/QohomXOTTwO2lxGuDlgf1g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error updating your details, do you want to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure updating",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "SutKG2pJQ-eD3E4ZAlV7eA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.home"
                            }
                        ],
                        "transition": {
                            "code": "trans.updates.append([\"home phone\", trans.home])",
                            "ref": "yKgA2Bb2TGeLibNQnN_ZIQ",
                            "route": "f/s/yKgA2Bb2TGeLibNQnN_ZIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "SutKG2pJQ-eD3E4ZAlV7eA",
                            "route": "f/s/SutKG2pJQ-eD3E4ZAlV7eA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK.\r\n\r\nPlease send me the new home phone you\u2019d like us to use. \ud83d\udc47"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Home",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "T4OXDpJ3Ska1FHasdYy8Pg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"introduction\"",
                            "ref": "JxyyN0SuTXCNBa34OeHxoA",
                            "route": "f/s/JxyyN0SuTXCNBa34OeHxoA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "T4OXDpJ3Ska1FHasdYy8Pg",
                            "route": "f/s/T4OXDpJ3Ska1FHasdYy8Pg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Yc7GPQlwRRuYy9XpACZBUg",
                                            "style": "",
                                            "text": "\ud83d\udc64 Change my name",
                                            "transition": {
                                                "ref": "iWQpm-ciTua7tSBuuSzwTQ",
                                                "route": "f/s/iWQpm-ciTua7tSBuuSzwTQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "HxcMCXikQCaV09ILmnHKeA",
                                            "style": "",
                                            "text": "\u2709\ufe0f Opt in/out",
                                            "transition": {
                                                "label": "HSMs: Entrypoint",
                                                "ref": "AXo8S_QDS2uB9vCckrhQZw",
                                                "route": "f/w/AXo8S_QDS2uB9vCckrhQZw",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "wTh2rJhIQ0inOmdeXClD3Q",
                                            "style": "",
                                            "text": "\u2139\ufe0f Update details",
                                            "transition": {
                                                "code": "trans.updates = []",
                                                "ref": "wWs5ASFWQ6G1dsM8jhbqZA",
                                                "route": "f/s/wWs5ASFWQ6G1dsM8jhbqZA",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Happy to help you update any info you want. \ud83d\ude0a\r\n\r\nDo you want to change the name we use to chat, opt in or out of messages from me or update the contact details linked to your Eskom account?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Introduction",
                    "relatives": [
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "Edn8l-GPTiuJvP_9wge_mQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"choose method\"",
                            "ref": "JxyyN0SuTXCNBa34OeHxoA",
                            "route": "f/s/JxyyN0SuTXCNBa34OeHxoA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Edn8l-GPTiuJvP_9wge_mQ",
                            "route": "f/s/Edn8l-GPTiuJvP_9wge_mQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "g1k5d-JUR32FAxNCyiQZZw",
                                            "style": "",
                                            "text": "Telephone",
                                            "transition": {
                                                "code": "perm.customer.preferred = \"phone:1\"\r\ntrans.preferred = {\r\n    \"PreferredComms\": {\"indicator\": \"1\"}\r\n}",
                                                "ref": "gaZvxquQTBy7n_3Y74q2qw",
                                                "route": "f/s/gaZvxquQTBy7n_3Y74q2qw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "k_7Is62KRrO3UZouutqblQ",
                                            "style": "",
                                            "text": "Email",
                                            "transition": {
                                                "code": "perm.customer.preferred = \"email:2\"\r\ntrans.preferred = {\r\n    \"PreferredComms\": {\"indicator\": \"2\"}\r\n}",
                                                "ref": "gaZvxquQTBy7n_3Y74q2qw",
                                                "route": "f/s/gaZvxquQTBy7n_3Y74q2qw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "lXtNNO8OQLqTLoyOtJqY2A",
                                            "style": "",
                                            "text": "SMS",
                                            "transition": {
                                                "code": "perm.customer.preferred = \"sms:12\"\r\ntrans.preferred = {\r\n    \"PreferredComms\": {\"indicator\": \"12\"}\r\n}",
                                                "ref": "gaZvxquQTBy7n_3Y74q2qw",
                                                "route": "f/s/gaZvxquQTBy7n_3Y74q2qw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Uy6FQjyVSO6jGr3uhgJCbA",
                                            "style": "",
                                            "text": "Do not change",
                                            "transition": {
                                                "code": "trans.preferred = {}",
                                                "ref": "gaZvxquQTBy7n_3Y74q2qw",
                                                "route": "f/s/gaZvxquQTBy7n_3Y74q2qw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "What is your preferred method of communication?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Method",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "sX00DTRQScSlY67fMSnCVw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "sX00DTRQScSlY67fMSnCVw",
                            "route": "f/s/sX00DTRQScSlY67fMSnCVw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "c4FVEp5uQRuZrgkhVIzE-w",
                                            "style": "",
                                            "text": "Back",
                                            "transition": {
                                                "ref": "T4OXDpJ3Ska1FHasdYy8Pg",
                                                "route": "f/s/T4OXDpJ3Ska1FHasdYy8Pg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "j8NgeQNvS1WTayudHuJiow",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ujkcazGjTBSal3T4gOz0dw",
                                                "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "You\u2019ve got it {{user.username}}!\r\n\r\nAnything else I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Name changed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "lKMmoQTwTr2yycS3WMY-Ew",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "lKMmoQTwTr2yycS3WMY-Ew",
                            "route": "f/s/lKMmoQTwTr2yycS3WMY-Ew",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "TtX-p1BaR92AveZevOfDSQ",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "FQUUwwVfRrGuMxXowd3SPA",
                                                "route": "f/s/FQUUwwVfRrGuMxXowd3SPA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "OvV4VNxyTbWSH1CyipoiHw",
                                            "style": "",
                                            "text": "Change account",
                                            "transition": {
                                                "code": "del trans.cell\r\ndel trans.work\r\ndel trans.home\r\ndel trans.email\r\ndel trans.updates\r\ndel trans.preferred\r\ndel trans.name\r\ndel trans.utterance\r\ndel trans.updates",
                                                "label": "Users: Change Account",
                                                "ref": "nXv5rj_BSlijKOCFyYjR2w",
                                                "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Customer account {{perm.customer.account}} not found on the database. You can try again or log in with another account."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "D8VNjyspRES-eqs6N-DuVw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I could not validate you, so I cannot help with this request."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not validated",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"introduction\"",
                            "ref": "T4OXDpJ3Ska1FHasdYy8Pg",
                            "route": "f/s/T4OXDpJ3Ska1FHasdYy8Pg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"details\"",
                            "ref": "LhmObgjITF-CvgQIAs1ExQ",
                            "route": "f/s/LhmObgjITF-CvgQIAs1ExQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"choose method\"",
                            "ref": "Edn8l-GPTiuJvP_9wge_mQ",
                            "route": "f/s/Edn8l-GPTiuJvP_9wge_mQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "uW2Zmi3XTK62M-0VVniF8w",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.cell\r\ndel trans.work\r\ndel trans.home\r\ndel trans.email\r\ndel trans.updates\r\ndel trans.preferred\r\ndel trans.name\r\ndel trans.utterance\r\ndel trans.updates\r\ndel trans.work_number\r\ndel trans.success\r\ndel trans.message_id\r\ndel trans.home_number\r\ndel trans.details\r\ndel trans.date\r\ndel trans.cell_number\r\ndel trans.attrs",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.cell\r\ndel trans.work\r\ndel trans.home\r\ndel trans.email\r\ndel trans.updates\r\ndel trans.preferred\r\ndel trans.name\r\ndel trans.utterance\r\ndel trans.updates\r\ndel trans.work_number\r\ndel trans.success\r\ndel trans.message_id\r\ndel trans.home_number\r\ndel trans.details\r\ndel trans.date\r\ndel trans.cell_number\r\ndel trans.attrs",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "ujkcazGjTBSal3T4gOz0dw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "VGupdTsyTEy4Gvx_yh6fXQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "VGupdTsyTEy4Gvx_yh6fXQ",
                            "route": "f/s/VGupdTsyTEy4Gvx_yh6fXQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "otZ80qsOTc2Ndu8OeFZPAA",
                                            "style": "",
                                            "text": "\u2139\ufe0f Update details",
                                            "transition": {
                                                "ref": "LhmObgjITF-CvgQIAs1ExQ",
                                                "route": "f/s/LhmObgjITF-CvgQIAs1ExQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "O_reVXn7SIGH0aB4w5zFFQ",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "ujkcazGjTBSal3T4gOz0dw",
                                                "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Your: {% for update in trans.updates %}\r\n*{{update.0}}*{% endfor %}\r\nhas been updated! \ud83d\ude4c\r\n\r\nWould you like to update any other details or go back to the main menu?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Successfully updated details",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "ujkcazGjTBSal3T4gOz0dw",
                            "route": "f/s/ujkcazGjTBSal3T4gOz0dw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "QohomXOTTwO2lxGuDlgf1g",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "iWQpm-ciTua7tSBuuSzwTQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.name"
                            }
                        ],
                        "transition": {
                            "code": "user.username = trans.name",
                            "ref": "sX00DTRQScSlY67fMSnCVw",
                            "route": "f/s/sX00DTRQScSlY67fMSnCVw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "iWQpm-ciTua7tSBuuSzwTQ",
                            "route": "f/s/iWQpm-ciTua7tSBuuSzwTQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "No problem{% if user.username %}, {{user.username}}{% endif %}.\r\n\r\nWhat would you like me to call you instead?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Update Name",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "LhmObgjITF-CvgQIAs1ExQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"details\"",
                            "ref": "JxyyN0SuTXCNBa34OeHxoA",
                            "route": "f/s/JxyyN0SuTXCNBa34OeHxoA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "LhmObgjITF-CvgQIAs1ExQ",
                            "route": "f/s/LhmObgjITF-CvgQIAs1ExQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Tz3HgldqSEqr3xtYaOiaTg",
                                            "style": "list",
                                            "text": "\ud83d\udcf1 Cell phone",
                                            "transition": {
                                                "ref": "LcSgVURhTJy8Wb2s6qVTlQ",
                                                "route": "f/s/LcSgVURhTJy8Wb2s6qVTlQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "K8OIC5qKSQGkd4wQT7iA0Q",
                                            "style": "list",
                                            "text": "\ud83d\udcde Work phone",
                                            "transition": {
                                                "ref": "pIgO2c10TxmMHULmAUYdqQ",
                                                "route": "f/s/pIgO2c10TxmMHULmAUYdqQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "hKwOUV7DS6KohjfTYrfJaA",
                                            "style": "list",
                                            "text": "\u260e\ufe0f Home phone",
                                            "transition": {
                                                "ref": "SutKG2pJQ-eD3E4ZAlV7eA",
                                                "route": "f/s/SutKG2pJQ-eD3E4ZAlV7eA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "MSgCHMBwSgOk8V-HKdhGpA",
                                            "style": "list",
                                            "text": "\u2709\ufe0f Email address",
                                            "transition": {
                                                "ref": "iesI8gATSryhWB_GL-Ue-w",
                                                "route": "f/s/iesI8gATSryhWB_GL-Ue-w",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "iZc0Gi4EQjyJI2prLqlUxw",
                                            "style": "",
                                            "text": "\u2b05\ufe0f Back",
                                            "transition": {
                                                "ref": "T4OXDpJ3Ska1FHasdYy8Pg",
                                                "route": "f/s/T4OXDpJ3Ska1FHasdYy8Pg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Change details\r\nOK{% if user.username %}, {{user.username}}{% endif %}...\r\n\r\nThe contact details I have for you are:\r\n\r\n\ud83d\udcf1 Cell phone: {% if trans.cell_number %}{{trans.cell_number.0}}{% else %}Not set{% endif %}\r\n\ud83d\udcde Work phone: {% if trans.work_number %}{{trans.work_number.0}}{% else %}Not set{% endif %}\r\n\u260e\ufe0f Home phone: {% if trans.home_number %}{{trans.home_number.0}}{% else %}Not set{% endif %}\r\n\u2709\ufe0f Email address: {% if trans.email %}{{trans.email}}{% else %}Not set{% endif %}\r\n\r\nWhich of these details would you like to update?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "What to update?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "lKMmoQTwTr2yycS3WMY-Ew",
                            "route": "f/s/lKMmoQTwTr2yycS3WMY-Ew",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "VJ2kSRAyTkWrDveczBQaYg",
                            "route": "f/s/VJ2kSRAyTkWrDveczBQaYg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4AfK8mhGSh22TCCmUgN_2Q",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                },
                {
                    "id": "pIgO2c10TxmMHULmAUYdqQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.work"
                            }
                        ],
                        "transition": {
                            "code": "trans.updates.append([\"work phone\", trans.work])",
                            "ref": "yKgA2Bb2TGeLibNQnN_ZIQ",
                            "route": "f/s/yKgA2Bb2TGeLibNQnN_ZIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "pIgO2c10TxmMHULmAUYdqQ",
                            "route": "f/s/pIgO2c10TxmMHULmAUYdqQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK.\r\n\r\nPlease send me the new work phone you\u2019d like us to use."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Work",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DK7u0cfPTxiY6jEW9uNKPA",
                    "workflow_name": "Profile: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "yGw4t8aHRmaLRlfxaT2p8Q",
            "id": "BQRw87-bSm2bhp6fdStDVA",
            "name": "Render: Document",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.button_1 and trans.button_2 and trans.button_3",
                            "ref": "RX1ugJn-R0-N8pAgQXGs4w",
                            "route": "f/s/RX1ugJn-R0-N8pAgQXGs4w",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_1 and trans.button_2 and not trans.button_3",
                            "ref": "WFMAlrEeQY6kKYPbm8dxFg",
                            "route": "f/s/WFMAlrEeQY6kKYPbm8dxFg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_1",
                            "ref": "BkrpnCalRyeMkkirTRbbIA",
                            "route": "f/s/BkrpnCalRyeMkkirTRbbIA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                            "route": "f/s/l4GGcgJNQiK8A-fMHrtC7A",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "s-9MyTQ7Tsu0m5K4vxC37Q",
                    "name": "buttons?",
                    "type": "decision",
                    "workflow_id": "BQRw87-bSm2bhp6fdStDVA",
                    "workflow_name": "Render: Document"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "s-9MyTQ7Tsu0m5K4vxC37Q",
                            "route": "f/s/s-9MyTQ7Tsu0m5K4vxC37Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "yGw4t8aHRmaLRlfxaT2p8Q",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"mime_type\": \"application/pdf\",\r\n        \"media\": trans.document\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Document",
                    "relatives": [
                        {
                            "location": "/editor/states/ZGZGOPpkSH6LbhlJyF42wQ/#state:RJjXaWQWTWWtBKVGyk53Hw",
                            "name": "Call document"
                        },
                        {
                            "location": "/editor/states/oX_hGX2WSpyUQnj-NPOhQg/#state:qJh-nzC7QzuMQ2tQ16P4tA",
                            "name": "Show terms and conditions"
                        },
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:a0ptpmYASLaLAdEDnZhxig",
                            "name": "Render PDF"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "BQRw87-bSm2bhp6fdStDVA",
                    "workflow_name": "Render: Document"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.text\r\ndel trans.back\r\ndel trans.menu\r\ndel trans.document",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "l4GGcgJNQiK8A-fMHrtC7A",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "BQRw87-bSm2bhp6fdStDVA",
                    "workflow_name": "Render: Document"
                },
                {
                    "id": "BkrpnCalRyeMkkirTRbbIA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                            "route": "f/s/l4GGcgJNQiK8A-fMHrtC7A",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "BkrpnCalRyeMkkirTRbbIA",
                            "route": "f/s/BkrpnCalRyeMkkirTRbbIA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n            'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True')\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "One button",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "BQRw87-bSm2bhp6fdStDVA",
                    "workflow_name": "Render: Document"
                },
                {
                    "id": "RX1ugJn-R0-N8pAgQXGs4w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                            "route": "f/s/l4GGcgJNQiK8A-fMHrtC7A",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "RX1ugJn-R0-N8pAgQXGs4w",
                            "route": "f/s/RX1ugJn-R0-N8pAgQXGs4w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n            'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True'),\r\n                transition('ID_TWO', trans.button_2, code='trans.button_two=True'),\r\n                transition('ID_THREE', trans.button_3, code='trans.button_three=True')\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_TWO",
                                        "transition": {
                                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_THREE",
                                        "transition": {
                                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Three buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "BQRw87-bSm2bhp6fdStDVA",
                    "workflow_name": "Render: Document"
                },
                {
                    "id": "WFMAlrEeQY6kKYPbm8dxFg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                            "route": "f/s/l4GGcgJNQiK8A-fMHrtC7A",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WFMAlrEeQY6kKYPbm8dxFg",
                            "route": "f/s/WFMAlrEeQY6kKYPbm8dxFg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n            'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True'),\r\n                transition('ID_TWO', trans.button_2, code='trans.button_two=True')\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_TWO",
                                        "transition": {
                                            "ref": "l4GGcgJNQiK8A-fMHrtC7A",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Two buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "BQRw87-bSm2bhp6fdStDVA",
                    "workflow_name": "Render: Document"
                }
            ],
            "updated_at": "Sep. 19, 2024, 07:21 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "8obiiwvaTb-M6GDS5IByNQ",
            "id": "le7tQ4smRwKS5z4QMFWu3w",
            "name": "Render: Image",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.button_1 and trans.button_2 and trans.button_3",
                            "ref": "bOMoyH9uQ2-FOIBbs79amQ",
                            "route": "f/s/bOMoyH9uQ2-FOIBbs79amQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_1 and trans.button_2 and not trans.button_3",
                            "ref": "teXVXYhaTg2V5rh90KO7Rg",
                            "route": "f/s/teXVXYhaTg2V5rh90KO7Rg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_1",
                            "ref": "3dUO2tV1QA-WRAQbV9SKEw",
                            "route": "f/s/3dUO2tV1QA-WRAQbV9SKEw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                            "route": "f/s/xthllq-6SyO2gpa0Iwfj6w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "yERXkx3ERc2MGVb-bEticw",
                    "name": "buttons?",
                    "type": "decision",
                    "workflow_id": "le7tQ4smRwKS5z4QMFWu3w",
                    "workflow_name": "Render: Image"
                },
                {
                    "id": "3dUO2tV1QA-WRAQbV9SKEw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                            "route": "f/s/xthllq-6SyO2gpa0Iwfj6w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "3dUO2tV1QA-WRAQbV9SKEw",
                            "route": "f/s/3dUO2tV1QA-WRAQbV9SKEw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n             'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True')\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "le7tQ4smRwKS5z4QMFWu3w",
                    "workflow_name": "Render: Image"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "xthllq-6SyO2gpa0Iwfj6w",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "le7tQ4smRwKS5z4QMFWu3w",
                    "workflow_name": "Render: Image"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "yERXkx3ERc2MGVb-bEticw",
                            "route": "f/s/yERXkx3ERc2MGVb-bEticw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "8obiiwvaTb-M6GDS5IByNQ",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"mime_type\": \"image/png\",\r\n        \"media\": trans.url\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Image",
                    "relatives": [
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:yXNQzV3eRUq5fzoxWoir4A",
                            "name": "Get more tips"
                        },
                        {
                            "location": "/editor/states/Yrv1aSpNTKu-dlHaf7s0dQ/#state:1hvBPH6eT2SblFpccxTlpw",
                            "name": "Get more tips"
                        },
                        {
                            "location": "/editor/states/djnYtnJFSyG_Q-UMTQgdQg/#state:7FHEaq2MQLCvP16cFKZa8Q",
                            "name": "Render KRN image"
                        },
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:8UJ4oLxoTBuWi5X32o9fUA",
                            "name": "Get voltex image"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:J3pkUcxdR-m3vESJt0m6jg",
                            "name": "Get voltex image"
                        },
                        {
                            "location": "/editor/states/loAZFG-kSZWNZxewg7p0Fw/#state:nmvOhPDVS0qXQkYpPYofcw",
                            "name": "Call image"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "le7tQ4smRwKS5z4QMFWu3w",
                    "workflow_name": "Render: Image"
                },
                {
                    "id": "bOMoyH9uQ2-FOIBbs79amQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                            "route": "f/s/xthllq-6SyO2gpa0Iwfj6w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "bOMoyH9uQ2-FOIBbs79amQ",
                            "route": "f/s/bOMoyH9uQ2-FOIBbs79amQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n             'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True'),\r\n                transition('ID_TWO', trans.button_2, code='trans.button_two=True'),\r\n                transition('ID_THREE', trans.button_3, code='trans.button_three=True'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_TWO",
                                        "transition": {
                                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_THREE",
                                        "transition": {
                                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Three buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "le7tQ4smRwKS5z4QMFWu3w",
                    "workflow_name": "Render: Image"
                },
                {
                    "id": "teXVXYhaTg2V5rh90KO7Rg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                            "route": "f/s/xthllq-6SyO2gpa0Iwfj6w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "teXVXYhaTg2V5rh90KO7Rg",
                            "route": "f/s/teXVXYhaTg2V5rh90KO7Rg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n             'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True'),\r\n                transition('ID_TWO', trans.button_2, code='trans.button_two=True'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_TWO",
                                        "transition": {
                                            "ref": "xthllq-6SyO2gpa0Iwfj6w",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Two buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "le7tQ4smRwKS5z4QMFWu3w",
                    "workflow_name": "Render: Image"
                }
            ],
            "updated_at": "Sep. 19, 2024, 06:07 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "IbbwWnvjQzuxlVbg8rTPag",
            "id": "CDrNhS1KQzaA-KcxIyG_rA",
            "name": "Render: Video",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.button_1 and trans.button_2 and trans.button_3",
                            "ref": "uSZyLPkZR4OqC_cvP1jN0Q",
                            "route": "f/s/uSZyLPkZR4OqC_cvP1jN0Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_1 and trans.button_2 and not trans.button_3",
                            "ref": "MK9MrxfMQKmURwzdHi8I9A",
                            "route": "f/s/MK9MrxfMQKmURwzdHi8I9A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.button_1",
                            "ref": "nC8-IAonSTS38O8ZhQppkQ",
                            "route": "f/s/nC8-IAonSTS38O8ZhQppkQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "o3P6C_t1Rg2K_9ogEOFGnA",
                            "route": "f/s/o3P6C_t1Rg2K_9ogEOFGnA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "plKI9L3hQuGHheGYH0kJkg",
                    "name": "Buttons?",
                    "type": "decision",
                    "workflow_id": "CDrNhS1KQzaA-KcxIyG_rA",
                    "workflow_name": "Render: Video"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "tAkrU2TVQ0moKaPiIcqdtQ",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "CDrNhS1KQzaA-KcxIyG_rA",
                    "workflow_name": "Render: Video"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                            "route": "f/s/tAkrU2TVQ0moKaPiIcqdtQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "o3P6C_t1Rg2K_9ogEOFGnA",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"title\": trans.text,\r\n        \"mime_type\": \"video/mp4\",\r\n        \"media\": trans.url\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "No buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "CDrNhS1KQzaA-KcxIyG_rA",
                    "workflow_name": "Render: Video"
                },
                {
                    "id": "nC8-IAonSTS38O8ZhQppkQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                            "route": "f/s/tAkrU2TVQ0moKaPiIcqdtQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "nC8-IAonSTS38O8ZhQppkQ",
                            "route": "f/s/nC8-IAonSTS38O8ZhQppkQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n            'video': trans.url,\r\n            'buttons': [\r\n                transition('ID_OK', trans.button_1, code='trans.button_one=True')\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_OK",
                                        "transition": {
                                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "One button",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "CDrNhS1KQzaA-KcxIyG_rA",
                    "workflow_name": "Render: Video"
                },
                {
                    "id": "uSZyLPkZR4OqC_cvP1jN0Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                            "route": "f/s/tAkrU2TVQ0moKaPiIcqdtQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "uSZyLPkZR4OqC_cvP1jN0Q",
                            "route": "f/s/uSZyLPkZR4OqC_cvP1jN0Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n            'video': trans.url,\r\n            'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True'),\r\n                transition('ID_TWO', trans.button_2, code='trans.button_two=True'),\r\n                transition('ID_THREE', trans.button_3, code='trans.button_three=True'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_TWO",
                                        "transition": {
                                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_THREE",
                                        "transition": {
                                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Three buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "CDrNhS1KQzaA-KcxIyG_rA",
                    "workflow_name": "Render: Video"
                },
                {
                    "id": "MK9MrxfMQKmURwzdHi8I9A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                            "route": "f/s/tAkrU2TVQ0moKaPiIcqdtQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "MK9MrxfMQKmURwzdHi8I9A",
                            "route": "f/s/MK9MrxfMQKmURwzdHi8I9A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': trans.text,\r\n            'video': trans.url,\r\n            'buttons': [\r\n                transition('ID_ONE', trans.button_1, code='trans.button_one=True'),\r\n                transition('ID_TWO', trans.button_2, code='trans.button_two=True'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_ONE",
                                        "transition": {
                                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_TWO",
                                        "transition": {
                                            "ref": "tAkrU2TVQ0moKaPiIcqdtQ",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Two buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "CDrNhS1KQzaA-KcxIyG_rA",
                    "workflow_name": "Render: Video"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "plKI9L3hQuGHheGYH0kJkg",
                            "route": "f/s/plKI9L3hQuGHheGYH0kJkg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "IbbwWnvjQzuxlVbg8rTPag",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"mime_type\": \"video/mp4\",\r\n        \"media\": trans.url\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "video",
                    "relatives": [
                        {
                            "location": "/editor/states/djnYtnJFSyG_Q-UMTQgdQg/#state:8xwV6B3DSOe5a_c4Vz2RRA",
                            "name": "Render KRN video"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:kyLPprEFTZace8uN5KgPPg",
                            "name": "Render video"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "CDrNhS1KQzaA-KcxIyG_rA",
                    "workflow_name": "Render: Video"
                }
            ],
            "updated_at": "Sep. 19, 2024, 06:10 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "IfqG82jBTqC2S5fa890NDg",
            "id": "jRYUGXU3REmcL0GpEBi1Tg",
            "name": "Rescue",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "trans.error = {}\r\ntrans.navigation = {}",
                    "decisions": [
                        {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.__initial_message__\r\n}",
                            "guard": "trans.__initial_message__",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.__initial_message__\r\n}",
                            "guard": "trans.__previous_message__",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "IfqG82jBTqC2S5fa890NDg",
                    "name": "Rescue",
                    "type": "decision",
                    "workflow_id": "jRYUGXU3REmcL0GpEBi1Tg",
                    "workflow_name": "Rescue"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "kAF0S9BqQ3OUC_ttG0D_lA",
            "id": "Jv8P9kp7T6e-cx14GU0_uw",
            "name": "Reusable: Check State",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.context.update({\r\n    \"logged_in\": True,\r\n    \"logged_out\": False\r\n})",
                            "guard": "perm.logged_in",
                            "ref": "7qa-_J7cSxWSG1L1MSRvtA",
                            "route": "f/s/7qa-_J7cSxWSG1L1MSRvtA",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.context.update({\r\n    \"logged_in\": False,\r\n    \"logged_out\": True\r\n})",
                            "ref": "7qa-_J7cSxWSG1L1MSRvtA",
                            "route": "f/s/7qa-_J7cSxWSG1L1MSRvtA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "kAF0S9BqQ3OUC_ttG0D_lA",
                    "name": "Check if the user is logged in",
                    "relatives": [
                        {
                            "location": "/editor/states/NRi28eP2QoaHkfZLl_1zug/#state:rugjTllCTgOYyX1s40M7WA",
                            "name": "Call context check"
                        },
                        {
                            "location": "/editor/states/JfhDWc6UTFaa-pwepw3hrA/#state:vVttbWANRS622R0GYinQ7Q",
                            "name": "Check status"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "Jv8P9kp7T6e-cx14GU0_uw",
                    "workflow_name": "Reusable: Check State"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "7qa-_J7cSxWSG1L1MSRvtA",
                    "name": "Return",
                    "type": "decision",
                    "workflow_id": "Jv8P9kp7T6e-cx14GU0_uw",
                    "workflow_name": "Reusable: Check State"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "Ehkx62yjQESwcpTj3oJ8Mg",
            "id": "DGcWYk9nTt2b7R04Ks3Jeg",
            "name": "Reusable: Contact Us",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "Ehkx62yjQESwcpTj3oJ8Mg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "6060hFQVQrCoNbAByj68EQ",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "label": "Menu: Main",
                                                "ref": "JfhDWc6UTFaa-pwepw3hrA",
                                                "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "aAhxq-CGTdyManpO68TGvg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "UGKIEbQLRaWZWqn8ACHhzw",
                                                "route": "f/s/UGKIEbQLRaWZWqn8ACHhzw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "You can use any of the methods below to get in touch.\r\n\r\n\ud83d\udcde *Toll free crime line:* 0800 11 27 22\r\n\ud83d\udcde *Customer care:* \u00a00860 037 566\r\n\uff20  *Website:* http://www.eskom.co.za\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Static details",
                    "relatives": [
                        {
                            "location": "/editor/states/PuI-bXqSTEGJjio6ySMdSA/#state:wkXegw0tThWkOBp56B1KyQ",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DGcWYk9nTt2b7R04Ks3Jeg",
                    "workflow_name": "Reusable: Contact Us"
                },
                {
                    "default_action": {
                        "transition": {
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "UGKIEbQLRaWZWqn8ACHhzw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "DGcWYk9nTt2b7R04Ks3Jeg",
                    "workflow_name": "Reusable: Contact Us"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "X81rtbiLQoKpdvceVgGPUw",
            "id": "8KU22WENSBa_uis6QT7usQ",
            "name": "Reusable: Date Parser",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.date_str = '{} {} {}'.format(trans.formatted_dates['day'], trans.formatted_dates['month_name'], trans.formatted_dates['year'])\r\ntrans.date = trans.formatted_dates",
                            "guard": "trans.formatted_dates and isinstance(trans.formatted_dates, dict)",
                            "ref": "CNZxB_IrTEqOl5unSGUD1Q",
                            "route": "f/s/CNZxB_IrTEqOl5unSGUD1Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.date_options = [\r\n    '{} {} {}'.format(date['day'], date['month_name'], date['year']) for date in trans.formatted_dates\r\n]",
                            "guard": "trans.formatted_dates and isinstance(trans.formatted_dates, list)",
                            "ref": "XTJkLSGkQkKbKBzpVkfATg",
                            "route": "f/s/XTJkLSGkQkKbKBzpVkfATg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "eWJZwT2oSBmtgKLStwuKxQ",
                            "route": "f/s/eWJZwT2oSBmtgKLStwuKxQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "33u5ophKSrSV7iSMcAiZBQ",
                    "name": "Check date",
                    "type": "decision",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.input in [0, \"0\"]",
                            "ref": "vZglgC2LSzit8uur9xBQXA",
                            "route": "f/s/vZglgC2LSzit8uur9xBQXA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.date = trans.formatted_dates[trans.input - 1]\r\n",
                            "guard": "0 < trans.input <= len(trans.date_options)",
                            "ref": "tjKpDSXURh2FCK4iKuq-YA",
                            "route": "f/s/tjKpDSXURh2FCK4iKuq-YA",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.length = len(trans.date_options)",
                            "ref": "GoojFMMmS9S8HDiXgcKRLQ",
                            "route": "f/s/GoojFMMmS9S8HDiXgcKRLQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "WlorrLluS7CJBfdww8nP9Q",
                    "name": "Check input",
                    "type": "decision",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.date_options[0] != trans.date_options[1]",
                            "ref": "nxAgchAVSLqornDuq8JDng",
                            "route": "f/s/nxAgchAVSLqornDuq8JDng",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.formatted_dates = trans.formatted_dates[0]\r\ntrans.date_str = '{} {} {}'.format(trans.formatted_dates['day'], trans.formatted_dates['month_name'], trans.formatted_dates['year'])\r\ntrans.date = trans.formatted_dates",
                            "ref": "CNZxB_IrTEqOl5unSGUD1Q",
                            "route": "f/s/CNZxB_IrTEqOl5unSGUD1Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "XTJkLSGkQkKbKBzpVkfATg",
                    "name": "Confirm diffrent days",
                    "type": "decision",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "id": "nxAgchAVSLqornDuq8JDng",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "integer",
                                "var": "trans.input"
                            }
                        ],
                        "transition": {
                            "ref": "WlorrLluS7CJBfdww8nP9Q",
                            "route": "f/s/WlorrLluS7CJBfdww8nP9Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "nxAgchAVSLqornDuq8JDng",
                            "route": "f/s/nxAgchAVSLqornDuq8JDng",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please select the correct date:\r\n{% for date in trans.date_options %}\r\n{{ loop.index }}. {{ date }}{% endfor %}\r\n\r\nIf none of the options are correct, type \"0\"."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confirm multiple dates",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "id": "CNZxB_IrTEqOl5unSGUD1Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "uCQ3oHcMTNCOpkZMyN00Xw",
                            "route": "f/s/uCQ3oHcMTNCOpkZMyN00Xw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "CNZxB_IrTEqOl5unSGUD1Q",
                            "route": "f/s/CNZxB_IrTEqOl5unSGUD1Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "1VbqHMplROyDZO4Ihu7oQA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes",
                                            "transition": {
                                                "code": "trans.utterance = \"success\"",
                                                "ref": "tjKpDSXURh2FCK4iKuq-YA",
                                                "route": "f/s/tjKpDSXURh2FCK4iKuq-YA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "FGhmqNbqQEOkS8Yv0dkyjg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No",
                                            "transition": {
                                                "code": "trans.utterance = \"fail\"",
                                                "ref": "uCQ3oHcMTNCOpkZMyN00Xw",
                                                "route": "f/s/uCQ3oHcMTNCOpkZMyN00Xw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "The date we have is: {{ trans.date_str }}.\r\n\r\nIs this date correct?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confirm single date",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "id": "CaTSh8DYQiC7L4V-IonK3Q",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "RpuoVdKMRwaaw7YmZmM-0g",
                                            "style": "",
                                            "text": "Try again",
                                            "transition": {
                                                "ref": "X81rtbiLQoKpdvceVgGPUw",
                                                "route": "f/s/X81rtbiLQoKpdvceVgGPUw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "AxZjOMIHQn2BSSAsEbAnPQ",
                                            "style": "",
                                            "text": "Menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "uCQ3oHcMTNCOpkZMyN00Xw",
                                                "route": "f/s/uCQ3oHcMTNCOpkZMyN00Xw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error extracting the date."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.input_date\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": false,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "b2606e67-8341-4371-82e3-83fafd87c-QA"
                        }
                    ],
                    "id": "at3-qV6LSVSzsSkoXbtarQ",
                    "input_variable": "trans.input_date",
                    "method": "POST",
                    "name": "Extract date",
                    "on_error": {
                        "transition": {
                            "ref": "CaTSh8DYQiC7L4V-IonK3Q",
                            "route": "f/s/CaTSh8DYQiC7L4V-IonK3Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "33u5ophKSrSV7iSMcAiZBQ",
                            "route": "f/s/33u5ophKSrSV7iSMcAiZBQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.formatted_dates"
                    },
                    "resource": "https://nlu.feersum.io/nlu/v2/date_parsers/generic/retrieve",
                    "retries": 0,
                    "retry": false,
                    "selected_nlu_model": "date_parser/generic",
                    "simplify_result": true,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "id": "vZglgC2LSzit8uur9xBQXA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.input_date"
                            }
                        ],
                        "transition": {
                            "code": "trans.input_date = trans.input_date.lower()",
                            "ref": "at3-qV6LSVSzsSkoXbtarQ",
                            "route": "f/s/at3-qV6LSVSzsSkoXbtarQ",
                            "statetype": "nlu_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "vZglgC2LSzit8uur9xBQXA",
                            "route": "f/s/vZglgC2LSzit8uur9xBQXA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "{% if trans.date_prompt %}{{trans.date_prompt}}{% else %}Please enter the date(format dd.mm.yy) below:{% endif %}\r\n\r\n_TIP: You can also use natural language like *last week Friday*_"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Input date",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"fail\"",
                            "ref": "uCQ3oHcMTNCOpkZMyN00Xw",
                            "route": "f/s/uCQ3oHcMTNCOpkZMyN00Xw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bYZP527xSHy-URDG3Ic5pA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Unfortunately you cannot add future dates."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "In the future",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"fail\"",
                            "ref": "uCQ3oHcMTNCOpkZMyN00Xw",
                            "route": "f/s/uCQ3oHcMTNCOpkZMyN00Xw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "eWJZwT2oSBmtgKLStwuKxQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Sorry, that doesn't look like a valid date."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Invalid date",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "code": "current_day = datetime.now()\r\ntrans.age = current_day.year - trans.date['year'] - ((current_day.month, current_day.day) < (trans.date['month'], trans.date['day']))",
                    "decisions": [
                        {
                            "guard": "trans.age < 0",
                            "ref": "bYZP527xSHy-URDG3Ic5pA",
                            "route": "f/s/bYZP527xSHy-URDG3Ic5pA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"success\"",
                            "ref": "uCQ3oHcMTNCOpkZMyN00Xw",
                            "route": "f/s/uCQ3oHcMTNCOpkZMyN00Xw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "tjKpDSXURh2FCK4iKuq-YA",
                    "name": "Is the date in the future",
                    "type": "decision",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "nxAgchAVSLqornDuq8JDng",
                            "route": "f/s/nxAgchAVSLqornDuq8JDng",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "GoojFMMmS9S8HDiXgcKRLQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please select a valid value between '0' and {{trans.length}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Out of range",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\nif trans.iso:\r\n    trans.date = f\"{trans.date['year']}-{trans.date['month']:02}-{trans.date['day']:02}\"\r\nelse:\r\n    trans.date = '{}.{}.{}'.format(trans.date['day'], trans.date['month'], trans.date['year'])\r\ndel trans.utterance\r\ndel trans.date_options\r\ndel trans.input\r\ndel trans.date_str\r\ndel trans.formatted_dates\r\ndel trans.input_date\r\ndel trans.age\r\ndel trans.iso",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "uCQ3oHcMTNCOpkZMyN00Xw",
                    "name": "Return",
                    "type": "decision",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.input_date",
                            "ref": "at3-qV6LSVSzsSkoXbtarQ",
                            "route": "f/s/at3-qV6LSVSzsSkoXbtarQ",
                            "statetype": "nlu_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "vZglgC2LSzit8uur9xBQXA",
                            "route": "f/s/vZglgC2LSzit8uur9xBQXA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "X81rtbiLQoKpdvceVgGPUw",
                    "name": "Today?",
                    "relatives": [
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:zPclXsv5RrCzrQiqNR9-sw",
                            "name": "Get formatted date"
                        },
                        {
                            "location": "/editor/states/Yrv1aSpNTKu-dlHaf7s0dQ/#state:1wV2obdFRTOFGE51sOw7SQ",
                            "name": "Get formatted date"
                        },
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:0VcVHkOVQS6s_um6n-zY8Q",
                            "name": "Call date"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "8KU22WENSBa_uis6QT7usQ",
                    "workflow_name": "Reusable: Date Parser"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "PXCet8frRBC6ZyYhvQRm2w",
            "id": "vVHPXRDBT16rn44A5A_0VA",
            "name": "Reusable: FAQs",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "default_action": {
                        "transition": {
                            "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                            "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "uzNyY59eSkWVvbW6NSDM6w",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I can't seem to find the answer to your question right now.\r\n\r\nI will try and take you back to where you were."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Can't answer",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.utterance\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "3c17440f-6ade-46d3-816b-fff5bde117cb"
                        }
                    ],
                    "id": "PXCet8frRBC6ZyYhvQRm2w",
                    "input_variable": "trans.utterance",
                    "method": "POST",
                    "name": "Check if question or route",
                    "on_error": {
                        "transition": {
                            "ref": "WdkSACXSTgOx7ntK8dU_Ew",
                            "route": "f/s/WdkSACXSTgOx7ntK8dU_Ew",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "if trans.nlu_result:\r\n    trans.nlu_result = trans.nlu_result[0][\"label\"]\r\nelse:\r\n    trans.nlu_result = \"route\"\r\n\r\ntrans.navigation.update({\r\n    \"nlu_result\": trans.nlu_task_faq\r\n})",
                            "ref": "Ed1IjGzXTl6UvCRRRJY4-g",
                            "route": "f/s/Ed1IjGzXTl6UvCRRRJY4-g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.nlu_result"
                    },
                    "relatives": [
                        {
                            "location": "/editor/states/mjd3QiqzTbCvvtZ4lZw-xw/#state:7esMNuGfTpSi_4XH1jwCxQ",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/ZGZGOPpkSH6LbhlJyF42wQ/#state:6qrDRfLUSaWmwUofoGXb_g",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/rQ44dYS7R5mGodDoGoBJDQ/#state:Ud0xXTvKSNqzAIwXCI_MNQ",
                            "name": "Account menu route"
                        },
                        {
                            "location": "/editor/states/UOI0_g5XQ6Kkru1aItIRvw/#state:k78V7xY3QMyvQU2t_UGmjw",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/iwxrOjGeRraRi4ohz8ky5Q/#state:6pzDdYP_ToKx5q8voyhr5Q",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/DnJU93jkRti5yzGjBDDjIQ/#state:oPqZTXLpQn-ryYQ51vyXDQ",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/Ei5N-sp7TwG-DZFdS9hyjw/#state:GmxHYJE6SU6k9eOcOKohVA",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/k3DAd-onR9-T0iSZ4jO0tw/#state:JaZ4xOCxRWGFveqYtN3FKA",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:hSyl22rjRROXQOMBdJRbnw",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/2JLYQtHYQZe42CTmEO2gdw/#state:2HOClWTSTGygoo4W71Clew",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/WTTD9JUbSsuDI4RPlcFp0w/#state:cpFEaHE3Ta-kSgtD_wPV2A",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:bCa9BlUOQB-BxymtvHlRvA",
                            "name": "Account number route"
                        },
                        {
                            "location": "/editor/states/DK7u0cfPTxiY6jEW9uNKPA/#state:JxyyN0SuTXCNBa34OeHxoA",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/zETuDg6gTTuSF9vIjOBk3w/#state:fqfwRHwwQa6YSFyGfYF2qg",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:bp-lLsVGQL-dwMSkru3lvA",
                            "name": "Answer question"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:RhZh_NyzRiOerN4ePQun7A",
                            "name": "Answer question"
                        }
                    ],
                    "resource": "https://nlu.feersum.io/nlu/v2/intent_classifiers/question-or-route/retrieve",
                    "retries": 0,
                    "retry": false,
                    "selected_nlu_model": "intent_classifier/question-or-route",
                    "simplify_result": false,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.faq == \"where_is_my_number_input\"",
                            "ref": "UcDVvY9gT3Sw0sJBcnkBSA",
                            "route": "f/s/UcDVvY9gT3Sw0sJBcnkBSA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.faq == \"explain_my_bill\"",
                            "ref": "kKV6dAv0TWS6GQaNeMw-MA",
                            "route": "f/s/kKV6dAv0TWS6GQaNeMw-MA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.faq_button_list = ['krn_happen_if_meter_not_recoded',\r\n'krn_how_will_meter_be_recoded',\r\n'krn_educating_prepaid_vendors',\r\n'krn_will_i_need_to_pay',\r\n'krn_will_eskom_need_home_access',\r\n'krn_elec_units_left_before_recoding',\r\n'krn_when_will_project_start',\r\n'krn_how_will_project_be_rolled_out',\r\n'krn_what_if_i_buy_units_online',\r\n'krn_lost_recode_token']",
                            "guard": "trans.faq == \"krn_faqs\"",
                            "ref": "E2TG11T6SoeiGLqlgCXLeQ",
                            "route": "f/s/E2TG11T6SoeiGLqlgCXLeQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "0j_gFjzqSdSB9CkHxhxpdg",
                            "route": "f/s/0j_gFjzqSdSB9CkHxhxpdg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "LQDXJXkuTsqJJd2sCIahGQ",
                    "name": "Check response",
                    "type": "decision",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.faq == \"about_krn\"",
                            "ref": "pbDSRevdTkGkRvnz_mFN8w",
                            "route": "f/s/pbDSRevdTkGkRvnz_mFN8w",
                            "statetype": "nlu_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "E2TG11T6SoeiGLqlgCXLeQ",
                            "route": "f/s/E2TG11T6SoeiGLqlgCXLeQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "hDQlmdbtTuOwsEa7204OzQ",
                    "name": "Decide FAQ placement",
                    "type": "decision",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.error_ = True",
                            "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                            "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "WdkSACXSTgOx7ntK8dU_Ew",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was an NLU error."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error asserting route",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "id": "UcDVvY9gT3Sw0sJBcnkBSA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                            "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "UcDVvY9gT3Sw0sJBcnkBSA",
                            "route": "f/s/UcDVvY9gT3Sw0sJBcnkBSA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "d_z70KbsQcG8V9FJ_KQWsQ",
                                            "style": "",
                                            "text": "{{trans.caller}}",
                                            "transition": {
                                                "code": "trans.done = True",
                                                "ref": "uw69D9MlQXO4lZCFr67zRw",
                                                "route": "f/s/uw69D9MlQXO4lZCFr67zRw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "pVQz4sU8QXqgm8P4NZRtoA",
                                            "style": "",
                                            "text": "\u2753 Let me ask again",
                                            "transition": {
                                                "ref": "iZf_eZ5CT3Cn4xDNwDdjBg",
                                                "route": "f/s/iZf_eZ5CT3Cn4xDNwDdjBg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "GaVT9B-gS12VGLW1B9QpKw",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                                                "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "image": {
                                        "file": "image/Where_is_my_account_number.png",
                                        "ref": "61",
                                        "thumbnail": "https://storage.googleapis.com/io-europe-west1-eskom-engine-qa-media/media/photologue/photos/cache/Where_is_my_account_number_chat_19.png",
                                        "title": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgwhere_is_my_account_number",
                                        "type": "photologue",
                                        "uid": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgwhere_is_my_account_number_61"
                                    },
                                    "image_aspect_ratio": "1.91",
                                    "style": "",
                                    "text": "{% for response in trans.faq_response %}\r\n{{response}}\r\n{% endfor %}\r\n{%  if perm.logged_in %}Alernatively, for this session your account number is {{perm.customer.account}}\r\n{% endif %}\r\nDoes that answer your question or would you like to see more options?\r\n\r\nIf you have a different question, you can also ask me again."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Explain account number response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "id": "kKV6dAv0TWS6GQaNeMw-MA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                            "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "kKV6dAv0TWS6GQaNeMw-MA",
                            "route": "f/s/kKV6dAv0TWS6GQaNeMw-MA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "YJnGA4NyRj-2ym6aKvSd3w",
                                            "style": "",
                                            "text": "{{trans.caller}}",
                                            "transition": {
                                                "code": "trans.done = True",
                                                "ref": "uw69D9MlQXO4lZCFr67zRw",
                                                "route": "f/s/uw69D9MlQXO4lZCFr67zRw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "40BzlEjbS4ex56MfAtmVJQ",
                                            "style": "",
                                            "text": "\u2753 Let me ask again",
                                            "transition": {
                                                "ref": "iZf_eZ5CT3Cn4xDNwDdjBg",
                                                "route": "f/s/iZf_eZ5CT3Cn4xDNwDdjBg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ZvMUtxYGTcW3nhqUb01bJg",
                                            "style": "",
                                            "text": "\ud83d\udd35 Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                                                "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "image": {
                                        "file": "image/Bill_explain.png",
                                        "ref": "62",
                                        "thumbnail": "https://storage.googleapis.com/io-europe-west1-eskom-engine-qa-media/media/photologue/photos/cache/Bill_explain_chat_19.png",
                                        "title": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgbill_explain",
                                        "type": "photologue",
                                        "uid": "qianu0v7tx-g2pbqe0tysadd12c93mssyttq9-6vubrgbill_explain_62"
                                    },
                                    "image_aspect_ratio": "1.91",
                                    "style": "",
                                    "text": "{% for response in trans.faq_response %}\r\n{{response}}\r\n{% endfor %}\r\nDoes that answer your question or would you like to see *more options*?\r\n\r\nIf you have a different question, you can also ask me *again*."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Explain bill response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "id": "iZf_eZ5CT3Cn4xDNwDdjBg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "uG0PIvnGR4uxRldrWnuUtA",
                            "route": "f/s/uG0PIvnGR4uxRldrWnuUtA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "uG0PIvnGR4uxRldrWnuUtA",
                            "route": "f/s/uG0PIvnGR4uxRldrWnuUtA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I\u2019d love to tell you everything you\u2019d like to know!\r\n\r\nPlease send me your question and I\u2019ll do my best to answer it. \ud83d\ude0a"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "FAQ entry",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "id": "0j_gFjzqSdSB9CkHxhxpdg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                            "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "0j_gFjzqSdSB9CkHxhxpdg",
                            "route": "f/s/0j_gFjzqSdSB9CkHxhxpdg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "rpzOfnYPTZyFPn5ebG8eTQ",
                                            "style": "",
                                            "text": "{{trans.caller}}",
                                            "transition": {
                                                "code": "trans.done = True",
                                                "ref": "uw69D9MlQXO4lZCFr67zRw",
                                                "route": "f/s/uw69D9MlQXO4lZCFr67zRw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "fJecdLqYQHujI1bCmj3k4w",
                                            "style": "",
                                            "text": "\u2753 Let me ask again",
                                            "transition": {
                                                "ref": "iZf_eZ5CT3Cn4xDNwDdjBg",
                                                "route": "f/s/iZf_eZ5CT3Cn4xDNwDdjBg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "trans.faq==\"meter_faulty_i_want_it_checked\" or trans.faq==\"faulty_meter\" or trans.faq==\"emergency\"",
                                            "id": "5yQEuDjzQb6bTRfs43_Pxw",
                                            "style": "",
                                            "text": "\u26a1\ufe0f Outages",
                                            "transition": {
                                                "code": "trans.utterance = \"Log a fault\"",
                                                "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                                                "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "trans.faq==\"krn_when_did_project_start\"",
                                            "id": "ARHUr5dhRZiBco8KqwPcCQ",
                                            "style": "",
                                            "text": "\ud83d\udd22 Recode my meter",
                                            "transition": {
                                                "code": "trans.utterance = \"Recode meter\"",
                                                "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                                                "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "trans.faq==\"meter_reading\"",
                                            "id": "1KRvpU0QTFyupmzwnsspbw",
                                            "style": "",
                                            "text": "\ud83d\udd22 Meter readings",
                                            "transition": {
                                                "code": "trans.utterance = \"Meter readings\"",
                                                "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                                                "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "essf-pzkQYmRjaUWvwNe8w",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                                                "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{% for response in trans.faq_response %}\r\n{{response}}\r\n{% endfor %}\r\nDoes that answer your question or would you like to see more options?\r\n\r\nIf you have a different question, you can also ask me again.",
                                    "title": "Select option"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "FAQ response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                            "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "uw69D9MlQXO4lZCFr67zRw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Alright, let me try and take you back where you were."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "FAQs: Close",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "code": "trans.faq_response = trans.faq_responses_dict.get(trans.faq)",
                    "decisions": [
                        {
                            "guard": "trans.faq_response",
                            "ref": "LQDXJXkuTsqJJd2sCIahGQ",
                            "route": "f/s/LQDXJXkuTsqJJd2sCIahGQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.error_ = True",
                            "ref": "uzNyY59eSkWVvbW6NSDM6w",
                            "route": "f/s/uzNyY59eSkWVvbW6NSDM6w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "E2TG11T6SoeiGLqlgCXLeQ",
                    "name": "Generate button list",
                    "type": "decision",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "code": "trans.route = trans.caller\r\ntrans.caller = \"\ud83d\udc4d back to \" + trans.caller if trans.caller else \"\ud83d\udc4d I\u2019ve got it\"\r\n",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.nlu_result == \"route\"",
                            "ref": "aTsPPm4FQZuCMlZpy1fVfA",
                            "route": "f/s/aTsPPm4FQZuCMlZpy1fVfA",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.response_count = 0",
                            "ref": "uG0PIvnGR4uxRldrWnuUtA",
                            "route": "f/s/uG0PIvnGR4uxRldrWnuUtA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Ed1IjGzXTl6UvCRRRJY4-g",
                    "name": "Is it a route?",
                    "type": "decision",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.utterance\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "3c17440f-6ade-46d3-816b-fff5bde117cb"
                        }
                    ],
                    "id": "pbDSRevdTkGkRvnz_mFN8w",
                    "input_variable": "trans.utterance",
                    "method": "POST",
                    "name": "KRN FAQ model",
                    "on_error": {
                        "transition": {
                            "code": "trans.response_count+=1",
                            "ref": "sr__yZTWSI2GU7H441PJAQ",
                            "route": "f/s/sr__yZTWSI2GU7H441PJAQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "if trans.faq_success!=[]:\r\n    trans.faq = trans.faq_success[0].get('label')\r\nelse:\r\n    trans.faq = None\r\n\r\ntrans.response_count += 1",
                            "ref": "E2TG11T6SoeiGLqlgCXLeQ",
                            "route": "f/s/E2TG11T6SoeiGLqlgCXLeQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_success"
                    },
                    "resource": "https://nlu.feersum.io/nlu/v2/faq_matchers/eskom-krn-faq-v-04/retrieve",
                    "retries": 2,
                    "retry": true,
                    "selected_nlu_model": "faq_matcher/eskom-krn-faq-v-04",
                    "simplify_result": false,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.utterance\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "3c17440f-6ade-46d3-816b-fff5bde117cb"
                        }
                    ],
                    "id": "JE7XaHahQXKzFOvQOgokvQ",
                    "input_variable": "trans.utterance",
                    "method": "POST",
                    "name": "Main FAQs model",
                    "on_error": {
                        "transition": {
                            "code": "trans.response_count += 1",
                            "ref": "sr__yZTWSI2GU7H441PJAQ",
                            "route": "f/s/sr__yZTWSI2GU7H441PJAQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "if trans.faq_success!=[]:\r\n    trans.faq = trans.faq_success[0].get('label')\r\nelse:\r\n    trans.faq = None\r\n\r\ntrans.response_count += 1",
                            "ref": "hDQlmdbtTuOwsEa7204OzQ",
                            "route": "f/s/hDQlmdbtTuOwsEa7204OzQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.faq_success"
                    },
                    "resource": "https://nlu.feersum.io/nlu/v2/faq_matchers/eskom-faq-v-04/retrieve",
                    "retries": 2,
                    "retry": true,
                    "selected_nlu_model": "faq_matcher/eskom-faq-v-04",
                    "simplify_result": false,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "id": "p3BtTjHnThyYI4zl0Gpj6g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "JE7XaHahQXKzFOvQOgokvQ",
                            "route": "f/s/JE7XaHahQXKzFOvQOgokvQ",
                            "statetype": "nlu_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "p3BtTjHnThyYI4zl0Gpj6g",
                            "route": "f/s/p3BtTjHnThyYI4zl0Gpj6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Hmmm, I couldn\u2019t quite pick up exactly what it is you\u2019re asking... can you please ask your question again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No response",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.response_count <= 1",
                            "ref": "p3BtTjHnThyYI4zl0Gpj6g",
                            "route": "f/s/p3BtTjHnThyYI4zl0Gpj6g",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.error_ = True",
                            "ref": "uzNyY59eSkWVvbW6NSDM6w",
                            "route": "f/s/uzNyY59eSkWVvbW6NSDM6w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "sr__yZTWSI2GU7H441PJAQ",
                    "name": "No response count",
                    "type": "decision",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "code": "del trans.faq_input\r\ndel trans.response_count\r\ndel trans.faq\r\ndel trans.clean_faq_button_list\r\ndel trans.display_faq_str\r\ndel trans.displayed_faq\r\ndel trans.displayed_faq_str\r\ndel trans.faq_button_list\r\ndel trans.faq_button_summary\r\ndel trans.faq_button_summary_list\r\ndel trans.faq_button_summary_questions\r\ndel trans.faq_index\r\ndel trans.faq_response\r\ndel trans.faq_responses_dict\r\ndel trans.faq_success\r\ntrans.navigation = {}\r\ndel trans.nlu_result\r\ndel trans.number_faqs_found",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "aTsPPm4FQZuCMlZpy1fVfA",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                },
                {
                    "code": "meter_number = \"Your meter number is either on your meter or on the card that was provided with your meter. For this session, it  is: \" + perm.customer.prepaid_meter if perm.customer.prepaid else \"Your meter number is either on your meter or on the card that was provided with your meter.\"\r\n\r\ntrans.faq_responses_dict = {\r\n  \"explain_account_number_outage\": [\r\n    \"To identify outages at your location we need to have your Eskom account number to find your location.\"\r\n  ],\r\n  \"will_i_save_with_prepaid_meter\": [\r\n    \"A prepaid meter is not necessarily cheaper compared to a conventional one. Eskom has has many different tariffs for various consumers depending on your electricity consumption. If you use less than 524kWh of electricity per month then a prepaid will be cheaper than having a conventional meter.\"\r\n  ],\r\n  \"see_date_meter_was_read\": [\r\n    \"You can easily check this on your Eskom bill.\"\r\n  ],\r\n  \"when_are_meter_readings_done\": [\r\n    \"As a conventional Eskom customer, your meter will be read sometime prior to your billing date every 3 months. This date also appears on your Eskom bill.\"\r\n  ],\r\n  \"meter_reading\": [\r\n    \"If you want, you can tap below to let me help you submit your meter readings. You can also use the My Eskom App or https://csonline.eskom.co.za.\"\r\n  ],\r\n  \"nobody_has_read_my_meter\": [\r\n    \"If Eskom hasn't read your meter, an estimate is done. If you feel this estimate is incorrect, you may give us your current reading so we can check it against our records.\"\r\n  ],\r\n  \"cant_make_payment\": [\r\n    \"Please can you call Eskom on 0860037566 and we can make payment arrangements.\"\r\n  ],\r\n  \"faulty_meter\": [\r\n    \"You can tap below to report your meter issue so we can look at your account for specific trends. If your account looks fine, you can pay Eskom a fee to test the meter. \\nIf your meter is faulty, Eskom will replace it and credit you for the test fee that was charged.\"\r\n  ],\r\n  \"card_not_registered\": [\r\n    \"I am sorry to hear this. Please can you complete the unallocated form in order to be registered on the system.\"\r\n  ],\r\n  \"meter_blocked_from_purchasing\": [\r\n    \"I am sorry to hear this. Please can you complete the unallocated form in order so Eskom can make sure you are registered on the system correctly.\"\r\n  ],\r\n  \"get_a_used_token\": [\r\n    \"I am sorry for your frustration. Eskom uses this for identification purposes.\"\r\n  ],\r\n  \"power_outage_notice\": [\r\n    \"I am sorry for your frustration. Eskom does give notices on planned outages. I might need to update your details to ensure you are notified.\"\r\n  ],\r\n  \"illegal_connections_to_pole\": [\r\n    \"I am sorry to hear this. Please can you report this on the MyEskom App or call Eskom on 0860037566 to report this and we can do something about it.\"\r\n  ],\r\n  \"illegal_connections_reported\": [\r\n    \"Eskom always takes illegal connections very seriously. The information given about illegal connections is treated as confidential to protect you, our customer. If you have further information on illegal customers, please report this on the MyEskom App or contact Eskom on 0860037566 to report this and we can do something about it.\"\r\n  ],\r\n  \"will_eskom_pay_for_loss_to_elec_damages\": [\r\n    \"I am sorry to hear about the damage you have suffered. Eskom has a process that needs to be followed when submitting a claim. It is important to note that only direct damage from Eskom negligence is compensated. Not consequential damage. All claims submitted via this process will be evaluated and if it is found that there was Eskom negligence then the direct damages will be fairly assessed and compensated for.\"\r\n  ],\r\n  \"where_is_my_number_input\": [\r\n    \"Your account number and meter number are highlighted in the image below.\"\r\n  ],\r\n  \"where_is_my_meter_number\": [\r\n    meter_number\r\n  ],\r\n  \"what_language_is_the_bill_in\": [\r\n    \"Small Power User (SPU) bills are available in your choice of 11 South African official languages on request. Due to the complexity of the bill, Large Power User (LPU) bills are only available in English.\"\r\n  ],\r\n  \"explain\": [\r\n    \"Please see the below image for an explaination of your bill.\"\r\n  ],\r\n  \"how_much_is_my_account\": [\r\n    \"The total amount owing is shown on the summary page in the TOTAL AMOUNT DUE block.\"\r\n  ],\r\n  \"why_is_my_account_so_high\": [\r\n    \"(1) There is an additional charges on your account like connection fees.\",\r\n    \"(2) The actual account and the previous two estimates may have been too low, that is this month's account is possibly raising charges that should have been raised during the last two months but were not.\",\r\n    \"(3) In winter usage goes up (the use of heaters)\",\r\n    \"(4) If your last payment was made too late to be included on your account this will result in a higher balance outstanding.\"\r\n],\r\n  \"why_do_i_have_arrears_on_my_account_but_i_have_paid\": [\r\n    \"There is a delay between payments made directly to the bank and when we are informed of them. Try to make a payment two days before the due date, or use our debit order facility.\"\r\n  ],\r\n  \"i_did_not_get_an_account\": [\r\n    \"If you did not recieve a bill, please contact our Contact Centre to update you information.\"\r\n  ],\r\n  \"eskom_payment_options\": [\r\n    \"'You can pay your account by: Debit order, EFT, EasyPay, Post Offices, Telephonic Credit Card payment and via www.easypay.co.za.'\"\r\n  ],\r\n  \"how_much_is_the_disconnection_fee\": [\r\n    \"We charge a disconnection fee of R 535 in urban areas (R700 after hours) and R960 in rural areas (R1250.00 after hours).\"\r\n  ],\r\n  \"meter_faulty_i_want_it_checked\": [\r\n    \"To have your meter checked, tap below to log a meter fault. Please note there is a fee applicable to this service.\"\r\n  ],\r\n  \"meter_spinning_very_fast\": [\r\n    \"A fast spinning meter means that a lot of electricity is being used. Try to switch off as many of your appliances as possible and see if the wheel stops spinning. If not, you can have your own electrician check the meter. You can also log a fault for Eskom to check your meter after you have paid the applicable fee.\"\r\n  ],\r\n  \"why_is_my_meter_box_locked\": [\r\n    \"Meter boxes are locked to prevent tampering and damage to meet safety regulations.\"\r\n  ],\r\n  \"cannot_reclaim_prepaid_card\": [\r\n    \"Compare tariff index and supply group code of the new card to an old one that has worked before. If any of these differ, a key change token needs to be issued.\"\r\n  ],\r\n  \"i_want_change_to_a_prepaid_meter\": [\r\n    \"An area needs to be designated to be a prepaid area before conversions from conventional to prepaid can be considered. If area is designated prepaid, then a customer can call the Contact Centre to apply for a conversion.\"\r\n  ],\r\n  \"what_is_a_kwh\": [\r\n    \"A kWh is what is used to measure electricity. A kWh is the electricity used by, for example, a 100W bulb burning for 10 hours uses 1 kWh. It is the unit used to measure and charge for electricity consumed on your electricity bill.\"\r\n  ],\r\n  \"how_much_is_one_unit\": [\r\n    \"A unit is the same as a kWh. The meter reading is in units.\"\r\n  ],\r\n  \"the_difference_between_fault_and_loadshedding\": [\r\n    \"We get this a lot. When the power goes off, it is not possible to know whether it is a fault, emergency load shedding, or scheduled load shedding, except to refer to the published schedules\"\r\n  ],\r\n  \"contact_centre_times\": [\r\n    \"You can contact the Eskom call centre on 08600eskom (0860037566). Non-technical (ie. account enquiry) enquiries can be done from Monday to Friday 08:00 to 16:00. For technical enquiry (ie. no electricity) is available 24/7.\"\r\n  ],\r\n  \"why_I_cannot_verify_your_account\": [\r\n    \"I cannot verify your account because it seems like your data is incorrect on my system. Please can you contact the Eskom call centre to update your information.\"\r\n  ],\r\n  \"units_disappearing\": [\r\n    \"I'm sorry it looks like units are disappearing on your meter but units do not disappear, get removed, or deleted during load shedding or a power failure. After your power supply returns, appliances such as geysers, refrigerators and others will need to either re-heat or cool down after being off, which can lead to quicker than normal usage of your units.\"\r\n  ],\r\n  \"restoration_time\": [\r\n    \"The restoration time varies depending on the complexity of the fault and the number of faults logged in your area. Please feel free to periodically check in with me to see the progress of your fault.\"\r\n  ],\r\n  \"bill_not_correct\": [\r\n    \"Please register on CS Online https://csonline.eskom.co.za where you can see a 12 month history of your bills and log querries there to resolve any bill related issue.\"\r\n  ],\r\n  \"explain_my_bill\": [\r\n    \"Please see the below image for an explaination of your bill.\"],\r\n  \"emergency\": [\r\n    \"Sounds like an emergency to me!\ud83c\udd98 Please tap below to report it so Eskom can send someone to sort it out asap.\"\r\n  ],\r\n  \"what_is_krn\": [\r\n    \"The Key Revision Number (KRN) or the Token Identifier (TID) Rollover Programme is a prepaid electricity metering industry undertaking to ensure that all prepaid meters that will roll over to a new Token Identifier Code on 24 November 2024 are correctly recoded.\"\r\n  ],\r\n  \"krn_faqs\": [\r\n    \"Please select one of the frequently asked questions (FAQs) below\",\r\n    \"What will happen if I don't recode my meter\",\r\n    \"How will my meter be recoded?\",\r\n    \"Will Eskom be educating the prepaid electricity vendors?\",\r\n    \"Will I need to pay for recoding?\",\r\n    \"Will Eskom and its contractors need access to my home?\",\r\n    \"What about the electricity units left before recoding?\",\r\n    \"When will this project start?\",\r\n    \"How will the project be rolled out?\",\r\n    \"What if I buy prepaid electricity online?\",\r\n    \"What if I lost my recode token?\"\r\n  ],\r\n  \"krn_happen_if_meter_not_recoded\": [\r\n    \"If you don't recode, when you buy electricity after November 2024, your meter will NOT load your purchased tokens. Every meter in South Africa HAS to be recoded.\"\r\n  ],\r\n  \"krn_why_its_necessary\": [\r\n    \"If the meter codes are not updated, the prepaid tokens bought will not work on those meters, leaving you without electricity.The meter coding project is being done for technical reasons to ensure that all Eskom prepaid meters continue working. It is like updating your cellphone \",\r\n    \"you can use most cellphones for a long time, but sometimes they stop working correctly so you need to upgrade your phone's software.\"\r\n  ],\r\n  \"krn_project_only_updating_meter_codes\": [\r\n    \"Yes, this project is only to re-code prepaid meters, to ensure they remain working after 24 November 2024. All STS prepayment meters will be affected by the Token Identifier (TID) rollover on 24 November 2024. Any tokens generated after this date and utilising the 24-bit TID will be rejected by the meters as being old tokens as the TID value embedded in the token will have reset back to 0.\"\r\n  ],\r\n  \"krn_how_many_meters\": [\r\n    \"There are about 6.6 million prepaid meters in the Eskom supply areas, across South Africa.\"\r\n  ],\r\n  \"krn_is_it_only_eskom\": [\r\n    \"The recoding of prepaid meters is not an Eskom-only issue \",\r\n    \"the recoding of prepaid meters needs to be done for all Eskom prepayment supply customers, also those of the South African municipalities as well as customers using STS-type prepaid meters in various other countries. The software of all prepaid meters in South Africa must be recoded, no matter who supplies your electricity. Municipalities and prepaid electricity vendors are running similar projects.\"\r\n  ],\r\n  \"krn_how_will_meter_be_recoded\": [\r\n    \"Eskom will start in a designated area and inform the customers in that area when the project will start and how it will work. This is a customer Do It Yourself (DIY) process to re-code your prepaid meter. Eskom will provide you with easy, step-by-step instructions that will enable you to recode your meter yourself when your designated area is ready for recoding.\"\r\n  ],\r\n  \"krn_educating_prepaid_vendors\": [\r\n    \"Eskom will brief its approved vending agents so that their systems are enabled to print instructions for you to do the recoding yourself. When the recoding starts in your area you will get two key change tokens with your normal credit token. You will be guided to punch in the numbers of the key change tokens into your meter in a specific order, to recode your meter. You will then be able to load your meter with credit with your credit token.\"\r\n  ],\r\n  \"krn_will_i_need_to_pay\": [\r\n    \"There is NO cost to recoding your meter. You will NOT be required to pay for this re-coding change. Should anyone ask you to pay for this service, immediately report that to the SAPS or Eskom.\"\r\n  ],\r\n  \"krn_will_eskom_need_home_access\": [\r\n    \"No, there are no contractors or installers in this rollout. The recoding is done by the customers themselves. No Eskom person will be visiting you to assist you with this, except for normal reported technical queries. Do not let anyone into your home posing as an Eskom person wanting to recode your meter.\"\r\n  ],\r\n  \"krn_elec_units_left_before_recoding\": [\r\n    \"Credit in the meter at the time of recoding will be unaffected, even if the recoding is done.\"\r\n  ],\r\n  \"krn_how_will_project_be_rolled_out\": [\r\n    \"Eskom will alert customers in the rollout areas two weeks before the rollout commences with messaging in local media and community communication channels. Following that, the prepaid vendors will issue the two 20-digit key change tokens together with your normal electricity tokens. All meters must be re-coded in South Africa to ensure that all customers can load electricity. After November 2024 only re-coded meters will accept the prepaid electricity top-up tokens.\"\r\n  ],\r\n  \"krn_when_will_project_start\": [\r\n    \"Eskom started the project in July 2023, and all meters were expected to be re-coded by mid-2024. If you haven't recoded your meter, I can help you with this if you tap below.\"\r\n  ],\r\n  \"krn_what_if_i_buy_units_online\": [\r\n    \"The banks and other online services will also be able to issue the recode change tokens.Eskom advises customers to buy from their local prepaid vending agents or from online vending platforms to get the recode tokens.\"\r\n  ],\r\n  \"krn_lost_recode_token\": [\r\n    \"You will be able to get another set of 2 x 20 digit tokens from your vendor, should you have lost the ones issued to you.\"\r\n  ],\r\n  \"rlm_what_is_rlm\": [\r\n    \"Load limiting is the deliberate act of limiting the maximum output power of the customer's meter for a predefined period for the purpose of managing demand. The meter will automatically reset back to its original level at the end of said period; no human intervention is required. To activate load limiting, a load-limiting schedule is sent to the customer's meter at the beginning of the pilot and is set to expire at the end of a predetermined period. During that period, heavy energy consumption appliances such as geysers, pool pumps, underfloor heating, and similar appliances are switched tomer's power supply size is normally at 60 Amps or 80 Amps for single phase, and when the network has been lowered, it means that the supply will be temporarily lowered to 10 Amps during the load-limiting period as defined above.\"\r\n  ],\r\n  \"rlm_why_is_eskom_load_limiting\": [\r\n    \"Eskom recognises that supply constraints and related load shedding will be with us for the foreseeable future. This is detrimental to the economy and to ordinary citizens at large. Therefore, in an effort to enable customers to continue enjoying using electricity, albeit at a reduced level, Eskom is implementing load limiting as part of Demand Side Management.\"\r\n  ]\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "ref": "JE7XaHahQXKzFOvQOgokvQ",
                            "route": "f/s/JE7XaHahQXKzFOvQOgokvQ",
                            "statetype": "nlu_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "uG0PIvnGR4uxRldrWnuUtA",
                    "name": "Store relevant data",
                    "type": "decision",
                    "workflow_id": "vVHPXRDBT16rn44A5A_0VA",
                    "workflow_name": "Reusable: FAQs"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "f9rthly_TZGn41w1wXqhqA",
            "id": "6kpRau76R0WO_Srb1P7Muw",
            "name": "Reusable: Fault Questions",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "X4cBhj86Qi-boE7FoEapjw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.answer"
                            }
                        ],
                        "transition": {
                            "code": "answer = \"What can you see burning? - \" + trans.answer\r\ntrans.description.append(answer)\r\ndel trans.utterance",
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "X4cBhj86Qi-boE7FoEapjw",
                            "route": "f/s/X4cBhj86Qi-boE7FoEapjw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "What can you see burning?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Burning",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "rDdOZqqzTYW1xbp8iNuwCQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "rDdOZqqzTYW1xbp8iNuwCQ",
                            "route": "f/s/rDdOZqqzTYW1xbp8iNuwCQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "p41M1flnQjywIaFEENDXWA",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Are there any signs of burnt jumpers or links? - No\")",
                                                "ref": "5gFSogKJTtO2KMs7OhUguA",
                                                "route": "f/s/5gFSogKJTtO2KMs7OhUguA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ANMl46lFS1WtghApFR1C-A",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Are there any signs of burnt jumpers or links? - Yes\")",
                                                "ref": "5gFSogKJTtO2KMs7OhUguA",
                                                "route": "f/s/5gFSogKJTtO2KMs7OhUguA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Are there any signs of burnt jumpers or links?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Burnt cables",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "code": "trans.attachment = trans.__previous_message_meta__.get(\"whatsapp\", {})",
                    "decisions": [
                        {
                            "code": "trans.url = trans.attachment[\"image\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.image",
                            "ref": "pnd5Tm7tSJyLt7D6wgwVyg",
                            "route": "f/s/pnd5Tm7tSJyLt7D6wgwVyg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "y3Z0ZW4QSniV6nalKKhBrg",
                            "route": "f/s/y3Z0ZW4QSniV6nalKKhBrg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "FFDlujAWTYWe4nul86pk8w",
                    "name": "Check photo",
                    "type": "decision",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "Io8bpYqRRKuorCm7Nu9BVg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Io8bpYqRRKuorCm7Nu9BVg",
                            "route": "f/s/Io8bpYqRRKuorCm7Nu9BVg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "7HXAVtMzSaetEwkGCCmRsw",
                                            "style": "",
                                            "text": "\ud83d\udca1 It\u2019s on!",
                                            "transition": {
                                                "code": "trans.description.append(\"Make sure that all your appliances have been unplugged and then switch the circuit breaker back on. Is the electricity on now? - Yes\")",
                                                "ref": "lrofkfvWTKGHs7i_DnQ5xg",
                                                "route": "f/s/lrofkfvWTKGHs7i_DnQ5xg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "yrPV4GznRReN82xW-AlzGg",
                                            "style": "",
                                            "text": "\ud83d\udd6f\ufe0f Still off",
                                            "transition": {
                                                "code": "trans.description.append(\"Make sure that all your appliances have been unplugged and then switch the circuit breaker back on. Is the electricity on now? - No\")",
                                                "ref": "0meRxG5iSaq2H0fG5VhaaQ",
                                                "route": "f/s/0meRxG5iSaq2H0fG5VhaaQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "qhA77J-2S-ungWMVG_FM9A",
                                            "style": "",
                                            "text": "\ud83d\udd6f\ufe0f Keeps tripping",
                                            "transition": {
                                                "code": "trans.description.append(\"Make sure that all your appliances have been unplugged and then switch the circuit breaker back on. Is the electricity on now? - Keeps tripping\")",
                                                "ref": "NgqhYE8SRU28w0rLy0uMbA",
                                                "route": "f/s/NgqhYE8SRU28w0rLy0uMbA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Sometimes an appliance can cause issues...\r\n\r\nMake sure that all your appliances have been unplugged and then switch the circuit breaker back on.\r\n\r\nIs the electricity on now?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Circuit breaker",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "CK_fssaXSr6uuu42OcaZIg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Plug the keypad into the electrical plug closest to the Meter and ensure that all your switches are in the on position. Make sure the batteries are not old."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "ConFail",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "lVr-ZXwnSqK2g9cqzgjRMA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Confused by the question {{trans.question}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confused",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "FMWGmbu4Qd-a5ZNdI09WNg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "This error indicates that the keypad is busy connecting to the meter. Please wait up to 30 minutes for the connection to complete."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "ConnEct",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "FeHdul2CTwWuyxk4L9FNOg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "FeHdul2CTwWuyxk4L9FNOg",
                            "route": "f/s/FeHdul2CTwWuyxk4L9FNOg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "R48BgwJ7Toeb-rCS_rHT7Q",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "-cqkz6qIQX6NKnd7cWtrKA",
                                                "route": "f/s/-cqkz6qIQX6NKnd7cWtrKA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "6TRgwyxHSn2jWybllzRFcQ",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "wcdfYtawSPm8jjOWVnijXA",
                                                "route": "f/s/wcdfYtawSPm8jjOWVnijXA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Are there credits on your meter?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Credits",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "pfcaO5iJSxSlgKXxipyVsA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "pfcaO5iJSxSlgKXxipyVsA",
                            "route": "f/s/pfcaO5iJSxSlgKXxipyVsA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "a_ii4XveSFuF-7Udy70fvg",
                                            "style": "",
                                            "text": "\ud83d\udca1 It\u2019s on!",
                                            "transition": {
                                                "code": "trans.description.append(\"Please push your circuit breaker all the way down, and then up again. Is the electricity on now? - Yes\")",
                                                "ref": "lrofkfvWTKGHs7i_DnQ5xg",
                                                "route": "f/s/lrofkfvWTKGHs7i_DnQ5xg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "qXZzQyaGSJOdppg-_u6-Xw",
                                            "style": "",
                                            "text": "\ud83d\udd6f\ufe0f Still off",
                                            "transition": {
                                                "code": "trans.description.append(\"Please push your circuit breaker all the way down, and then up again. Is the electricity on now? - No\")",
                                                "ref": "Io8bpYqRRKuorCm7Nu9BVg",
                                                "route": "f/s/Io8bpYqRRKuorCm7Nu9BVg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "4y0Dn7OCTZ2wNWIxYyu1sA",
                                            "style": "",
                                            "text": "\ud83d\udd6f\ufe0f Keeps tripping",
                                            "transition": {
                                                "code": "trans.description.append(\"Please push your circuit breaker all the way down, and then up again. Is the electricity on now? - Keeps tripping\")",
                                                "ref": "NgqhYE8SRU28w0rLy0uMbA",
                                                "route": "f/s/NgqhYE8SRU28w0rLy0uMbA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK, let's try this...\r\n\r\nPlease push your circuit breaker all the way down, and then up again.\r\n\r\nIs the electricity on now?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Debug trip",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "code": "if trans.utterance:\r\n    trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "V6jF020qSXmHo8CMJ-iamw",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "x59MkWhPR6SxUMaJwM_psA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "The error indicates that your meter has not been initialised. Please enter the token 1275 4194 1448 6450 5970 to activate the meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "E01",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "Ubw_ajfbSHWPgfRCKBRAFQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Ubw_ajfbSHWPgfRCKBRAFQ",
                            "route": "f/s/Ubw_ajfbSHWPgfRCKBRAFQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "nAeFJYpgTIGY4Qe6wRGz5A",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Has the mains switch, earth leakage or any other switch on the board tripped? - Yes\")",
                                                "ref": "pfcaO5iJSxSlgKXxipyVsA",
                                                "route": "f/s/pfcaO5iJSxSlgKXxipyVsA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "TtV90IacR-KAOP-WZeAaOQ",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Has the mains switch, earth leakage or any other switch on the board tripped? - No\")",
                                                "ref": "0meRxG5iSaq2H0fG5VhaaQ",
                                                "route": "f/s/0meRxG5iSaq2H0fG5VhaaQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Next, I need you to check the \u201cmains\u201d box in your home...\r\n\r\nHas the mains switch, earth leakage or any other switch on the board tripped?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Earth leakage",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "-cqkz6qIQX6NKnd7cWtrKA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "-cqkz6qIQX6NKnd7cWtrKA",
                            "route": "f/s/-cqkz6qIQX6NKnd7cWtrKA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "3IKKmgHHT1yh268FYd0NmQ",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "pJnXBGq6ShKz7dtXEu6ozA",
                                                "route": "f/s/pJnXBGq6ShKz7dtXEu6ozA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Uj6Rp4QJSxyeCqLgA-VD7w",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Is your meter displaying an error code, or does the meter not accept the token?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error code",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "y3Z0ZW4QSniV6nalKKhBrg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "y3Z0ZW4QSniV6nalKKhBrg",
                            "route": "f/s/y3Z0ZW4QSniV6nalKKhBrg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "W02lAemFQ_y_n9d0Gv5wQQ",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "WzPkCgFuQwOgzq-P8vnYZg",
                                                "route": "f/s/WzPkCgFuQwOgzq-P8vnYZg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "GIwmos7SRaqi7LWk6uOhMw",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error uploading the photo to Whatsapp. Would you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure getting image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "WcjYKiGTQ6qvrlTk3wr9lg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.answer"
                            }
                        ],
                        "transition": {
                            "code": "meter = \"You indicated that your meter is faulty. Can you please give me a little more details about the problem you are having? - \" + trans.answer\r\ntrans.description.append(meter)\r\n\r\ndel trans.utterance",
                            "ref": "rDdOZqqzTYW1xbp8iNuwCQ",
                            "route": "f/s/rDdOZqqzTYW1xbp8iNuwCQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WcjYKiGTQ6qvrlTk3wr9lg",
                            "route": "f/s/WcjYKiGTQ6qvrlTk3wr9lg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "You indicated that your meter is faulty.\r\n\r\nCan you please give me a little more details about the problem you are having?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Faulty meter",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "SNjuxzJmSxKDXWGLutYEqw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.answer"
                            }
                        ],
                        "transition": {
                            "code": "del trans.utterance",
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "SNjuxzJmSxKDXWGLutYEqw",
                            "route": "f/s/SNjuxzJmSxKDXWGLutYEqw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Where\u00a0is\u00a0the\u00a0fire\u00a0or\u00a0smoke\u00a0coming\u00a0from?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Fire",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "VuqeHepGS3WSWZScKNQ0lQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "VuqeHepGS3WSWZScKNQ0lQ",
                            "route": "f/s/VuqeHepGS3WSWZScKNQ0lQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "xb-8iV93Q3SVclPWIG_RPw",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Is\u00a0the\u00a0fire\u00a0on\u00a0the\u00a0ground? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Er151XJTRzyRy9dHHQtBRA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Is\u00a0the\u00a0fire\u00a0on\u00a0the\u00a0ground? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Is the fire on the ground?\r\n\r\n_In other words, is it touching the floor/grass/gravel or other surface_"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Fire location",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "YnpfL-sHRt-CSiD0DlDQ2A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "YnpfL-sHRt-CSiD0DlDQ2A",
                            "route": "f/s/YnpfL-sHRt-CSiD0DlDQ2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "fYETAID-T52RrN6OzSH5Ig",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Are\u00a0your\u00a0neighbours\u00a0also\u00a0affected? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "JgqLsnGrR4WuUwC2GJKzxg",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "code": "trans.description.append(\"Are\u00a0your\u00a0neighbours\u00a0also\u00a0affected? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Are\u00a0your\u00a0neighbours\u00a0also\u00a0affected?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "High voltage",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "DQvQHCAKRV2eO9X4I4Mufw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "DQvQHCAKRV2eO9X4I4Mufw",
                            "route": "f/s/DQvQHCAKRV2eO9X4I4Mufw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "QKThFWtQSS2vCq0ujJsrXQ",
                                            "style": "",
                                            "text": "Tripped",
                                            "transition": {
                                                "code": "trans.description.append(\"Has your electricity supply tripped or is it still on? - Tripped\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "6mzKApmtQCGQWy3N6Rhb5Q",
                                            "style": "",
                                            "text": "Still on",
                                            "transition": {
                                                "code": "trans.description.append(\"Has your electricity supply tripped or is it still on? - Still on\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Has your electricity supply tripped or is it still on?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "High voltage supply",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "pnd5Tm7tSJyLt7D6wgwVyg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Image uploaded to {{trans.url}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Image uploaded",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "uvNqPXDySrGuXZsl8xr01Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "uvNqPXDySrGuXZsl8xr01Q",
                            "route": "f/s/uvNqPXDySrGuXZsl8xr01Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "lf8j8HoqTPO1UMqyI6xwpw",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Are\u00a0there\u00a0any\u00a0signs\u00a0of\u00a0burnt\u00a0jumpers\u00a0or\u00a0links? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "BOZMU9KGRCaL5gGjsanxaw",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "code": "trans.description.append(\"Are\u00a0there\u00a0any\u00a0signs\u00a0of\u00a0burnt\u00a0jumpers\u00a0or\u00a0links? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Are\u00a0there\u00a0any\u00a0signs\u00a0of\u00a0burnt\u00a0jumpers\u00a0or\u00a0links?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Jumper",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "KNQ3dSgTRk2yQUIHCONAdQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "KNQ3dSgTRk2yQUIHCONAdQ",
                            "route": "f/s/KNQ3dSgTRk2yQUIHCONAdQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "IkvUx2FoRaKNbmOvj7RCqg",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Did you notice any lightning around the time it started? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "V3T8E09PTBuWjIoc-CY6iw",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Did you notice any lightning around the time it started? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Did you notice any lightning around the time it started? \ud83c\udf29\ufe0f"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Lightning",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "ScREEqlyQuyThFyeA4pZcA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ScREEqlyQuyThFyeA4pZcA",
                            "route": "f/s/ScREEqlyQuyThFyeA4pZcA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "isnzRGaxRe-RAkoXRv4PRg",
                                            "style": "",
                                            "text": "\u26ab\ufe0f Black",
                                            "transition": {
                                                "code": "trans.description.append(\"What\u00a0is\u00a0the\u00a0colour\u00a0of\u00a0the\u00a0line? - Black\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "dsi3rG4qRdeZ2qEkeZf7aQ",
                                            "style": "",
                                            "text": "\u26aa\ufe0f Silver",
                                            "transition": {
                                                "code": "trans.description.append(\"What\u00a0is\u00a0the\u00a0colour\u00a0of\u00a0the\u00a0line? - Silver\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "What\u00a0is\u00a0the\u00a0colour\u00a0of\u00a0the\u00a0line?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Line color",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "_eyOeoNhTNuNnD7N--30qQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "_eyOeoNhTNuNnD7N--30qQ",
                            "route": "f/s/_eyOeoNhTNuNnD7N--30qQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "sF6lw3DzTCeBonFgOTvgeQ",
                                            "style": "",
                                            "text": "\u261d\ufe0f\ufe0f  Single",
                                            "transition": {
                                                "code": "trans.description.append(\"Is it a single wire or multiple wires, twisted together? - Single\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "t83d4Y9lSaOSX5zTtUsGtw",
                                            "style": "",
                                            "text": "\u270c\ufe0f Multiple",
                                            "transition": {
                                                "code": "trans.description.append(\"Is it a single wire or multiple wires, twisted together? - Multiple\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Is it a single wire or multiple wires, twisted together?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Lines bundle",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "LncXQXhAQ_uiiHVUbiF4GA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "LncXQXhAQ_uiiHVUbiF4GA",
                            "route": "f/s/LncXQXhAQ_uiiHVUbiF4GA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "IzqurdJIT3ar4m4G7CHbQA",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Are any of the lines that are hanging loose close to or on the ground? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "5QGh74ACSN-A5X28etYgaA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Are any of the lines that are hanging loose close to or on the ground? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Are any of the lines that are hanging loose close to or on the ground?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Lines hanging",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "bWtg5kDiRB-9YiHPOQO9yg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "bWtg5kDiRB-9YiHPOQO9yg",
                            "route": "f/s/bWtg5kDiRB-9YiHPOQO9yg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "17-bRDAzQ4W7DHGCMx7oyA",
                                            "style": "",
                                            "text": "\ud83c\udfd7\ufe0f Steel",
                                            "transition": {
                                                "code": "trans.description.append(\"Are the poles made from steel or wood? - Steel\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ACQR56d2TEuDjc6nbHDwZg",
                                            "style": "",
                                            "text": "\ud83e\udeb5 Wood",
                                            "transition": {
                                                "code": "trans.description.append(\"Are the poles made from steel or wood? - Wood\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Are the poles made from steel or wood?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Line structure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "NgqhYE8SRU28w0rLy0uMbA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "NgqhYE8SRU28w0rLy0uMbA",
                            "route": "f/s/NgqhYE8SRU28w0rLy0uMbA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "wHrLGGGHRh2XEh_k_QZBQA",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "VyYsKQzcRAKRZv74KmfsRw",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "e8UuORxLTlyZi212Qkdo4A",
                                                "route": "f/s/e8UuORxLTlyZi212Qkdo4A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Oh no...\r\n\r\nThen I\u2019m afraid the issue isn\u2019t on our side, but on yours. This means Eskom\u2019s technicians can\u2019t help. \ud83d\ude15\r\n\r\nAn electrician should be able to assist, so I strongly suggest that you contact one.\r\n\r\nDo you need any further help?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Local fault",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "0meRxG5iSaq2H0fG5VhaaQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "0meRxG5iSaq2H0fG5VhaaQ",
                            "route": "f/s/0meRxG5iSaq2H0fG5VhaaQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "RFGw93UzTWuQLLpjYH41KQ",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Do your neighbours have power? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "sg_Ay_F-RJmVe2wKgou2Wg",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Do your neighbours have power? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Z59JqYlZSxek6648uo0Z3w",
                                            "style": "",
                                            "text": "\ud83e\udd37 I\u2019m not sure",
                                            "transition": {
                                                "code": "trans.description.append(\"Do your neighbours have power? - Unsure\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Do your neighbours currently have power?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Neighbours?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "wcdfYtawSPm8jjOWVnijXA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please top up the units by purchasing a token.\r\n\r\nThank you for using Eskom Distribution."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No credits",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "UN0rYrLPS9mbi5w5alpmrg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "UN0rYrLPS9mbi5w5alpmrg",
                            "route": "f/s/UN0rYrLPS9mbi5w5alpmrg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Pnsp-PF8ShKwoOrd7y0OmQ",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Can you hear any noise or sounds coming from it? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "GM5l1PBOTYCQPJ1LRz9eZw",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Can you hear any noise or sounds coming from it? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Can you hear any noise or sounds coming from it?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Noise",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "zVFKebnTTCq4hx2IiO6WuQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "The error indicates that your meter has not been activated. Please enter the token 55555 to activate the meter."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "NOTAct",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "smPsNNfgTVWYe3AruM_z5w",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "This error indicates that your meter has been overloaded with too many electrical appliances. Wait 30 minutes, then use less appliances simultaneously"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "OUEr",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "4x07JIpySE-GWl73z706Qw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "4x07JIpySE-GWl73z706Qw",
                            "route": "f/s/4x07JIpySE-GWl73z706Qw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "w5RJD8DDR7KwkqJFif99Ow",
                                            "style": "",
                                            "text": "\ud83d\uddc4\ufe0f Plastic",
                                            "transition": {
                                                "code": "trans.description.append(\"Is\u00a0the\u00a0door\u00a0of\u00a0the\u00a0pillar\u00a0box\u00a0plastic\u00a0or\u00a0metal? - Plastic\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "UlwPH7vzT_e0d_3pRkZYDQ",
                                            "style": "",
                                            "text": "\ud83d\uddc4\ufe0f Metal",
                                            "transition": {
                                                "code": "trans.description.append(\"Is\u00a0the\u00a0door\u00a0of\u00a0the\u00a0pillar\u00a0box\u00a0plastic\u00a0or\u00a0metal? - Metal\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Is\u00a0the\u00a0door\u00a0of\u00a0the\u00a0pillar\u00a0box\u00a0plastic\u00a0or\u00a0metal?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Pillar box",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "WzPkCgFuQwOgzq-P8vnYZg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "FFDlujAWTYWe4nul86pk8w",
                            "route": "f/s/FFDlujAWTYWe4nul86pk8w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "<Instructions on taking a photo>"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Please take a photo",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "Cqcl0x1YRXqUZcIdLb8ucw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Cqcl0x1YRXqUZcIdLb8ucw",
                            "route": "f/s/Cqcl0x1YRXqUZcIdLb8ucw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Fb6w9K4HQ869BsGP3zFRJw",
                                            "style": "",
                                            "text": "\ufe0f\ufe0f\ud83d\udd35 Pole-Pole",
                                            "transition": {
                                                "code": "trans.description.append(\"Does the line run between two poles or from a pole to a building? - Pole to pole\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "b-HrCh1jS4ehyyiRTMAZlw",
                                            "style": "",
                                            "text": "\u26ab\ufe0f\ufe0f Pole-Building",
                                            "transition": {
                                                "code": "trans.description.append(\"Does the line run between two poles or from a pole to a building? - Pole to building\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Does the line run between two poles or from a pole to a building?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Pole to building",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "pJnXBGq6ShKz7dtXEu6ozA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "pJnXBGq6ShKz7dtXEu6ozA",
                            "route": "f/s/pJnXBGq6ShKz7dtXEu6ozA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "cSs7v5TMTdGmrV1dOBdK5w",
                                            "style": "list",
                                            "text": "Con_Fail/E07",
                                            "transition": {
                                                "code": "trans.desc__ = \"Might indicate a power issue.\"",
                                                "ref": "CK_fssaXSr6uuu42OcaZIg",
                                                "route": "f/s/CK_fssaXSr6uuu42OcaZIg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Ajhz_-xTRBmOoUqQX-lrcA",
                                            "style": "list",
                                            "text": "ConnEct",
                                            "transition": {
                                                "code": "trans.desc__ = \"This error indicates that the keypad is busy connecting to the meter.\"",
                                                "ref": "FMWGmbu4Qd-a5ZNdI09WNg",
                                                "route": "f/s/FMWGmbu4Qd-a5ZNdI09WNg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "XMl0EnBeRcqXZhWw33iYmg",
                                            "style": "list",
                                            "text": "USED",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that the token you entered has been used before.\"",
                                                "ref": "Kb7umHE9SuG1-NA9q8ryEw",
                                                "route": "f/s/Kb7umHE9SuG1-NA9q8ryEw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "PbettUNzQUWqCXCSFQmhGw",
                                            "style": "list",
                                            "text": "OUEr_Por",
                                            "transition": {
                                                "code": "trans.desc__ = \"This error indicates that your meter has been overloaded with too many electrical appliances.\"",
                                                "ref": "smPsNNfgTVWYe3AruM_z5w",
                                                "route": "f/s/smPsNNfgTVWYe3AruM_z5w",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "4vOHYzXtT2yIUkJx7dMk2w",
                                            "style": "list",
                                            "text": "NOT-Act",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that your meter has not been activated.\"",
                                                "ref": "zVFKebnTTCq4hx2IiO6WuQ",
                                                "route": "f/s/zVFKebnTTCq4hx2IiO6WuQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "QJQA2VmARdqavlELvyXteA",
                                            "style": "list",
                                            "text": "E01",
                                            "transition": {
                                                "code": "trans.desc__ = \"The error indicates that your meter has not been initialised.\"",
                                                "ref": "x59MkWhPR6SxUMaJwM_psA",
                                                "route": "f/s/x59MkWhPR6SxUMaJwM_psA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "DRwYb37_RiChAXbJUu1fqA",
                                            "style": "list",
                                            "text": "Not accepting token",
                                            "transition": {
                                                "code": "trans.desc__ = \"Log a token issue.\"\r\ntrans.navigation = {\r\n    \"input\": \"tokens\"\r\n}",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "These can be resolved by yourself. Select the error code on your meter"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render codes",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "ZWeT_6WERvaDFaqBxSfAQQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ZWeT_6WERvaDFaqBxSfAQQ",
                            "route": "f/s/ZWeT_6WERvaDFaqBxSfAQQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "YknA7zyzRKyboNJYRdQteA",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.description.append(\"Are\u00a0there\u00a0any\u00a0sparks? - Yes\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "5cnOOGc_TnCAvtJGt96NHA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.description.append(\"Are\u00a0there\u00a0any\u00a0sparks? - No\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Are\u00a0there\u00a0any\u00a0sparks?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Sparks",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "l_DbBqcZR_qXpXG7YKo9AA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "l_DbBqcZR_qXpXG7YKo9AA",
                            "route": "f/s/l_DbBqcZR_qXpXG7YKo9AA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "IDdVUodoS1GrdqViwSe3WA",
                                            "style": "",
                                            "text": "\ud83c\udfd7\ufe0f Steel",
                                            "transition": {
                                                "code": "trans.description.append(\"Is\u00a0the\u00a0fire\u00a0on\u00a0a\u00a0steel\u00a0or\u00a0wooden\u00a0structure.\u00a0Or\u00a0is\u00a0it\u00a0a\u00a0building? - Steel\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "lJBk96DaQ2ap7EpgdNhU-g",
                                            "style": "",
                                            "text": "\ud83e\udeb5 Wood",
                                            "transition": {
                                                "code": "trans.description.append(\"Is\u00a0the\u00a0fire\u00a0on\u00a0a\u00a0steel\u00a0or\u00a0wooden\u00a0structure.\u00a0Or\u00a0is\u00a0it\u00a0a\u00a0building? - Wood\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "4ZETfweNRCmIED5a9qvS3g",
                                            "style": "",
                                            "text": "\ud83c\udfe0 Other structure",
                                            "transition": {
                                                "code": "trans.description.append(\"Is\u00a0the\u00a0fire\u00a0on\u00a0a\u00a0steel\u00a0or\u00a0wooden\u00a0structure.\u00a0Or\u00a0is\u00a0it\u00a0a\u00a0building? - Other structure\")",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Is the fire on a steel or wooden structure? Or is it on another structure like a building?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Structure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "lrofkfvWTKGHs7i_DnQ5xg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "lrofkfvWTKGHs7i_DnQ5xg",
                            "route": "f/s/lrofkfvWTKGHs7i_DnQ5xg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "yDxwo9T9R_Sww5ICTx-IVg",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "V6jF020qSXmHo8CMJ-iamw",
                                                "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "OAGG5DagRLu07dCVOvs_ZQ",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "ref": "e8UuORxLTlyZi212Qkdo4A",
                                                "route": "f/s/e8UuORxLTlyZi212Qkdo4A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so happy to hear that{% if user.username %}, {{name}}{% endif %}!\r\n\r\nIs there anything else I can help you with?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "e8UuORxLTlyZi212Qkdo4A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "That's it",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "id": "5gFSogKJTtO2KMs7OhUguA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.answer"
                            }
                        ],
                        "transition": {
                            "code": "time_ = \"Around\u00a0what\u00a0time\u00a0did\u00a0it\u00a0start? - \" + trans.answer\r\ntrans.description.append(time_)\r\n\r\ndel trans.utterance",
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "5gFSogKJTtO2KMs7OhUguA",
                            "route": "f/s/5gFSogKJTtO2KMs7OhUguA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK.\r\n\r\nAnd around what time did it start?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Time",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "V6jF020qSXmHo8CMJ-iamw",
                            "route": "f/s/V6jF020qSXmHo8CMJ-iamw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Kb7umHE9SuG1-NA9q8ryEw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "The error indicates that the token you entered has been used before. Please load the correct token or purchase and load a new token."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "USED",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                },
                {
                    "code": "trans.navigation = {}",
                    "decisions": [
                        {
                            "guard": "trans.question == \"more_information\"",
                            "ref": "WcjYKiGTQ6qvrlTk3wr9lg",
                            "route": "f/s/WcjYKiGTQ6qvrlTk3wr9lg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"credits\"",
                            "ref": "FeHdul2CTwWuyxk4L9FNOg",
                            "route": "f/s/FeHdul2CTwWuyxk4L9FNOg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"error_codes\"",
                            "ref": "-cqkz6qIQX6NKnd7cWtrKA",
                            "route": "f/s/-cqkz6qIQX6NKnd7cWtrKA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"earth_leakage\"",
                            "ref": "Ubw_ajfbSHWPgfRCKBRAFQ",
                            "route": "f/s/Ubw_ajfbSHWPgfRCKBRAFQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"neighbours\"",
                            "ref": "0meRxG5iSaq2H0fG5VhaaQ",
                            "route": "f/s/0meRxG5iSaq2H0fG5VhaaQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"jumper_burnt\"",
                            "ref": "uvNqPXDySrGuXZsl8xr01Q",
                            "route": "f/s/uvNqPXDySrGuXZsl8xr01Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"lightning\"",
                            "ref": "KNQ3dSgTRk2yQUIHCONAdQ",
                            "route": "f/s/KNQ3dSgTRk2yQUIHCONAdQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"fire\"",
                            "ref": "SNjuxzJmSxKDXWGLutYEqw",
                            "route": "f/s/SNjuxzJmSxKDXWGLutYEqw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"burning\"",
                            "ref": "X4cBhj86Qi-boE7FoEapjw",
                            "route": "f/s/X4cBhj86Qi-boE7FoEapjw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"structure\"",
                            "ref": "l_DbBqcZR_qXpXG7YKo9AA",
                            "route": "f/s/l_DbBqcZR_qXpXG7YKo9AA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"fire_location\"",
                            "ref": "VuqeHepGS3WSWZScKNQ0lQ",
                            "route": "f/s/VuqeHepGS3WSWZScKNQ0lQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"lines_hanging\"",
                            "ref": "LncXQXhAQ_uiiHVUbiF4GA",
                            "route": "f/s/LncXQXhAQ_uiiHVUbiF4GA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"noise\"",
                            "ref": "UN0rYrLPS9mbi5w5alpmrg",
                            "route": "f/s/UN0rYrLPS9mbi5w5alpmrg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"pillar_box\"",
                            "ref": "4x07JIpySE-GWl73z706Qw",
                            "route": "f/s/4x07JIpySE-GWl73z706Qw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"line_color\"",
                            "ref": "ScREEqlyQuyThFyeA4pZcA",
                            "route": "f/s/ScREEqlyQuyThFyeA4pZcA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"lines_bundle\"",
                            "ref": "_eyOeoNhTNuNnD7N--30qQ",
                            "route": "f/s/_eyOeoNhTNuNnD7N--30qQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"pole\"",
                            "ref": "Cqcl0x1YRXqUZcIdLb8ucw",
                            "route": "f/s/Cqcl0x1YRXqUZcIdLb8ucw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"sparks\"",
                            "ref": "ZWeT_6WERvaDFaqBxSfAQQ",
                            "route": "f/s/ZWeT_6WERvaDFaqBxSfAQQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"line_structure\"",
                            "ref": "bWtg5kDiRB-9YiHPOQO9yg",
                            "route": "f/s/bWtg5kDiRB-9YiHPOQO9yg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"high_voltage\"",
                            "ref": "YnpfL-sHRt-CSiD0DlDQ2A",
                            "route": "f/s/YnpfL-sHRt-CSiD0DlDQ2A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"high_voltage_supply\"",
                            "ref": "DQvQHCAKRV2eO9X4I4Mufw",
                            "route": "f/s/DQvQHCAKRV2eO9X4I4Mufw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"time\"",
                            "ref": "5gFSogKJTtO2KMs7OhUguA",
                            "route": "f/s/5gFSogKJTtO2KMs7OhUguA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.question == \"photo\"",
                            "ref": "WzPkCgFuQwOgzq-P8vnYZg",
                            "route": "f/s/WzPkCgFuQwOgzq-P8vnYZg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "lVr-ZXwnSqK2g9cqzgjRMA",
                            "route": "f/s/lVr-ZXwnSqK2g9cqzgjRMA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "f9rthly_TZGn41w1wXqhqA",
                    "name": "Which question?",
                    "relatives": [
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:5WnCBAFcT-ODN1dxd7h3Vw",
                            "name": "Call question"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "6kpRau76R0WO_Srb1P7Muw",
                    "workflow_name": "Reusable: Fault Questions"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "X1PooGYkSpCuisRijEqwwA",
            "id": "hvvxmTYVTEmfV5txhfWDKg",
            "name": "Reusable: Get address",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "K-oFdmD9QSeunpFCORh7Ig",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.latlong"
                            },
                            {
                                "extractor": "gecoding",
                                "output_handler": "formatted_address",
                                "var": "trans.address"
                            }
                        ],
                        "transition": {
                            "ref": "-vj9x2_aShql081pEwnihA",
                            "route": "f/s/-vj9x2_aShql081pEwnihA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "K-oFdmD9QSeunpFCORh7Ig",
                            "route": "f/s/K-oFdmD9QSeunpFCORh7Ig",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "O0zUvmRhRjq1Dkux1TB3RQ",
                                            "style": "",
                                            "text": "Location request",
                                            "type": "location"
                                        }
                                    ],
                                    "style": "",
                                    "text": "We require your location, you can send it below or type any word to cancel."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Address pin",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.add = trans.address + \", ZA\"",
                    "format": null,
                    "id": "-FrmAvn5RYa90ZA5nSnmiQ",
                    "method": "GET",
                    "name": "API: Geoloaction",
                    "on_error": {
                        "transition": {
                            "code": "del trans.utterance",
                            "ref": "4UvRXldXQEWSVFY41XpV_Q",
                            "route": "f/s/4UvRXldXQEWSVFY41XpV_Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "geolocation = trans.geolocation.results[0][\"geometry\"][\"location\"]\r\ncomponents = trans.geolocation.results[0][\"address_components\"]\r\ntrans.latitude = str(geolocation[\"lat\"])\r\ntrans.longitude = str(geolocation[\"lng\"])\r\ntrans.formatted = trans.geolocation.results[0][\"formatted_address\"]\r\ntrans.province = \"\"\r\nfor component in components:\r\n    if component[\"types\"][0] == \"administrative_area_level_1\":\r\n        trans.province = component[\"short_name\"]\r\n        trans.province_name = component[\"long_name\"]\r\ndel trans.utterance",
                            "ref": "4UvRXldXQEWSVFY41XpV_Q",
                            "route": "f/s/4UvRXldXQEWSVFY41XpV_Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.geolocation"
                    },
                    "resource": "https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBPiom5smBrEzMpe6ju3IL3NzCoan9UmWY&address={{trans.add}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                },
                {
                    "code": "trans.latitude, *trans.longitude = trans.latlong.split(\":\")",
                    "decisions": [
                        {
                            "code": "trans.longitude = trans.longitude[0]\r\nif not trans.address:\r\n    trans.add = trans.__previous_message_meta__.get(\"location\", {})\r\n    trans.address = trans.add",
                            "guard": "trans.longitude",
                            "ref": "-FrmAvn5RYa90ZA5nSnmiQ",
                            "route": "f/s/-FrmAvn5RYa90ZA5nSnmiQ",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = trans.latlong",
                            "ref": "y1h9H5wqQO6m28Yl6IDHTQ",
                            "route": "f/s/y1h9H5wqQO6m28Yl6IDHTQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "-vj9x2_aShql081pEwnihA",
                    "name": "Check location",
                    "type": "decision",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                },
                {
                    "code": "del trans.geolocation\r\ndel trans.latitude\r\ndel trans.longitude\r\ndel trans.formatted\r\ndel trans.add",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "4UvRXldXQEWSVFY41XpV_Q",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                },
                {
                    "id": "PO-m9251TfWAnIuafEb87Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.address"
                            }
                        ],
                        "transition": {
                            "ref": "-FrmAvn5RYa90ZA5nSnmiQ",
                            "route": "f/s/-FrmAvn5RYa90ZA5nSnmiQ",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "PO-m9251TfWAnIuafEb87Q",
                            "route": "f/s/PO-m9251TfWAnIuafEb87Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please type and send me your  address, like this:\r\n\r\n123 Street name, Town/City, Province"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter address",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                },
                {
                    "id": "1pGo8ZVRTIi8m-Ow0ZQ-lg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "y1h9H5wqQO6m28Yl6IDHTQ",
                            "route": "f/s/y1h9H5wqQO6m28Yl6IDHTQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "1pGo8ZVRTIi8m-Ow0ZQ-lg",
                            "route": "f/s/1pGo8ZVRTIi8m-Ow0ZQ-lg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "HnqIZTmYTNqACWmFvq-FvQ",
                                            "style": "",
                                            "text": "\ud83d\udccd\ufe0f Yes",
                                            "transition": {
                                                "ref": "K-oFdmD9QSeunpFCORh7Ig",
                                                "route": "f/s/K-oFdmD9QSeunpFCORh7Ig",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "9xFbI5pJQn2A2oCH_RHG8g",
                                            "style": "",
                                            "text": "\ud83d\udd19",
                                            "transition": {
                                                "ref": "X1PooGYkSpCuisRijEqwwA",
                                                "route": "f/s/X1PooGYkSpCuisRijEqwwA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "It\u2019s easy!\r\n\r\n\ud83d\udcf1 If you have an iPhone:\r\nTap the \u2795 to the left of where you usually type and select Location. Give it a few seconds to figure out where you are and select Send Your Current Location.\r\n\r\n\ud83d\udcf1 For Samsung or other Android devices:\r\nTap the \ud83d\udcce to the right of where you usually type and select Location. Give it a few seconds to figure out where you are and select Send Your Current Location.\r\n\r\nCan you try it now?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "How do you do it",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                },
                {
                    "id": "X1PooGYkSpCuisRijEqwwA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "y1h9H5wqQO6m28Yl6IDHTQ",
                            "route": "f/s/y1h9H5wqQO6m28Yl6IDHTQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "X1PooGYkSpCuisRijEqwwA",
                            "route": "f/s/X1PooGYkSpCuisRijEqwwA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "wAIRApfVRXGHl_jV3qmdFw",
                                            "style": "",
                                            "text": "\ud83d\udccd Share location",
                                            "transition": {
                                                "ref": "K-oFdmD9QSeunpFCORh7Ig",
                                                "route": "f/s/K-oFdmD9QSeunpFCORh7Ig",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "X9PH6pFuQkK8zFLgFM3HNg",
                                            "style": "",
                                            "text": "\ud83c\udfe1 Type address",
                                            "transition": {
                                                "ref": "PO-m9251TfWAnIuafEb87Q",
                                                "route": "f/s/PO-m9251TfWAnIuafEb87Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "gVFSbAfYR-GtJkvH6owAlQ",
                                            "style": "",
                                            "text": "\u2753 How do I do this?",
                                            "transition": {
                                                "ref": "1pGo8ZVRTIi8m-Ow0ZQ-lg",
                                                "route": "f/s/1pGo8ZVRTIi8m-Ow0ZQ-lg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{{trans.primer_text}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Primer",
                    "relatives": [
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:dBDm0NsMSdCmpJc-110hmQ",
                            "name": "Get address"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:B0HbUv4bQk6UFABAXAA2TA",
                            "name": "Get address"
                        },
                        {
                            "location": "/editor/states/loAZFG-kSZWNZxewg7p0Fw/#state:MAq7ahzZS664DBAm5yuV1w",
                            "name": "Get address"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.utterance == \"menu\"",
                            "ref": "4UvRXldXQEWSVFY41XpV_Q",
                            "route": "f/s/4UvRXldXQEWSVFY41XpV_Q",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                            "ref": "4UvRXldXQEWSVFY41XpV_Q",
                            "route": "f/s/4UvRXldXQEWSVFY41XpV_Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "y1h9H5wqQO6m28Yl6IDHTQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "hvvxmTYVTEmfV5txhfWDKg",
                    "workflow_name": "Reusable: Get address"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "6byCfxWyT-KHeu7cL2p6Bg",
            "id": "rCt59Q6oRxSZwvEFN1bzrQ",
            "name": "Reusable: LUHN Test",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "trans.valid = False\r\ntrans.flag = \"chars\"",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "pwiC0dD1QeO8x3RgltDfgw",
                    "name": "Bad chars",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "trans.valid = False\r\ntrans.flag = \"non_length\"",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "8qw3WYzUQDqCaDQdGUb6Kw",
                    "name": "Bad length",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.meter_number.isnumeric()",
                            "ref": "RXRGjiSdQ2meM06aojj8PQ",
                            "route": "f/s/RXRGjiSdQ2meM06aojj8PQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "guard": "trans.meter_number[0] in ['A', 'a', 'C', 'c'] and trans.meter_number[1:].isnumeric()",
                            "ref": "RXRGjiSdQ2meM06aojj8PQ",
                            "route": "f/s/RXRGjiSdQ2meM06aojj8PQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "pwiC0dD1QeO8x3RgltDfgw",
                            "route": "f/s/pwiC0dD1QeO8x3RgltDfgw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "UkkVhrgRQH2prIJIEyJUZw",
                    "name": "Check chars",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "len(trans.account_number) == 10",
                            "ref": "RXRGjiSdQ2meM06aojj8PQ",
                            "route": "f/s/RXRGjiSdQ2meM06aojj8PQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "8qw3WYzUQDqCaDQdGUb6Kw",
                            "route": "f/s/8qw3WYzUQDqCaDQdGUb6Kw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "HiSFzQbhRNqmULnhGAkfJg",
                    "name": "Check length",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "len(trans. meter_number) >= 4 and len(trans. meter_number) <= 8",
                            "ref": "UkkVhrgRQH2prIJIEyJUZw",
                            "route": "f/s/UkkVhrgRQH2prIJIEyJUZw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "guard": "len(trans. meter_number) == 11",
                            "ref": "8UVq--bvQhqbeUJxB8RfcQ",
                            "route": "f/s/8UVq--bvQhqbeUJxB8RfcQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "8qw3WYzUQDqCaDQdGUb6Kw",
                            "route": "f/s/8qw3WYzUQDqCaDQdGUb6Kw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "PZs-9TFJT7eRwIAFfa68hQ",
                    "name": "Check prepaid length",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "trans.valid = False\r\ntrans.flag = \"luhn\"",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "ldO6QMGGQwu2P3m5Uhc1yg",
                    "name": "Luhn failed",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "trans.luhn = False\r\nnsum = 0\r\nissecond = False\r\nfor i in range(len(trans.meter_number) - 1, -1, -1):\r\n    d = ord(trans.meter_number[i]) - ord('0')\r\n    if (issecond == True):\r\n        d = d * 2\r\n        nsum += d // 10\r\n        nsum += d % 10\r\n        issecond = not issecond\r\nif (nsum % 10 == 0):\r\n    trans.luhn = True",
                    "decisions": [
                        {
                            "guard": "trans.luhn",
                            "ref": "RXRGjiSdQ2meM06aojj8PQ",
                            "route": "f/s/RXRGjiSdQ2meM06aojj8PQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "ldO6QMGGQwu2P3m5Uhc1yg",
                            "route": "f/s/ldO6QMGGQwu2P3m5Uhc1yg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "8UVq--bvQhqbeUJxB8RfcQ",
                    "name": "luhn test",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.prepaid",
                            "ref": "PZs-9TFJT7eRwIAFfa68hQ",
                            "route": "f/s/PZs-9TFJT7eRwIAFfa68hQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "guard": "trans.postpaid and trans.account_number.isnumeric()",
                            "ref": "HiSFzQbhRNqmULnhGAkfJg",
                            "route": "f/s/HiSFzQbhRNqmULnhGAkfJg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "pwiC0dD1QeO8x3RgltDfgw",
                            "route": "f/s/pwiC0dD1QeO8x3RgltDfgw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "6byCfxWyT-KHeu7cL2p6Bg",
                    "name": "Postpaid?",
                    "relatives": [
                        {
                            "location": "/editor/states/2JLYQtHYQZe42CTmEO2gdw/#state:w75WSNUCT5aR1KysR_8FrA",
                            "name": "Luhn test"
                        },
                        {
                            "location": "/editor/states/WTTD9JUbSsuDI4RPlcFp0w/#state:0fose8VzS4KZ3awwrRIt8Q",
                            "name": "Luhn test"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                },
                {
                    "code": "trans.valid = True",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "RXRGjiSdQ2meM06aojj8PQ",
                    "name": "Success",
                    "type": "decision",
                    "workflow_id": "rCt59Q6oRxSZwvEFN1bzrQ",
                    "workflow_name": "Reusable: LUHN Test"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "43NADRelSVSxH01HgT8uMQ",
            "id": "k74yrz38QqSM0fOBm_3N1g",
            "name": "Reusable: Paginator",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"input\": \"menu\"\r\n}",
                            "ref": "EqCDE71ORKy1UX-IOWy2lQ",
                            "route": "f/s/EqCDE71ORKy1UX-IOWy2lQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "cPNHc-0ESDGkIsze4tUduA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There are no new {{trans.entity_name}} at this time.\r\n\r\nThank you for using Eskom Distribution!"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Empty list",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                },
                {
                    "id": "7cExaHffQm6LZ04VspU9ww",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "integer",
                                "var": "trans.page_index"
                            }
                        ],
                        "transition": {
                            "ref": "YAFgxjsLSWS20GX7MLb6Hw",
                            "route": "f/s/YAFgxjsLSWS20GX7MLb6Hw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7cExaHffQm6LZ04VspU9ww",
                            "route": "f/s/7cExaHffQm6LZ04VspU9ww",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "numeric"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "((trans.page + 1)*trans.page_length) < len(trans.entities)",
                                            "id": "XlIz46kWRnWlUuFdkq8-SA",
                                            "style": "",
                                            "text": "Next page",
                                            "transition": {
                                                "code": "trans.page = trans.page + 1",
                                                "ref": "iC-AlksZQ5ykg5sG7s7i_Q",
                                                "route": "f/s/iC-AlksZQ5ykg5sG7s7i_Q",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "trans.page > 0",
                                            "id": "g2HSvy-hR9iFg-9TBL3zyw",
                                            "style": "",
                                            "text": "Previous page",
                                            "transition": {
                                                "code": "trans.page = trans.page - 1",
                                                "ref": "iC-AlksZQ5ykg5sG7s7i_Q",
                                                "route": "f/s/iC-AlksZQ5ykg5sG7s7i_Q",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "UsOU6fjDR0StNBP9h9N4-w",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "ref": "iXAsbHivQtqDCZ0MvSB2mQ",
                                                "route": "f/s/iXAsbHivQtqDCZ0MvSB2mQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{% if trans.list_description %}{{trans.list_description}}{% endif %}_Type in the number of the {{trans.key}} you want to view or navigate to the next/previous page:_\r\n{% for entity in trans.container %}\r\n{{entity.0}}{% endfor %}\r\n\r\nPage *{{trans.page + 1}}* of *{{trans.all_pages}}*"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "List entities",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "iC-AlksZQ5ykg5sG7s7i_Q",
                            "route": "f/s/iC-AlksZQ5ykg5sG7s7i_Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "_XFJhWfERVSTHXP08FQ6ZA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please select a number between 1 and {{trans.page_length}}, {{trans.page_index}} does not exist."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Out of range",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                },
                {
                    "code": "del trans.all_pages\r\ndel trans.container\r\ndel trans.page\r\ndel trans.page_index\r\ndel trans.page_length\r\ndel trans.text\r\ndel trans.within_range",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "EqCDE71ORKy1UX-IOWy2lQ",
                    "name": "Return",
                    "type": "decision",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.content = trans.entities[0]",
                            "guard": "len(trans.entities) == 1",
                            "ref": "EqCDE71ORKy1UX-IOWy2lQ",
                            "route": "f/s/EqCDE71ORKy1UX-IOWy2lQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "trans.page = 0\r\ntrans.page_length = 5\r\ntrans.all_pages = ceil(len(trans.entities)/trans.page_length)",
                            "guard": "trans.entities",
                            "ref": "iC-AlksZQ5ykg5sG7s7i_Q",
                            "route": "f/s/iC-AlksZQ5ykg5sG7s7i_Q",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "cPNHc-0ESDGkIsze4tUduA",
                            "route": "f/s/cPNHc-0ESDGkIsze4tUduA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "43NADRelSVSxH01HgT8uMQ",
                    "name": "Set up pages",
                    "relatives": [
                        {
                            "location": "/editor/states/ZGZGOPpkSH6LbhlJyF42wQ/#state:BrA3RTy3S5KSknYzmDpKtA",
                            "name": "Select bill"
                        },
                        {
                            "location": "/editor/states/ZcGWskz9S_qSsb1AzWDumA/#state:DyKmfBktR3CsR3_zDcEU-Q",
                            "name": "Get location"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:ZSdIuSCcSa-pKjsdFHvwUQ",
                            "name": "Call paginator"
                        },
                        {
                            "location": "/editor/states/ET4-PmNlTQKtkfkF2vk-tQ/#state:iPpG8B50RdGLL9qxlDmK7g",
                            "name": "Get location"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                },
                {
                    "code": "from_page = trans.page*trans.page_length\r\nto_page = trans.page*trans.page_length + trans.page_length\r\ntrans.container = []\r\nkey = trans.entity_key\r\nfor index, entity in enumerate(trans.entities[from_page: to_page]):\r\n    trans.text = str(index + 1) + \". _\" + entity[trans.key] + \"_\"\r\n    trans.container.append((trans.text, index + 1))",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "ref": "7cExaHffQm6LZ04VspU9ww",
                            "route": "f/s/7cExaHffQm6LZ04VspU9ww",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "iC-AlksZQ5ykg5sG7s7i_Q",
                    "name": "Structure list",
                    "type": "decision",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                },
                {
                    "code": "trans.within_range = False\r\nif 0 < trans.page_index <= len(trans.container):\r\n    trans.page_index = trans.page*trans.page_length + trans.page_index\r\n    trans.within_range = True\r\n",
                    "decisions": [
                        {
                            "guard": "not trans.within_range",
                            "ref": "_XFJhWfERVSTHXP08FQ6ZA",
                            "route": "f/s/_XFJhWfERVSTHXP08FQ6ZA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.content = trans.entities[trans.page_index - 1]",
                            "ref": "EqCDE71ORKy1UX-IOWy2lQ",
                            "route": "f/s/EqCDE71ORKy1UX-IOWy2lQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "YAFgxjsLSWS20GX7MLb6Hw",
                    "name": "Structure selection",
                    "type": "decision",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"input\": \"menu\"\r\n}",
                            "ref": "EqCDE71ORKy1UX-IOWy2lQ",
                            "route": "f/s/EqCDE71ORKy1UX-IOWy2lQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "iXAsbHivQtqDCZ0MvSB2mQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k74yrz38QqSM0fOBm_3N1g",
                    "workflow_name": "Reusable: Paginator"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "20HQ-1PuS0S4LX6rBMh9sQ",
            "id": "bTtkrc8_QIu5jNCoaTrY3Q",
            "name": "Reusable: Questions",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "default_action": {
                        "transition": {
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "20HQ-1PuS0S4LX6rBMh9sQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Where do we get questions, where do we send the answers? Is it a static flow or an integration?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Questions",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "bTtkrc8_QIu5jNCoaTrY3Q",
                    "workflow_name": "Reusable: Questions"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "Uo1ecZFGSpyDvkgudfKiVg",
            "id": "ET4-PmNlTQKtkfkF2vk-tQ",
            "name": "Reusable: Select Premise",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.add = trans.address + \", ZA\"",
                    "format": null,
                    "id": "p9MFWlb5R3-4uJFW7TTwTw",
                    "method": "GET",
                    "name": "Get cordinates",
                    "on_error": {
                        "transition": {
                            "ref": "-JcFXYeiSkGoDkuSrWqP4g",
                            "route": "f/s/-JcFXYeiSkGoDkuSrWqP4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "geolocation = trans.geolocation.results[0][\"geometry\"][\"location\"]\r\ntrans.latitude = str(geolocation[\"lat\"])\r\ntrans.longitude = str(geolocation[\"lng\"])\r\ntrans.formatted = trans.geolocation.results[0][\"formatted_address\"]",
                            "ref": "zM22WhDjRFOcd3c6JVhcwg",
                            "route": "f/s/zM22WhDjRFOcd3c6JVhcwg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.geolocation"
                    },
                    "resource": "https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBPiom5smBrEzMpe6ju3IL3NzCoan9UmWY&address={{trans.add}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "code": "del trans.entities\r\ndel trans.entity_name\r\ndel trans.key\r\ndel trans.faults\r\ndel trans.list_description\r\ndel trans.singular",
                    "decisions": [
                        {
                            "code": "trans.address = trans.content[\"description\"]\r\nif trans.context:\r\n\ttrans.context.premise = trans.content\r\nelse:\r\n    trans.context = {\r\n        \"premise\": trans.content\r\n    }",
                            "guard": "trans.content",
                            "ref": "p9MFWlb5R3-4uJFW7TTwTw",
                            "route": "f/s/p9MFWlb5R3-4uJFW7TTwTw",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        {
                            "code": "trans.utterance = \"menu\"\r\ntrans.navigation = {}",
                            "guard": "trans.navigation.input",
                            "ref": "ltSZcGqOSx62-Hw9ZUrKtg",
                            "route": "f/s/ltSZcGqOSx62-Hw9ZUrKtg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "ltSZcGqOSx62-Hw9ZUrKtg",
                            "route": "f/s/ltSZcGqOSx62-Hw9ZUrKtg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "iPpG8B50RdGLL9qxlDmK7g",
                    "name": "Get location",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.entities = perm.customer.premises\r\ntrans.entity_name = \"locations\"\r\ntrans.key = \"description\"\r\ntrans.list_description = \"I see you have multiple premises linked to your account....\\n\\nWhich of these do you want to report an outage for?\\n\\n\"\r\ntrans.singular = \"location\"",
                        "label": "Reusable: Paginator",
                        "ref": "k74yrz38QqSM0fOBm_3N1g",
                        "route": "f/w/k74yrz38QqSM0fOBm_3N1g",
                        "type": "workflow"
                    },
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "code": "del trans.navigation\r\ndel trans.utterance",
                    "decisions": [
                        {
                            "code": "trans.address = trans.context[\"premise\"][\"description\"]",
                            "guard": "trans.context and trans.context.premise",
                            "ref": "SPX-rokhR9uWUiAUXXGpCg",
                            "route": "f/s/SPX-rokhR9uWUiAUXXGpCg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "perm.customer.premises",
                            "ref": "iPpG8B50RdGLL9qxlDmK7g",
                            "route": "f/s/iPpG8B50RdGLL9qxlDmK7g",
                            "statetype": "wflow_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "jz10YUVeQ_Gz7HO55nLPfQ",
                            "route": "f/s/jz10YUVeQ_Gz7HO55nLPfQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Uo1ecZFGSpyDvkgudfKiVg",
                    "name": "Is there a metre?",
                    "relatives": [
                        {
                            "location": "/editor/states/Ei5N-sp7TwG-DZFdS9hyjw/#state:nmWdeWczSpee2mYmvVOo9Q",
                            "name": "Select premise"
                        },
                        {
                            "location": "/editor/states/k3DAd-onR9-T0iSZ4jO0tw/#state:02zZhbbiRTWAiVX9v2v_cg",
                            "name": "Select premise"
                        },
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:-ULrtG_zStamekI9Rtnulw",
                            "name": "Check for metre"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "code": "trans.navigation = {\r\n    \"input\": \"menu\"\r\n}\r\ndel trans.premises\r\ndel trans.premise_id\r\ndel trans.count",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "U53M3Fo4QNSDm5bMs4EaxQ",
                    "name": "Main menu",
                    "type": "decision",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"input\": \"menu\"\r\n}\r\ndel trans.premises\r\ndel trans.premise_id\r\ndel trans.count",
                            "ref": "ltSZcGqOSx62-Hw9ZUrKtg",
                            "route": "f/s/ltSZcGqOSx62-Hw9ZUrKtg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "jz10YUVeQ_Gz7HO55nLPfQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I\u2019m so sorry, {{user.usernname}} \u2013 I can\u2019t seem to connect to the system just this minute.\r\n\r\nPlease give it a few minutes and try again.\r\n\r\nAre you sure you have locations/premises linked to this account?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No locations",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "ltSZcGqOSx62-Hw9ZUrKtg",
                            "route": "f/s/ltSZcGqOSx62-Hw9ZUrKtg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "-JcFXYeiSkGoDkuSrWqP4g",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "\ud83d\udccd *{{trans.context.premise.description}}*\r\n\r\nIs the location being used."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render location details",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "r6ifLfoGTuqj_JVq3bp3wA",
                    "name": "Return",
                    "type": "decision",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.latitude\r\ndel trans.longitude\r\ndel trans.formatted\r\ndel trans.geolocation\r\ndel trans.content\r\ndel trans.add\r\ndel trans.address",
                            "guard": "trans.utterance == \"menu\"",
                            "ref": "U53M3Fo4QNSDm5bMs4EaxQ",
                            "route": "f/s/U53M3Fo4QNSDm5bMs4EaxQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.latitude\r\ndel trans.longitude\r\ndel trans.formatted\r\ndel trans.geolocation\r\ndel trans.utterance\r\ndel trans.content\r\ndel trans.add\r\ndel trans.address",
                            "ref": "r6ifLfoGTuqj_JVq3bp3wA",
                            "route": "f/s/r6ifLfoGTuqj_JVq3bp3wA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "ltSZcGqOSx62-Hw9ZUrKtg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "-JcFXYeiSkGoDkuSrWqP4g",
                            "route": "f/s/-JcFXYeiSkGoDkuSrWqP4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "zM22WhDjRFOcd3c6JVhcwg",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"location\",\r\n    \"location\": {\r\n        \"latitude\": trans.latitude,\r\n        \"longitude\": trans.longitude,\r\n        \"name\": \"Selected address for fault.\",\r\n        \"address\": trans.formatted\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Show location pin",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                },
                {
                    "id": "SPX-rokhR9uWUiAUXXGpCg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "ltSZcGqOSx62-Hw9ZUrKtg",
                            "route": "f/s/ltSZcGqOSx62-Hw9ZUrKtg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "SPX-rokhR9uWUiAUXXGpCg",
                            "route": "f/s/SPX-rokhR9uWUiAUXXGpCg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "6LMREqIxRNO3nKiAFkESnw",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "-JcFXYeiSkGoDkuSrWqP4g",
                                                "route": "f/s/-JcFXYeiSkGoDkuSrWqP4g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "hghKoTrBQcmghSz9eKJq_Q",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "iPpG8B50RdGLL9qxlDmK7g",
                                                "route": "f/s/iPpG8B50RdGLL9qxlDmK7g",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "\ud83d\udccd *{{trans.context.premise.description}}*\r\n\r\nIs the last location listed in this session. Would you like to use this address?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Use last location",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "ET4-PmNlTQKtkfkF2vk-tQ",
                    "workflow_name": "Reusable: Select Premise"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "gLPXol3GSdym_pKkn85FCg",
            "id": "pmf0p54ERGCxzwJWlP9A9Q",
            "name": "Reusable: Subscribe",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "gLPXol3GSdym_pKkn85FCg",
                    "method": "GET",
                    "name": "API: Check opt in status",
                    "on_error": {
                        "transition": {
                            "ref": "hKFinvL7TRqLahr83U9k6w",
                            "route": "f/s/hKFinvL7TRqLahr83U9k6w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                            "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.subscribed"
                    },
                    "relatives": [
                        {
                            "location": "/editor/states/xHlshH6aQqeNjVwiHYEddQ/#state:0bs5TWdGRquDU9O6axgB6g",
                            "name": "Check subscription status"
                        }
                    ],
                    "resource": "{{const.MIDDLEWARE}}/hsm/subscribers?token=mock&auth=96ef71e15bfbeea24d0afa2961cc052b092961f4&account_id=MfundoNtini&msisdn={{perm.msisdn_on_bot}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "",
                    "format": null,
                    "id": "oNV7t_9vQfSr54wmjJ-5aQ",
                    "method": "GET",
                    "name": "API: Events",
                    "on_error": {
                        "transition": {
                            "ref": "7jkFJJwjRSm3eIfxZYvJJw",
                            "route": "f/s/7jkFJJwjRSm3eIfxZYvJJw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "mLcjLwoZTk6k5Xlh2zZMJQ",
                            "route": "f/s/mLcjLwoZTk6k5Xlh2zZMJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.event_type"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/subscribe?token=mock&account_id=MfundoNtini&auth=96ef71e15bfbeea24d0afa2961cc052b092961f4&msisdn={{perm.msidn_on_bot}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "WWnS-v1jR3ebxhHnmKN1qg",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "id": "pWGCJkR3TWiVcnd8hQWOPQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.not_subscribed = True",
                            "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                            "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "pWGCJkR3TWiVcnd8hQWOPQ",
                            "route": "f/s/pWGCJkR3TWiVcnd8hQWOPQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "7n0noXTTRYaigbucoacJog",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "oNV7t_9vQfSr54wmjJ-5aQ",
                                                "route": "f/s/oNV7t_9vQfSr54wmjJ-5aQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "zV64lnVgTkChI2CGHlYVwg",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "code": "trans.not_subscribed = True",
                                                "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                                                "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error opting you in.\r\n\r\nWould you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "id": "KjjdZCYeQgmBuyJIjB0S6g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                            "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "KjjdZCYeQgmBuyJIjB0S6g",
                            "route": "f/s/KjjdZCYeQgmBuyJIjB0S6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "nnd2VQ3pQfGfqrlrs9fExA",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "ref": "gLPXol3GSdym_pKkn85FCg",
                                                "route": "f/s/gLPXol3GSdym_pKkn85FCg",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "F41b2IpySvSQ5dW74nW35w",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "NFlySOQlS1uV6ltum24zCA",
                                                "route": "f/s/NFlySOQlS1uV6ltum24zCA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "There was an error checking your subscription status, would you like to try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "pQvx5zv2QkmCAkH3J0Sp6Q",
                    "name": "Menu",
                    "type": "decision",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.not_subscribed = True",
                            "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                            "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "AyDYCZ1zQaKA4EFxTGIEPQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was an internal failure trying to opt you in. please try again later."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "uHtxco64RGe_B3AruXlgvA",
                    "name": "Route",
                    "type": "decision",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.event\r\ndel trans.event_type\r\ndel trans.not_subscribed\r\ntrans.navigation = {}",
                            "guard": "trans.subscribed",
                            "ref": "WWnS-v1jR3ebxhHnmKN1qg",
                            "route": "f/s/WWnS-v1jR3ebxhHnmKN1qg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.event\r\ndel trans.event_type\r\ndel trans.subscribed\r\ntrans.navigation = {}",
                            "guard": "trans.not_subscribed",
                            "ref": "WWnS-v1jR3ebxhHnmKN1qg",
                            "route": "f/s/WWnS-v1jR3ebxhHnmKN1qg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.event\r\ndel trans.event_type\r\ndel trans.subscribed\r\ndel trans.not_subscribed",
                            "guard": "trans.utterance == \"menu\"",
                            "ref": "pQvx5zv2QkmCAkH3J0Sp6Q",
                            "route": "f/s/pQvx5zv2QkmCAkH3J0Sp6Q",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.error\r\ndel trans.event\r\ndel trans.event_type\r\ndel trans.subscribed\r\ndel trans.not_subscribed",
                            "ref": "uHtxco64RGe_B3AruXlgvA",
                            "route": "f/s/uHtxco64RGe_B3AruXlgvA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "m0oqZg8CQf-Je7R1XI4woQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "id": "CGesoIvBQeCYCKJAMVVp7w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                            "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "CGesoIvBQeCYCKJAMVVp7w",
                            "route": "f/s/CGesoIvBQeCYCKJAMVVp7w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "VNbrQS3uQd-ukZM2VpOndQ",
                                            "style": "",
                                            "text": "\u2705 Yes",
                                            "transition": {
                                                "code": "trans.event = \"subscribe\"",
                                                "ref": "oNV7t_9vQfSr54wmjJ-5aQ",
                                                "route": "f/s/oNV7t_9vQfSr54wmjJ-5aQ",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "FrQauTwaT0S1Lz22END7cA",
                                            "style": "",
                                            "text": "\u274c No",
                                            "transition": {
                                                "code": "trans.not_subscribed = True",
                                                "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                                                "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Before I can schedule future messages I need you to agree to recieve such messages.\r\n\r\nWould you like to opt in?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Subscribe",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.subscribed = True",
                            "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                            "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "mLcjLwoZTk6k5Xlh2zZMJQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Great!\r\n\r\nNow that you\u2019ve opted in, I can send you messages when I need to.\r\n\r\nYou can opt out again at any time."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Subscribed",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "m0oqZg8CQf-Je7R1XI4woQ",
                            "route": "f/s/m0oqZg8CQf-Je7R1XI4woQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "NFlySOQlS1uV6ltum24zCA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "CGesoIvBQeCYCKJAMVVp7w",
                            "route": "f/s/CGesoIvBQeCYCKJAMVVp7w",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "KjjdZCYeQgmBuyJIjB0S6g",
                            "route": "f/s/KjjdZCYeQgmBuyJIjB0S6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "hKFinvL7TRqLahr83U9k6w",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "AyDYCZ1zQaKA4EFxTGIEPQ",
                            "route": "f/s/AyDYCZ1zQaKA4EFxTGIEPQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "pWGCJkR3TWiVcnd8hQWOPQ",
                            "route": "f/s/pWGCJkR3TWiVcnd8hQWOPQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "7jkFJJwjRSm3eIfxZYvJJw",
                    "name": "Which event error?",
                    "type": "decision",
                    "workflow_id": "pmf0p54ERGCxzwJWlP9A9Q",
                    "workflow_name": "Reusable: Subscribe"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "qcAf0uHySfCp9RJf6cHSKg",
            "id": "k9FkumKURI-9pzhvj1E_rw",
            "name": "Reusable: Survey",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.input",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "E2Uhj1C1QHahPRvvTtLGlg",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "k9FkumKURI-9pzhvj1E_rw",
                    "workflow_name": "Reusable: Survey"
                },
                {
                    "id": "Yw65AJ9dTduCpd4pVc1qGA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "E2Uhj1C1QHahPRvvTtLGlg",
                            "route": "f/s/E2Uhj1C1QHahPRvvTtLGlg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Yw65AJ9dTduCpd4pVc1qGA",
                            "route": "f/s/Yw65AJ9dTduCpd4pVc1qGA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "tJYmba8iRY6yp62GHx75tA",
                                            "style": "",
                                            "text": "\ud83d\ude04\ufe0f I loved it!",
                                            "transition": {
                                                "ref": "ZHUcymjKTyq5i-IDiQrVRA",
                                                "route": "f/s/ZHUcymjKTyq5i-IDiQrVRA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "-2DINnTtSt-XdTCummerWg",
                                            "style": "",
                                            "text": " \ud83e\udee4 It was OK",
                                            "transition": {
                                                "ref": "znaVYO40RUi67YEOQCezTQ",
                                                "route": "f/s/znaVYO40RUi67YEOQCezTQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Lc3oLx96R5CmPy1zAO2eKg",
                                            "style": "",
                                            "text": "\u2639\ufe0f I didn\u2019t like it",
                                            "transition": {
                                                "ref": "znaVYO40RUi67YEOQCezTQ",
                                                "route": "f/s/znaVYO40RUi67YEOQCezTQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{{trans.text}}\r\n\r\nNow tell me, how did you find the experience of chatting to me?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Experience",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k9FkumKURI-9pzhvj1E_rw",
                    "workflow_name": "Reusable: Survey"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "E2Uhj1C1QHahPRvvTtLGlg",
                            "route": "f/s/E2Uhj1C1QHahPRvvTtLGlg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "EjRmTSHBT2ar9pMb6ktxBw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Got it!\r\n\r\nThank you for taking the time to give me feedback.\r\n\r\nI look forward to chatting with you again. For now, please feel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "INDEX:SURVEY_END",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k9FkumKURI-9pzhvj1E_rw",
                    "workflow_name": "Reusable: Survey"
                },
                {
                    "id": "qcAf0uHySfCp9RJf6cHSKg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "E2Uhj1C1QHahPRvvTtLGlg",
                            "route": "f/s/E2Uhj1C1QHahPRvvTtLGlg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "qcAf0uHySfCp9RJf6cHSKg",
                            "route": "f/s/qcAf0uHySfCp9RJf6cHSKg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "IPs8YvwQSIezOjFqFfdfRA",
                                            "style": "",
                                            "text": "\ud83d\ude0a Yes",
                                            "transition": {
                                                "code": "trans.text = \"I\u2019m glad to hear that!\"",
                                                "ref": "Yw65AJ9dTduCpd4pVc1qGA",
                                                "route": "f/s/Yw65AJ9dTduCpd4pVc1qGA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "QMD_tbcGST6wpTOOLQOaWw",
                                            "style": "",
                                            "text": "\ud83d\ude41  No",
                                            "transition": {
                                                "code": "trans.text = \"Sorry about that.\" ",
                                                "ref": "Yw65AJ9dTduCpd4pVc1qGA",
                                                "route": "f/s/Yw65AJ9dTduCpd4pVc1qGA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thank you!\r\n\r\nFirstly, I\u2019d like to know whether your issue was resolved?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "INDEX:SURVEY_START",
                    "relatives": [
                        {
                            "location": "/editor/states/-9j98rRnR2i380sGsTgi5Q/#state:u23Sa5N1QjSB8WCJTccKuw",
                            "name": "Call survey"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k9FkumKURI-9pzhvj1E_rw",
                    "workflow_name": "Reusable: Survey"
                },
                {
                    "id": "ZHUcymjKTyq5i-IDiQrVRA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.input"
                            }
                        ],
                        "transition": {
                            "ref": "EjRmTSHBT2ar9pMb6ktxBw",
                            "route": "f/s/EjRmTSHBT2ar9pMb6ktxBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ZHUcymjKTyq5i-IDiQrVRA",
                            "route": "f/s/ZHUcymjKTyq5i-IDiQrVRA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "That\u2019s what I love to hear! \ud83d\ude4c\r\n\r\nIf you can think of anything else I need to know, please share it below so I can work on it."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Positive",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k9FkumKURI-9pzhvj1E_rw",
                    "workflow_name": "Reusable: Survey"
                },
                {
                    "id": "znaVYO40RUi67YEOQCezTQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.input"
                            }
                        ],
                        "transition": {
                            "ref": "EjRmTSHBT2ar9pMb6ktxBw",
                            "route": "f/s/EjRmTSHBT2ar9pMb6ktxBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "znaVYO40RUi67YEOQCezTQ",
                            "route": "f/s/znaVYO40RUi67YEOQCezTQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I\u2019d love to know how I can do better next time, {{user.username}}.\r\n\r\nPlease give me a bit more detail on what you didn\u2019t enjoy, so I can work on it."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Tell me more",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "k9FkumKURI-9pzhvj1E_rw",
                    "workflow_name": "Reusable: Survey"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "q00kklhWThSfqhNoXJotEw",
            "id": "vstr6QzpR2OdFZBAKjRpjg",
            "name": "Reusable: Validate Meter",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "default_action": {
                        "transition": {
                            "ref": "g1URk1CxRmaZ6ad3S6UWtw",
                            "route": "f/s/g1URk1CxRmaZ6ad3S6UWtw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "yktWJydyReO0b2vX-UrC6g",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Thank you for using Eskom Distribution!"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Back to menu",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vstr6QzpR2OdFZBAKjRpjg",
                    "workflow_name": "Reusable: Validate Meter"
                },
                {
                    "code": "trans.navigation = {\r\n    \"input\": \"menu\"\r\n}",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "g1URk1CxRmaZ6ad3S6UWtw",
                    "name": "Main menu",
                    "type": "decision",
                    "workflow_id": "vstr6QzpR2OdFZBAKjRpjg",
                    "workflow_name": "Reusable: Validate Meter"
                },
                {
                    "id": "UegRhB7MTNGZDiC_cZPs2w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.meter_number"
                            }
                        ],
                        "transition": {
                            "code": "trans.count += 1\r\ntrans.new_metres = []",
                            "ref": "q00kklhWThSfqhNoXJotEw",
                            "route": "f/s/q00kklhWThSfqhNoXJotEw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "UegRhB7MTNGZDiC_cZPs2w",
                            "route": "f/s/UegRhB7MTNGZDiC_cZPs2w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Meter not found.\r\n\r\nPlease enter the last 4 digits of your meter number:"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Metre not found",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "vstr6QzpR2OdFZBAKjRpjg",
                    "workflow_name": "Reusable: Validate Meter"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "7EkctITrT6CW3FeYQ_6bSg",
                    "name": "Return",
                    "type": "decision",
                    "workflow_id": "vstr6QzpR2OdFZBAKjRpjg",
                    "workflow_name": "Reusable: Validate Meter"
                },
                {
                    "code": "trans.found = False\r\nfor metre in trans.metres:\r\n    number = metre[\"meter_number\"].replace(\" \", \"\")\r\n    if number.endswith(trans.meter_number):\r\n        trans.found = metre\r\n    else:\r\n        trans.new_meters.append(metre)",
                    "decisions": [
                        {
                            "guard": "trans.count > 2",
                            "ref": "yktWJydyReO0b2vX-UrC6g",
                            "route": "f/s/yktWJydyReO0b2vX-UrC6g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.mtr = trans.found[\"meter_number\"]",
                            "guard": "trans.found",
                            "ref": "7EkctITrT6CW3FeYQ_6bSg",
                            "route": "f/s/7EkctITrT6CW3FeYQ_6bSg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.new_meters = []",
                            "ref": "UegRhB7MTNGZDiC_cZPs2w",
                            "route": "f/s/UegRhB7MTNGZDiC_cZPs2w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "q00kklhWThSfqhNoXJotEw",
                    "name": "Search metre",
                    "relatives": [
                        {
                            "location": "/editor/states/EMOTISphRkueJnsHiNunGg/#state:k9x60T_9T_u5HErhLr_VPQ",
                            "name": "Call metre validation"
                        },
                        {
                            "location": "/editor/states/Yrv1aSpNTKu-dlHaf7s0dQ/#state:K_KanE5nSzintCY0kHB12Q",
                            "name": "Call metre validation"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "vstr6QzpR2OdFZBAKjRpjg",
                    "workflow_name": "Reusable: Validate Meter"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "2rLcZD71S7CZFagloWmr6w",
            "id": "h2dw_kvtR3eJU6PFUvTbGg",
            "name": "Reusable: Validate User",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.validated = False",
                            "guard": "trans.validation_counter >= 2",
                            "ref": "2sp_1j_oSVSRBtjQWMNbig",
                            "route": "f/s/2sp_1j_oSVSRBtjQWMNbig",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "trans.validated = True",
                            "guard": "trans.identifier == perm.customer.identifier",
                            "ref": "2sp_1j_oSVSRBtjQWMNbig",
                            "route": "f/s/2sp_1j_oSVSRBtjQWMNbig",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "HSh9GULZREGwArNXulOzyQ",
                            "route": "f/s/HSh9GULZREGwArNXulOzyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "8zH6lAZGQWqqSC8YyCSYAQ",
                    "name": "Check identifier",
                    "type": "decision",
                    "workflow_id": "h2dw_kvtR3eJU6PFUvTbGg",
                    "workflow_name": "Reusable: Validate User"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "type": "done"
                    },
                    "id": "2sp_1j_oSVSRBtjQWMNbig",
                    "name": "Done",
                    "type": "decision",
                    "workflow_id": "h2dw_kvtR3eJU6PFUvTbGg",
                    "workflow_name": "Reusable: Validate User"
                },
                {
                    "id": "2rLcZD71S7CZFagloWmr6w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.identifier"
                            }
                        ],
                        "transition": {
                            "ref": "8zH6lAZGQWqqSC8YyCSYAQ",
                            "route": "f/s/8zH6lAZGQWqqSC8YyCSYAQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2rLcZD71S7CZFagloWmr6w",
                            "route": "f/s/2rLcZD71S7CZFagloWmr6w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "{% if trans.validation_text %}{{ trans.validation_text}}{% else %}I\u2019m about to show you some sensitive information linked to your account, so I need you to confirm your identity.{% endif %}\r\n\r\nPlease send me your {% if perm.customer.citizen %}*ID number*{% else %}*company registration number*{% endif %}."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter identifier",
                    "relatives": [
                        {
                            "location": "/editor/states/ZGZGOPpkSH6LbhlJyF42wQ/#state:wDmFGwT-ToiUB60VQFNCww",
                            "name": "Call validate"
                        },
                        {
                            "location": "/editor/states/DK7u0cfPTxiY6jEW9uNKPA/#state:wWs5ASFWQ6G1dsM8jhbqZA",
                            "name": "Call validate"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "h2dw_kvtR3eJU6PFUvTbGg",
                    "workflow_name": "Reusable: Validate User"
                },
                {
                    "id": "HSh9GULZREGwArNXulOzyQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.identifier"
                            }
                        ],
                        "transition": {
                            "code": "trans.validation_counter += 1",
                            "ref": "8zH6lAZGQWqqSC8YyCSYAQ",
                            "route": "f/s/8zH6lAZGQWqqSC8YyCSYAQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "HSh9GULZREGwArNXulOzyQ",
                            "route": "f/s/HSh9GULZREGwArNXulOzyQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Thank you, {{user.username}}.\r\n\r\nUnfortunately {{trans.identifier}} isn\u2019t linked to your account, so I can\u2019t show you your bills. \r\n\r\nYou can *re-enter* the number if you think you made a mistake."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Wrong",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "h2dw_kvtR3eJU6PFUvTbGg",
                    "workflow_name": "Reusable: Validate User"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "Mzby_jYtQFObiSaX-NgXBQ",
            "id": "PXi9vnq7Qa6-Rfxp4YpgFw",
            "name": "Routing: Logged In",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {}",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "i491YA54SUGYKifwVYJSBA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was an NLU error."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "PXi9vnq7Qa6-Rfxp4YpgFw",
                    "workflow_name": "Routing: Logged In"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\"text\": trans.navigation.utterance\r\r}",
                    "code": "",
                    "format": "JSON",
                    "has_labels": true,
                    "headers": [
                        {
                            "key": "X-Auth-Token",
                            "value": "b2606e67-8341-4371-82e3-83fafd87c-QA"
                        }
                    ],
                    "id": "Mzby_jYtQFObiSaX-NgXBQ",
                    "input_variable": "trans.navigation.utterance",
                    "method": "POST",
                    "name": "Go to NLU for intent",
                    "on_error": {
                        "transition": {
                            "ref": "i491YA54SUGYKifwVYJSBA",
                            "route": "f/s/i491YA54SUGYKifwVYJSBA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.nlu_error"
                    },
                    "on_success": {
                        "transition": {
                            "code": "trans.navigation.update({\r\n    \"nlu_intent\": trans.nlu_intent\r\n})\r\ndel trans.nlu_intent",
                            "ref": "K6JIDWKoSG6usR68S6PANg",
                            "route": "f/s/K6JIDWKoSG6usR68S6PANg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.nlu_intent"
                    },
                    "relatives": [
                        {
                            "location": "/editor/states/E0w11JgoRRaVa3B6VYeFUw/#state:UAH-l7XuTYG6CHb7Q5Hmcg",
                            "name": "Already determined route"
                        },
                        {
                            "location": "/editor/states/E0w11JgoRRaVa3B6VYeFUw/#state:P-YfhGPCTEWIrZnVUb1ePg",
                            "name": "Route or answer"
                        }
                    ],
                    "resource": "https://nlu.feersum.io/nlu/v2/intent_classifiers/router/retrieve",
                    "retries": 0,
                    "retry": false,
                    "selected_nlu_model": "intent_classifier/router",
                    "simplify_result": true,
                    "timeout": 10,
                    "type": "nlu_call",
                    "workflow_id": "PXi9vnq7Qa6-Rfxp4YpgFw",
                    "workflow_name": "Routing: Logged In"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {}",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "BlWsEUKQQIKJN_rI93OZFg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was an error finding a route for {{trans.navigation.nlu_intent}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "I cannot route you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "PXi9vnq7Qa6-Rfxp4YpgFw",
                    "workflow_name": "Routing: Logged In"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"balances\"",
                            "label": "Accounts: Entrypoint",
                            "ref": "rQ44dYS7R5mGodDoGoBJDQ",
                            "route": "f/w/rQ44dYS7R5mGodDoGoBJDQ",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"faults\"",
                            "label": "Faults: Entrypoint",
                            "ref": "DnJU93jkRti5yzGjBDDjIQ",
                            "route": "f/w/DnJU93jkRti5yzGjBDDjIQ",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"metres\"",
                            "label": "Meters: Entrypoint",
                            "ref": "JkmlFYZERWmRYegDFq0ZgA",
                            "route": "f/w/JkmlFYZERWmRYegDFq0ZgA",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"information\"",
                            "label": "Profile: Entrypoint",
                            "ref": "DK7u0cfPTxiY6jEW9uNKPA",
                            "route": "f/w/DK7u0cfPTxiY6jEW9uNKPA",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"login\"",
                            "label": "Login: Entrypoint",
                            "ref": "OzxkVsL4TLanlQ6VqszbSg",
                            "route": "f/w/OzxkVsL4TLanlQ6VqszbSg",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"tokens\"",
                            "label": "Tokens: Entrypoint",
                            "ref": "zETuDg6gTTuSF9vIjOBk3w",
                            "route": "f/w/zETuDg6gTTuSF9vIjOBk3w",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"logout\"",
                            "label": "Users: Change Account",
                            "ref": "nXv5rj_BSlijKOCFyYjR2w",
                            "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent in [\"unsubscribe\", \"subscribe\"]",
                            "label": "HSMs: Entrypoint",
                            "ref": "AXo8S_QDS2uB9vCckrhQZw",
                            "route": "f/w/AXo8S_QDS2uB9vCckrhQZw",
                            "type": "workflow"
                        },
                        {
                            "code": "trans.navigation.pop(\"nlu_intent\", None)",
                            "guard": "trans.navigation.nlu_intent == \"menu\"",
                            "label": "Menu: Logged In",
                            "ref": "tKvsMyspQ2y0UBJH3bSN-w",
                            "route": "f/w/tKvsMyspQ2y0UBJH3bSN-w",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "BlWsEUKQQIKJN_rI93OZFg",
                            "route": "f/s/BlWsEUKQQIKJN_rI93OZFg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "K6JIDWKoSG6usR68S6PANg",
                    "name": "Route",
                    "type": "decision",
                    "workflow_id": "PXi9vnq7Qa6-Rfxp4YpgFw",
                    "workflow_name": "Routing: Logged In"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "4tBXYSw7RWuSODFkNg7nbA",
            "id": "TmJDywJkSLa4O5nM9zqftQ",
            "name": "Routing: Logged Out",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "default_action": {
                        "transition": {
                            "ref": "",
                            "type": null
                        },
                        "type": "continue"
                    },
                    "id": "4tBXYSw7RWuSODFkNg7nbA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "some text"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Default",
                    "type": "response",
                    "workflow_id": "TmJDywJkSLa4O5nM9zqftQ",
                    "workflow_name": "Routing: Logged Out"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "HWRbCIYkSSaq3XboC87zJQ",
            "id": "lQ1Aj5CESB650OQoOcRZAQ",
            "name": "Test: Dialog360",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "trans.attachment = trans.__previous_message_meta__.get(\"whatsapp\", {})\r\ntrans.location = trans.__previous_message_meta__.get(\"location\", {})",
                    "decisions": [
                        {
                            "code": "trans.type = \"image\"\r\ntrans.url = trans.attachment[\"image\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.image",
                            "ref": "66wmolWzTX2Yn57_MUva4g",
                            "route": "f/s/66wmolWzTX2Yn57_MUva4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.type = \"document\"\r\ntrans.url = trans.attachment[\"document\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.document",
                            "ref": "66wmolWzTX2Yn57_MUva4g",
                            "route": "f/s/66wmolWzTX2Yn57_MUva4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.type = \"video\"\r\ntrans.url = trans.attachment[\"video\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.video",
                            "ref": "66wmolWzTX2Yn57_MUva4g",
                            "route": "f/s/66wmolWzTX2Yn57_MUva4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.type = \"audio\"\r\ntrans.url = trans.attachment[\"audio\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.audio",
                            "ref": "66wmolWzTX2Yn57_MUva4g",
                            "route": "f/s/66wmolWzTX2Yn57_MUva4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.type = \"voice note\"\r\ntrans.url = trans.attachment[\"voice\"].get(\"url\", \"\")",
                            "guard": "trans.attachment.voice",
                            "ref": "66wmolWzTX2Yn57_MUva4g",
                            "route": "f/s/66wmolWzTX2Yn57_MUva4g",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.location",
                            "ref": "iWxW7D1hS6uvpKPp1AJHOQ",
                            "route": "f/s/iWxW7D1hS6uvpKPp1AJHOQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "7RB4ptinS3KZyQGIDQivIw",
                            "route": "f/s/7RB4ptinS3KZyQGIDQivIw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "WhUjZmmKSD2J5vVg700pDQ",
                    "name": "Assess media",
                    "type": "decision",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "N-xE1Dz4QbWzvtxoQjbOHw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "N-xE1Dz4QbWzvtxoQjbOHw",
                            "route": "f/s/N-xE1Dz4QbWzvtxoQjbOHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"mime_type\": \"audio/mp3\",\r\n        \"media\": \"https://storage.googleapis.com/io-dstv-content-qa-media/images/ReelAudio-81313.mp3\"\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Audio",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                            "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "MyIwP95wRoqhd2VxCIemzg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I could not reverse geocode {{trans.add}}"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Can't reverse geocode",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "code": "trans.latitude, *trans.longitude = trans.latlong.split(\":\")",
                    "decisions": [
                        {
                            "code": "trans.longitude = trans.longitude[0]\r\nif not trans.address:\r\n    trans.address = trans.__previous_message_meta__.get(\"location\", {})",
                            "guard": "trans.longitude",
                            "ref": "iWxW7D1hS6uvpKPp1AJHOQ",
                            "route": "f/s/iWxW7D1hS6uvpKPp1AJHOQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = trans.latlong",
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "PKdoOqsmSEG4wo9ZzwdAEg",
                    "name": "Check location",
                    "type": "decision",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "m9CpdaJUQAKI582jLCZ4ng",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "m9CpdaJUQAKI582jLCZ4ng",
                            "route": "f/s/m9CpdaJUQAKI582jLCZ4ng",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "XIdnj78VRoOHs5hSCxWPZg",
                                            "style": "",
                                            "text": "Open facebook",
                                            "type": "url",
                                            "url": {
                                                "ref": "https://facebook.com",
                                                "type": "url"
                                            }
                                        }
                                    ],
                                    "style": "",
                                    "text": "This is a URL node that is hiding a link for _facebook_. If pressed it will either open facebook on your phone or on the browser depending on your permissions."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "CTA button",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "RCo_BKsETtmhxQ_bB7ZHew",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.input"
                            }
                        ],
                        "transition": {
                            "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                            "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                            "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"title\": \"This is a standalone document without buttons. Type anything to continue\",\r\n        \"mime_type\": \"application/pdf\",\r\n        \"media\": \"https://storage.googleapis.com/io-dstv-content-qa-media/documents/Applying_for_lic_or_ID_SOS_428.pdf\"\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Document",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "7DZs2QNoQImDit9W17YKXw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7DZs2QNoQImDit9W17YKXw",
                            "route": "f/s/7DZs2QNoQImDit9W17YKXw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': 'This is a document with buttons',\r\n            'document': 'https://storage.googleapis.com/io-dstv-content-qa-media/documents/Applying_for_lic_or_ID_SOS_428.pdf',\r\n            'buttons': [\r\n                transition('ID_OK', 'Main menu', code='trans.utterance=\"menu\"'),\r\n                transition('ID_NO', 'Back to testing'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_MENU",
                                        "transition": {
                                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_BUTTONS",
                                        "transition": {
                                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Document with buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "jd0rMfZvQXqaq3ivPADRTw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "AqZ8TIomQ_6-yBcgIpVEwQ",
                            "route": "f/s/AqZ8TIomQ_6-yBcgIpVEwQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WhUjZmmKSD2J5vVg700pDQ",
                            "route": "f/s/WhUjZmmKSD2J5vVg700pDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Enter you image file here."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter an image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "-q7RL6q4QPyUmPBzHhAXsg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.latlong"
                            }
                        ],
                        "transition": {
                            "ref": "PKdoOqsmSEG4wo9ZzwdAEg",
                            "route": "f/s/PKdoOqsmSEG4wo9ZzwdAEg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WhUjZmmKSD2J5vVg700pDQ",
                            "route": "f/s/WhUjZmmKSD2J5vVg700pDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Enter anything and let's try to classify it."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter anything",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "RmX0IXFKTa2yhyIBE0WY2w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "AqZ8TIomQ_6-yBcgIpVEwQ",
                            "route": "f/s/AqZ8TIomQ_6-yBcgIpVEwQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WhUjZmmKSD2J5vVg700pDQ",
                            "route": "f/s/WhUjZmmKSD2J5vVg700pDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "You can send your audio file here."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter audio",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "5rQVZdDUSPes8h3qjBFsGQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "AqZ8TIomQ_6-yBcgIpVEwQ",
                            "route": "f/s/AqZ8TIomQ_6-yBcgIpVEwQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WhUjZmmKSD2J5vVg700pDQ",
                            "route": "f/s/WhUjZmmKSD2J5vVg700pDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "You can enter your document here."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter document",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "OfhamItfS-Cbq6YdBkXhxw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.location"
                            }
                        ],
                        "transition": {
                            "code": "trans.latitude, *trans.longitude = trans.location.split(\":\")\r\nif trans.longitude:\r\n    trans.longitude = trans.longitude[0]",
                            "ref": "fodR_81DRfCKwuk9uC94RA",
                            "route": "f/s/fodR_81DRfCKwuk9uC94RA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WhUjZmmKSD2J5vVg700pDQ",
                            "route": "f/s/WhUjZmmKSD2J5vVg700pDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please enter you location below either via address text or map."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter location",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "58zJ-bS8S1yhbqFDWajFLA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "58zJ-bS8S1yhbqFDWajFLA",
                            "route": "f/s/58zJ-bS8S1yhbqFDWajFLA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Enter text here so I can route you to the relevant menu."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter text",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "17Ebwo9TQZ-BPNiTLN3b4w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "AqZ8TIomQ_6-yBcgIpVEwQ",
                            "route": "f/s/AqZ8TIomQ_6-yBcgIpVEwQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WhUjZmmKSD2J5vVg700pDQ",
                            "route": "f/s/WhUjZmmKSD2J5vVg700pDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "You can send your video file here."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter video",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "key = \"AIzaSyBPiom5smBrEzMpe6ju3IL3NzCoan9UmWY\"\r\nif trans.longitude:\r\n    trans.maps_url = \"https://maps.googleapis.com/maps/api/geocode/json?key=\" + key + \"&latlng=\" + trans.latitude + \", \" + trans.longitude\r\nelse:\r\n    trans.add = trans.location + \", ZA\"\r\n    trans.maps_url = \"https://maps.googleapis.com/maps/api/geocode/json?key=\" + key + \"&address=\" + trans.add",
                    "format": null,
                    "id": "fodR_81DRfCKwuk9uC94RA",
                    "method": "GET",
                    "name": "Get cordinates",
                    "on_error": {
                        "transition": {
                            "ref": "MyIwP95wRoqhd2VxCIemzg",
                            "route": "f/s/MyIwP95wRoqhd2VxCIemzg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "E4WYCN0sQ9argLeyUvw8lA",
                            "route": "f/s/E4WYCN0sQ9argLeyUvw8lA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.geolocation"
                    },
                    "resource": "{{trans.maps_url}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "geolocation = trans.geolocation.results[0][\"geometry\"][\"location\"]\r\ntrans.latitude = str(geolocation[\"lat\"])\r\ntrans.longitude = str(geolocation[\"lng\"])\r\ntrans.address = trans.geolocation.results[0][\"formatted_address\"]",
                            "guard": "trans.geolocation.results",
                            "ref": "A6wjB8pMRK6z7emezDtgQA",
                            "route": "f/s/A6wjB8pMRK6z7emezDtgQA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "MyIwP95wRoqhd2VxCIemzg",
                            "route": "f/s/MyIwP95wRoqhd2VxCIemzg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "E4WYCN0sQ9argLeyUvw8lA",
                    "name": "Google maps success?",
                    "type": "decision",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "7VUzGPRgQAa9x9w2ac6mog",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7VUzGPRgQAa9x9w2ac6mog",
                            "route": "f/s/7VUzGPRgQAa9x9w2ac6mog",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "3sN7NF0NT56e6MlGikwzTw",
                                            "style": "list",
                                            "text": "Single button",
                                            "transition": {
                                                "ref": "8VpUy3OSR3CL6zsL6kjjDQ",
                                                "route": "f/s/8VpUy3OSR3CL6zsL6kjjDQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Xqm2FDk6RxmaxUaNuatyhA",
                                            "style": "list",
                                            "text": "Two buttons",
                                            "transition": {
                                                "ref": "g3zZvmZYSy-x8yDz28LrXg",
                                                "route": "f/s/g3zZvmZYSy-x8yDz28LrXg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "yoZE2KzcQQSXsJ4naFEBRQ",
                                            "style": "list",
                                            "text": "Three buttons",
                                            "transition": {
                                                "ref": "jqsiH7k4RyGxAjq7g7X4ZA",
                                                "route": "f/s/jqsiH7k4RyGxAjq7g7X4ZA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "You can select a render of either a single button, two buttons or three buttons.\r\n\r\n_*Note:* This represents a plain list, which can also be rendered as 3 buttons_"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "How many",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "h3Vq-o8QTYyHUsIA3wSiFg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.input"
                            }
                        ],
                        "transition": {
                            "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                            "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                            "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"title\": \"This is a standalone image without buttons. Type anything to continue\",\r\n        \"mime_type\": \"image/jpg\",\r\n        \"media\": \"https://storage.googleapis.com/io-dstv-content-prd-media/shaka_campaign/Shaka-02.jpg\"\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "2DOf2DonSzW6jgidsVHRFA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2DOf2DonSzW6jgidsVHRFA",
                            "route": "f/s/2DOf2DonSzW6jgidsVHRFA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': 'This is a video with buttons',\r\n            'image': 'https://storage.googleapis.com/io-dstv-content-prd-media/shaka_campaign/Shaka-02.jpg',\r\n             'buttons': [\r\n                transition('ID_OK', 'Main menu', code='trans.utterance=\"menu\"'),\r\n                transition('ID_NO', 'Back to testing'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_OK",
                                        "transition": {
                                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_NO",
                                        "transition": {
                                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Image with buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "f8_et368RAyNvA7szSmNIg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "f8_et368RAyNvA7szSmNIg",
                            "route": "f/s/f8_et368RAyNvA7szSmNIg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "xHq46ouKRsipgvkRMIyEwg",
                                            "style": "list",
                                            "tag": "Media",
                                            "text": "Audio",
                                            "transition": {
                                                "code": "trans.desc__ = \"Test with an audio file.\"",
                                                "ref": "RmX0IXFKTa2yhyIBE0WY2w",
                                                "route": "f/s/RmX0IXFKTa2yhyIBE0WY2w",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ojS-tSvYT-66akyv024Bag",
                                            "style": "list",
                                            "tag": "Media",
                                            "text": "Video",
                                            "transition": {
                                                "code": "trans.desc__ = \"Test with a video file.\"",
                                                "ref": "17Ebwo9TQZ-BPNiTLN3b4w",
                                                "route": "f/s/17Ebwo9TQZ-BPNiTLN3b4w",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "fz706sXmSg68zGZnrbHjKQ",
                                            "style": "list",
                                            "tag": "Media",
                                            "text": "Image",
                                            "transition": {
                                                "code": "trans.desc__ = \"Test with an image file.\"",
                                                "ref": "jd0rMfZvQXqaq3ivPADRTw",
                                                "route": "f/s/jd0rMfZvQXqaq3ivPADRTw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "pZ0zGkr-SLmcPmy5oKL4Bg",
                                            "style": "list",
                                            "tag": "Media",
                                            "text": "File",
                                            "transition": {
                                                "code": "trans.desc__ = \"Test with a document.\"",
                                                "ref": "5rQVZdDUSPes8h3qjBFsGQ",
                                                "route": "f/s/5rQVZdDUSPes8h3qjBFsGQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "DIoM74yzTuSMrsB1muphig",
                                            "style": "list",
                                            "tag": "Location",
                                            "text": "Location",
                                            "transition": {
                                                "code": "trans.desc__ = \"Test locations and location requests.\"",
                                                "ref": "OfhamItfS-Cbq6YdBkXhxw",
                                                "route": "f/s/OfhamItfS-Cbq6YdBkXhxw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "R4hMoG71Rn-ezpPLxMERBg",
                                            "style": "list",
                                            "tag": "Location",
                                            "text": "Location request",
                                            "transition": {
                                                "ref": "qNGG2O7RRJmgsexl0QK-BQ",
                                                "route": "f/s/qNGG2O7RRJmgsexl0QK-BQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "oEv7kGjyT4mA6nPayv0rmA",
                                            "style": "list",
                                            "tag": "Other",
                                            "text": "Text",
                                            "transition": {
                                                "code": "trans.desc__ = \"Enter normal text.\"",
                                                "ref": "58zJ-bS8S1yhbqFDWajFLA",
                                                "route": "f/s/58zJ-bS8S1yhbqFDWajFLA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "NfYrmLhtQ6KB6-C2s0BOWg",
                                            "style": "list",
                                            "tag": "Other",
                                            "text": "Feeling lucky!",
                                            "transition": {
                                                "code": "trans.desc__ = \"Enter a random entity and lets try and classify it.\"",
                                                "ref": "-q7RL6q4QPyUmPBzHhAXsg",
                                                "route": "f/s/-q7RL6q4QPyUmPBzHhAXsg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ZHxgxTWEQ-K7PQCv8Q-Vfw",
                                            "style": "list",
                                            "tag": "Navigation",
                                            "text": "Back to testing",
                                            "transition": {
                                                "code": "trans.desc__ = \"Back to testing menu.\"",
                                                "ref": "HWRbCIYkSSaq3XboC87zJQ",
                                                "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ONnDAP9jSriee6WPq_-j0g",
                                            "style": "list",
                                            "tag": "Navigation",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.desc__ = \"Back to main menu.\"\r\ntrans.utterance = \"menu\"",
                                                "ref": "qtkkJYMyQJisGYUxV910Pg",
                                                "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Select an input type you would like to test from the options below. Use low memory files please.",
                                    "title": "Select input"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Inputs",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "iWxW7D1hS6uvpKPp1AJHOQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "iWxW7D1hS6uvpKPp1AJHOQ",
                            "route": "f/s/iWxW7D1hS6uvpKPp1AJHOQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "28eH2GyaSIaE1Bu28SrXTQ",
                                            "style": "",
                                            "text": "Back to testing",
                                            "transition": {
                                                "ref": "HWRbCIYkSSaq3XboC87zJQ",
                                                "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "yiW75PQ_QJSyljDUSHmbdQ",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "qtkkJYMyQJisGYUxV910Pg",
                                                "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "You have entered a location!\r\n_The latitude is *{{trans.latitude}}*_\r\n_The longitude is *{{trans.longitude}}*_\r\n\r\nActual address:\r\n*{{trans.address}}*\r\n\r\nAddresses are reverse geocoded and may be off by a few units."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Location entered",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "qNGG2O7RRJmgsexl0QK-BQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.latlong"
                            },
                            {
                                "extractor": "gecoding",
                                "output_handler": "formatted_address",
                                "var": "trans.address"
                            }
                        ],
                        "transition": {
                            "ref": "PKdoOqsmSEG4wo9ZzwdAEg",
                            "route": "f/s/PKdoOqsmSEG4wo9ZzwdAEg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "qNGG2O7RRJmgsexl0QK-BQ",
                            "route": "f/s/qNGG2O7RRJmgsexl0QK-BQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "C4LY_IxMSiGbWX3AmjDnZw",
                                            "style": "",
                                            "text": "Location request",
                                            "type": "location"
                                        }
                                    ],
                                    "style": "",
                                    "text": "We require your location, you can send it below or type any word to cancel."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Location request",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "9C7y2QupTwGSTwot7AxDKQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "9C7y2QupTwGSTwot7AxDKQ",
                            "route": "f/s/9C7y2QupTwGSTwot7AxDKQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "wCOXDFRwRS2GhnhciYuGPw",
                                            "style": "",
                                            "text": "Image",
                                            "transition": {
                                                "ref": "2DOf2DonSzW6jgidsVHRFA",
                                                "route": "f/s/2DOf2DonSzW6jgidsVHRFA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Vt_-rMZ0QsmrjtSiU7NpoQ",
                                            "style": "",
                                            "text": "Document",
                                            "transition": {
                                                "ref": "7DZs2QNoQImDit9W17YKXw",
                                                "route": "f/s/7DZs2QNoQImDit9W17YKXw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "9m0soTq7T9O3Vfn_t1YTRA",
                                            "style": "",
                                            "text": "Video",
                                            "transition": {
                                                "ref": "vYE5pSjOTGmIvbraBGJ4bg",
                                                "route": "f/s/vYE5pSjOTGmIvbraBGJ4bg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "images, Documents and Videos can have buttons if they are defined as headers. Select a render below",
                                    "title": "See headers"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Media with buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "mk6fLMM9SnmGuw5ICRj3Ow",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "mk6fLMM9SnmGuw5ICRj3Ow",
                            "route": "f/s/mk6fLMM9SnmGuw5ICRj3Ow",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "JOsUNV13SByyACa0XOdQoQ",
                                            "style": "list",
                                            "text": "Image",
                                            "transition": {
                                                "ref": "h3Vq-o8QTYyHUsIA3wSiFg",
                                                "route": "f/s/h3Vq-o8QTYyHUsIA3wSiFg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mE3KBqFFT2WjCxdtCOPu0Q",
                                            "style": "list",
                                            "text": "Document",
                                            "transition": {
                                                "ref": "RCo_BKsETtmhxQ_bB7ZHew",
                                                "route": "f/s/RCo_BKsETtmhxQ_bB7ZHew",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Xepstse5TkiN3QOrQx2txA",
                                            "style": "list",
                                            "text": "Video",
                                            "transition": {
                                                "ref": "NPHAqqZ0QLaNJutF708lFQ",
                                                "route": "f/s/NPHAqqZ0QLaNJutF708lFQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "kMrnpgvjTbW0T04I0fHyGw",
                                            "style": "list",
                                            "text": "Audio",
                                            "transition": {
                                                "ref": "N-xE1Dz4QbWzvtxoQjbOHw",
                                                "route": "f/s/N-xE1Dz4QbWzvtxoQjbOHw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "In the case where no buttons are required with media, we can render media with just captions and move on to the next node. select a render below.\r\n\r\n_*Note:* Captions are not necessary_",
                                    "title": "Select media"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Plain media",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                            "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "31gwSdabQgiB3oDy-vh9cA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "preview",
                                    "text": "This render can preview a URL if said URL is previewable i.e not hidden behind some auth process.\r\n\r\nhttps://www.youtube.com/watch?v=MQX4b_ornj4"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Preview",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "66wmolWzTX2Yn57_MUva4g",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.input"
                            }
                        ],
                        "transition": {
                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                            "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "WhUjZmmKSD2J5vVg700pDQ",
                            "route": "f/s/WhUjZmmKSD2J5vVg700pDQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "aU5fmlhYR6qY5hw3-lG4Mg",
                                            "style": "",
                                            "text": "Get {{trans.type}} here",
                                            "type": "url",
                                            "url": {
                                                "ref": "{{trans.url}}",
                                                "type": "url"
                                            }
                                        }
                                    ],
                                    "style": "",
                                    "text": "Your media is of type : {{trans.type}}\r\n\r\nEnter any text to go to the testing menu or more media to test."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render media details",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "HWRbCIYkSSaq3XboC87zJQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                            "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "HHwDXMpzTkS33d11ELLFEQ",
                                            "style": "",
                                            "text": "Renders",
                                            "transition": {
                                                "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                                                "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "f5kVpnG2Rv2YIRmKhC3t-Q",
                                            "style": "",
                                            "text": "Inputs",
                                            "transition": {
                                                "ref": "f8_et368RAyNvA7szSmNIg",
                                                "route": "f/s/f8_et368RAyNvA7szSmNIg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "0SjunX5pQGqsWVDBDuidaQ",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "qtkkJYMyQJisGYUxV910Pg",
                                                "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Select an option between renders and inputs. Renders show how entities look on Whatsapp while inputs show what type of entities you can send to Whatsapp."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Renders or inputs",
                    "relatives": [
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        },
                        {
                            "location": "/editor/states/PuI-bXqSTEGJjio6ySMdSA/#state:wkXegw0tThWkOBp56B1KyQ",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "del trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "qtkkJYMyQJisGYUxV910Pg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "2bdRlqXVTo2E5Sb9LTngHw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                            "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Ghr6Gu1yTaGQls8_BJRJHg",
                                            "style": "list",
                                            "tag": "Buttons",
                                            "text": "Buttons",
                                            "transition": {
                                                "ref": "7VUzGPRgQAa9x9w2ac6mog",
                                                "route": "f/s/7VUzGPRgQAa9x9w2ac6mog",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "LGDRdQLaRWSHYjssUOTDfg",
                                            "style": "list",
                                            "tag": "Buttons",
                                            "text": "Plain list",
                                            "transition": {
                                                "ref": "7VUzGPRgQAa9x9w2ac6mog",
                                                "route": "f/s/7VUzGPRgQAa9x9w2ac6mog",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "uoSnJCtQRU6DZBn2AnascQ",
                                            "style": "list",
                                            "tag": "Buttons",
                                            "text": "Sectioned list",
                                            "transition": {
                                                "ref": "f8_et368RAyNvA7szSmNIg",
                                                "route": "f/s/f8_et368RAyNvA7szSmNIg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mLdwqdc_RaWw5Pp9vHGQ-w",
                                            "style": "list",
                                            "tag": "Media",
                                            "text": "Media with buttons",
                                            "transition": {
                                                "ref": "9C7y2QupTwGSTwot7AxDKQ",
                                                "route": "f/s/9C7y2QupTwGSTwot7AxDKQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "5jGUITdcRXCmtQ-wTnCeGA",
                                            "style": "list",
                                            "tag": "Media",
                                            "text": "Plain media",
                                            "transition": {
                                                "ref": "mk6fLMM9SnmGuw5ICRj3Ow",
                                                "route": "f/s/mk6fLMM9SnmGuw5ICRj3Ow",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "G2pD4tJpRQ2s6jqVZ854AQ",
                                            "style": "list",
                                            "tag": "URL",
                                            "text": "URL preview",
                                            "transition": {
                                                "ref": "31gwSdabQgiB3oDy-vh9cA",
                                                "route": "f/s/31gwSdabQgiB3oDy-vh9cA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mNh7z8VRS8yTFcpQ_GQbgg",
                                            "style": "list",
                                            "tag": "URL",
                                            "text": "Hidden URL",
                                            "transition": {
                                                "ref": "m9CpdaJUQAKI582jLCZ4ng",
                                                "route": "f/s/m9CpdaJUQAKI582jLCZ4ng",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "K3SnBpIBQEyRf_fhiSHARQ",
                                            "style": "list",
                                            "tag": "Locations",
                                            "text": "Location",
                                            "transition": {
                                                "code": "trans.latitude = \"-26.087131316726\"\r\ntrans.longitude = \"27.963902838528\"\r\ntrans.description = \"Liberty Church\"\r\ntrans.address = \"283 President Fouche Dr, Bromhof, Randburg, 2188, South Africa\"",
                                                "ref": "A6wjB8pMRK6z7emezDtgQA",
                                                "route": "f/s/A6wjB8pMRK6z7emezDtgQA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "RhGKKhuDTwiYOfNgEInt4g",
                                            "style": "list",
                                            "tag": "Navigation",
                                            "text": "Back to testing",
                                            "transition": {
                                                "code": "trans.desc__ = \"Back to testing menu.\"",
                                                "ref": "HWRbCIYkSSaq3XboC87zJQ",
                                                "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "AbnhoTT6QwufoCeVT1GLCQ",
                                            "style": "list",
                                            "tag": "Navigation",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.desc__ = \"Back to main menu.\"\r\ntrans.utterance = \"menu\"",
                                                "ref": "qtkkJYMyQJisGYUxV910Pg",
                                                "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Find a render below that you would like to test.",
                                    "title": "Select render"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Select render",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "iWxW7D1hS6uvpKPp1AJHOQ",
                            "route": "f/s/iWxW7D1hS6uvpKPp1AJHOQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "A6wjB8pMRK6z7emezDtgQA",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"location\",\r\n    \"location\": {\r\n        \"latitude\": trans.latitude,\r\n        \"longitude\": trans.longitude,\r\n        \"name\": trans.description,\r\n        \"address\": trans.address\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Show address",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "8VpUy3OSR3CL6zsL6kjjDQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "8VpUy3OSR3CL6zsL6kjjDQ",
                            "route": "f/s/8VpUy3OSR3CL6zsL6kjjDQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "fb9qNN9jToqLA4eq8dJbSw",
                                            "style": "",
                                            "text": "Back",
                                            "transition": {
                                                "ref": "7VUzGPRgQAa9x9w2ac6mog",
                                                "route": "f/s/7VUzGPRgQAa9x9w2ac6mog",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "This is an example of a message containing only one button."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Single button",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "AqZ8TIomQ_6-yBcgIpVEwQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "You have entered the text: {{trans.utterance}}. I will try and route you."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Text entered",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "jqsiH7k4RyGxAjq7g7X4ZA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "jqsiH7k4RyGxAjq7g7X4ZA",
                            "route": "f/s/jqsiH7k4RyGxAjq7g7X4ZA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "bV_a5V8ARMOG6ADIlyLSjA",
                                            "style": "",
                                            "text": "Back",
                                            "transition": {
                                                "ref": "7VUzGPRgQAa9x9w2ac6mog",
                                                "route": "f/s/7VUzGPRgQAa9x9w2ac6mog",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "EU3qStumRMORl9iV4lq15g",
                                            "style": "",
                                            "text": "Back to testing",
                                            "transition": {
                                                "ref": "HWRbCIYkSSaq3XboC87zJQ",
                                                "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "HW8iXavaQP2MJI6_Vn5Dkw",
                                            "style": "",
                                            "text": "Main menu",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "qtkkJYMyQJisGYUxV910Pg",
                                                "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "This is an example of 3 buttons.\r\n\r\n_*Note:* Any number of buttons (< 11) can also be rendered as a list_"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Three buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "g3zZvmZYSy-x8yDz28LrXg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "g3zZvmZYSy-x8yDz28LrXg",
                            "route": "f/s/g3zZvmZYSy-x8yDz28LrXg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "oFdedtu1R_6ObALdHtKNVA",
                                            "style": "",
                                            "text": "Back",
                                            "transition": {
                                                "ref": "7VUzGPRgQAa9x9w2ac6mog",
                                                "route": "f/s/7VUzGPRgQAa9x9w2ac6mog",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "s9uB8NPvTm-ymfL2ssnVDg",
                                            "style": "",
                                            "text": "Three buttons",
                                            "transition": {
                                                "ref": "jqsiH7k4RyGxAjq7g7X4ZA",
                                                "route": "f/s/jqsiH7k4RyGxAjq7g7X4ZA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "In this case there are two buttons with a single message."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Two buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "NPHAqqZ0QLaNJutF708lFQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.input"
                            }
                        ],
                        "transition": {
                            "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                            "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2bdRlqXVTo2E5Sb9LTngHw",
                            "route": "f/s/2bdRlqXVTo2E5Sb9LTngHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"title\": \"This is a standalone video without buttons. Type anything to continue\",\r\n        \"mime_type\": \"video/mp4\",\r\n        \"media\": \"https://storage.googleapis.com/io-dstv-content-prd-media/namola_media/NAMOLA_ANYWHERE.mp4\"\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Video",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "id": "vYE5pSjOTGmIvbraBGJ4bg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                            "route": "f/s/qtkkJYMyQJisGYUxV910Pg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "vYE5pSjOTGmIvbraBGJ4bg",
                            "route": "f/s/vYE5pSjOTGmIvbraBGJ4bg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    'type': 'plain',  # plain, carousel, list\r\n    'pages': [\r\n        {\r\n            'text': 'This is a video with buttons',\r\n            'video': 'https://storage.googleapis.com/io-dstv-content-prd-media/namola_media/NAMOLA_ANYWHERE.mp4',\r\n            'buttons': [\r\n                transition('ID_OK', 'Main menu', code='trans.utterance=\"menu\"'),\r\n                transition('ID_NO', 'Back to testing'),\r\n            ]\r\n        }\r\n    ]\r\n}",
                                "transitions": [
                                    {
                                        "localid": "ID_OK",
                                        "transition": {
                                            "ref": "qtkkJYMyQJisGYUxV910Pg",
                                            "type": "state"
                                        }
                                    },
                                    {
                                        "localid": "ID_NO",
                                        "transition": {
                                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                                            "type": "state"
                                        }
                                    }
                                ]
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Video with buttons",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "HWRbCIYkSSaq3XboC87zJQ",
                            "route": "f/s/HWRbCIYkSSaq3XboC87zJQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "7RB4ptinS3KZyQGIDQivIw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "I do not know what you just entered."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Whats that?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "lQ1Aj5CESB650OQoOcRZAQ",
                    "workflow_name": "Test: Dialog360"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "0ETw_UXQRs-bURqOLf6pKg",
            "id": "zETuDg6gTTuSF9vIjOBk3w",
            "name": "Tokens: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller\r\ndel trans.route",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "0ETw_UXQRs-bURqOLf6pKg",
                            "route": "f/s/0ETw_UXQRs-bURqOLf6pKg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "rEdXhTuoR-ySF6_6Y0buUA",
                            "route": "f/s/rEdXhTuoR-ySF6_6Y0buUA",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "0ETw_UXQRs-bURqOLf6pKg",
                            "route": "f/s/0ETw_UXQRs-bURqOLf6pKg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "fqfwRHwwQa6YSFyGfYF2qg",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "zETuDg6gTTuSF9vIjOBk3w",
                    "workflow_name": "Tokens: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "rEdXhTuoR-ySF6_6Y0buUA",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "zETuDg6gTTuSF9vIjOBk3w",
                    "workflow_name": "Tokens: Entrypoint"
                },
                {
                    "id": "0ETw_UXQRs-bURqOLf6pKg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller = \"tokens\"",
                            "ref": "fqfwRHwwQa6YSFyGfYF2qg",
                            "route": "f/s/fqfwRHwwQa6YSFyGfYF2qg",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "0ETw_UXQRs-bURqOLf6pKg",
                            "route": "f/s/0ETw_UXQRs-bURqOLf6pKg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "cr7wpWUJSY6TERtsjSsgQA",
                                            "style": "",
                                            "text": "\u2757\ufe0f Log a token issue",
                                            "transition": {
                                                "label": "Tokens: Not Loading",
                                                "ref": "yKVQvykuR_Kcwzcjlpu69w",
                                                "route": "f/w/yKVQvykuR_Kcwzcjlpu69w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "7k884KjtT3uJgHstCVfNVw",
                                            "style": "",
                                            "text": "\ud83d\udd22 Recode my meter",
                                            "transition": {
                                                "label": "Tokens: Recode",
                                                "ref": "HV7mHXrgQAiLI2wSkU65ZA",
                                                "route": "f/w/HV7mHXrgQAiLI2wSkU65ZA",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "JvV63a79QfanMHhQE8uVlw",
                                            "style": "",
                                            "text": "\u2753 See FAQs",
                                            "transition": {
                                                "label": "Tokens: KRN",
                                                "ref": "djnYtnJFSyG_Q-UMTQgdQg",
                                                "route": "f/w/djnYtnJFSyG_Q-UMTQgdQg",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Sorry to hear you\u2019re having trouble loading your prepaid token.\r\n\r\nHow can I help you with that?\r\n\r\n\u26a0\ufe0f\ufe0f KRN Notice: All prepaid meters must be recoded by 24 November 2024. For more information see the KRN FAQs below."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Tokens menu",
                    "relatives": [
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        },
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:j-u8TCsWT7awCCHsixRY8A",
                            "name": "This meter"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:PsMsRhVgSMKhZgvG1QQR4A",
                            "name": "Recode meter"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "zETuDg6gTTuSF9vIjOBk3w",
                    "workflow_name": "Tokens: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "7FHEaq2MQLCvP16cFKZa8Q",
            "id": "djnYtnJFSyG_Q-UMTQgdQg",
            "name": "Tokens: KRN",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.text\r\ndel trans.url\r\ndel trans.button_1\r\ndel trans.button_2",
                    "decisions": [
                        {
                            "code": "del trans.button_one",
                            "guard": "trans.button_one",
                            "ref": "8xwV6B3DSOe5a_c4Vz2RRA",
                            "route": "f/s/8xwV6B3DSOe5a_c4Vz2RRA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        {
                            "code": "del trans.button_two",
                            "guard": "trans.button_two",
                            "label": "FAQS: Entrypoint",
                            "ref": "ehWkPYp5TOyOk2BVu3MpTg",
                            "route": "f/w/ehWkPYp5TOyOk2BVu3MpTg",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "Mqepun9wQJSFmYHpNbt4zg",
                            "route": "f/s/Mqepun9wQJSFmYHpNbt4zg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "7FHEaq2MQLCvP16cFKZa8Q",
                    "name": "Render KRN image",
                    "relatives": [
                        {
                            "location": "/editor/states/zETuDg6gTTuSF9vIjOBk3w/#state:0ETw_UXQRs-bURqOLf6pKg",
                            "name": "Tokens menu"
                        }
                    ],
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.text = \"I\u2019m glad you\u2019re taking the time to find out more about our massive KRN project.\\n\\nWould you like to see a video explaining how you can recode your meter or rather read the FAQs?\"\r\ntrans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/Why_KRN.jpg\"\r\ntrans.button_1 = \"\ud83c\udfa6 See video\"\r\ntrans.button_2 = \"\u2753 See FAQs\"",
                        "label": "Render: Image",
                        "ref": "le7tQ4smRwKS5z4QMFWu3w",
                        "route": "f/w/le7tQ4smRwKS5z4QMFWu3w",
                        "type": "workflow"
                    },
                    "workflow_id": "djnYtnJFSyG_Q-UMTQgdQg",
                    "workflow_name": "Tokens: KRN"
                },
                {
                    "code": "del trans.text\r\ndel trans.url\r\ndel trans.button_1\r\ndel trans.button_2\r\ndel trans.button_3",
                    "decisions": [
                        {
                            "code": "del trans.button_one",
                            "guard": "trans.button_one",
                            "label": "FAQS: Entrypoint",
                            "ref": "ehWkPYp5TOyOk2BVu3MpTg",
                            "route": "f/w/ehWkPYp5TOyOk2BVu3MpTg",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.button_two",
                            "guard": "trans.button_two",
                            "ref": "7FHEaq2MQLCvP16cFKZa8Q",
                            "route": "f/s/7FHEaq2MQLCvP16cFKZa8Q",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.button_three",
                            "guard": "trans.button_three",
                            "ref": "Mqepun9wQJSFmYHpNbt4zg",
                            "route": "f/s/Mqepun9wQJSFmYHpNbt4zg",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "Mqepun9wQJSFmYHpNbt4zg",
                            "route": "f/s/Mqepun9wQJSFmYHpNbt4zg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "8xwV6B3DSOe5a_c4Vz2RRA",
                    "name": "Render KRN video",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.text = \"If this video doesn\u2019t answer your questions, feel free to check out the FAQs too.\"\r\ntrans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/videos/recode_meter.mp4\"\r\ntrans.button_1 = \"\u2753 See FAQs\"\r\ntrans.button_2 = \"\u2b05\ufe0f Back\"\r\ntrans.button_3 = \"\ud83d\udd35 Main menu\"",
                        "label": "Render: Video",
                        "ref": "CDrNhS1KQzaA-KcxIyG_rA",
                        "route": "f/w/CDrNhS1KQzaA-KcxIyG_rA",
                        "type": "workflow"
                    },
                    "workflow_id": "djnYtnJFSyG_Q-UMTQgdQg",
                    "workflow_name": "Tokens: KRN"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "Mqepun9wQJSFmYHpNbt4zg",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "djnYtnJFSyG_Q-UMTQgdQg",
                    "workflow_name": "Tokens: KRN"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "j-u8TCsWT7awCCHsixRY8A",
            "id": "yKVQvykuR_Kcwzcjlpu69w",
            "name": "Tokens: Not Loading",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "_XIMir78Se6A2KfQkRgHeQ",
                            "route": "f/s/_XIMir78Se6A2KfQkRgHeQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "_XIMir78Se6A2KfQkRgHeQ",
                            "route": "f/s/_XIMir78Se6A2KfQkRgHeQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "bp-lLsVGQL-dwMSkru3lvA",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"Header\":{\r\n        \"Verb\":\"create\",\r\n        \"Noun\":\"CUSTOMER PREPAID TOKEN FAULT\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date_,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Payload\":{\r\n        \"Cases\":{\r\n            \"Case\":{\r\n                \"description\":trans.description,\r\n                \"serviceType\":\"FaultyPrepaidTokenCaseED\",\r\n                \"symptom\":\"100\",\r\n                \"Account\":{\r\n                    \"accountNumber\":perm.customer.account\r\n                },\r\n                \"Person\":{\r\n                    \"name\":trans.name\r\n                },\r\n                \"ServiceLocation\":{\r\n                    \"mRID\":perm.customer.premises[0][\"mrid\"],\r\n                    \"StreetAddress\":{\r\n                        \"stateOrProvince\":trans.province_name\r\n                    }\r\n                },\r\n                \"Status\":[\r\n                    {\r\n                        \"remark\":\"meterNumber\",\r\n                        \"value\":perm.customer.prepaid_meter\r\n                    },\r\n                    {\r\n                        \"remark\":\"tokenValue\",\r\n                        \"value\":trans.token\r\n                    },\r\n                    {\r\n                        \"remark\":\"vendorName\",\r\n                        \"value\":trans.vendor\r\n                    },\r\n                    {\r\n                        \"remark\":\"supplyGroupCode\",\r\n                        \"value\":trans.sgc\r\n                    },\r\n                    {\r\n                        \"remark\":\"tarriffIndex\",\r\n                        \"value\":trans.tic\r\n                    },\r\n                    {\r\n                        \"remark\":\"dateOfPurchase\",\r\n                        \"value\":str(trans.date)\r\n                    },\r\n                    {\r\n                        \"remark\":\"CELL\",\r\n                        \"value\":trans.msisdn\r\n                    }\r\n                ],\r\n                \"WorkRequest\":{\r\n                    \"StreetAddress\":{\r\n                        \"description\":trans.address\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                    "code": "trans.date_ = str(datetime.now())\r\ntrans.message_id = perm.msisdn_on_bot + \"-\" + trans.date_[0:16] + \"-\" + perm.customer[\"account\"]\r\ntrans.description = f\"Meter type: {trans.voltex}, Date of purchase: {trans.date}, Description: My prepaid token is not working\"\r\nif trans.url:\r\n    trans.description += \" - photo: \"\r\ntrans.province = trans.province.lower()\r\ntrans.payload = {\r\n    \"Header\":{\r\n        \"Verb\":\"create\",\r\n        \"Noun\":\"CUSTOMER PREPAID TOKEN FAULT\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date_,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Payload\":{\r\n        \"Cases\":{\r\n            \"Case\":{\r\n                \"description\":trans.description,\r\n                \"serviceType\":\"FaultyPrepaidTokenCaseED\",\r\n                \"symptom\":\"100\",\r\n                \"Account\":{\r\n                    \"accountNumber\":perm.customer.account\r\n                },\r\n                \"Person\":{\r\n                    \"name\":trans.name\r\n                },\r\n                \"ServiceLocation\":{\r\n                    \"mRID\":perm.customer.premises[0][\"mrid\"],\r\n                    \"StreetAddress\":{\r\n                        \"stateOrProvince\":trans.province_name\r\n                    }\r\n                },\r\n                \"Status\":[\r\n                    {\r\n                        \"remark\":\"meterNumber\",\r\n                        \"value\":perm.customer.prepaid_meter\r\n                    },\r\n                    {\r\n                        \"remark\":\"tokenValue\",\r\n                        \"value\":trans.token\r\n                    },\r\n                    {\r\n                        \"remark\":\"vendorName\",\r\n                        \"value\":trans.vendor\r\n                    },\r\n                    {\r\n                        \"remark\":\"supplyGroupCode\",\r\n                        \"value\":trans.sgc\r\n                    },\r\n                    {\r\n                        \"remark\":\"tarriffIndex\",\r\n                        \"value\":trans.tic\r\n                    },\r\n                    {\r\n                        \"remark\":\"dateOfPurchase\",\r\n                        \"value\":str(trans.date)\r\n                    },\r\n                    {\r\n                        \"remark\":\"CELL\",\r\n                        \"value\":trans.msisdn\r\n                    }\r\n                ],\r\n                \"WorkRequest\":{\r\n                    \"StreetAddress\":{\r\n                        \"description\":trans.address\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                    "format": "JSON",
                    "id": "ttA-mQo6R56CjTWQB694Pw",
                    "method": "POST",
                    "name": "API: Create Token fault",
                    "on_error": {
                        "transition": {
                            "ref": "4iRK3VB_TyKvPqCB_f_c1w",
                            "route": "f/s/4iRK3VB_TyKvPqCB_f_c1w",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "Ds_qFr0HSoWTdWtavs_Ygw",
                            "route": "f/s/Ds_qFr0HSoWTdWtavs_Ygw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.created"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/tokens?token=mock&province={{trans.province}}&account={{perm.customer.account}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 10,
                    "type": "api_call",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "kEEvKnD5SpeFU6UYl0s47Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"photo\"",
                            "ref": "bp-lLsVGQL-dwMSkru3lvA",
                            "route": "f/s/bp-lLsVGQL-dwMSkru3lvA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "kEEvKnD5SpeFU6UYl0s47Q",
                            "route": "f/s/kEEvKnD5SpeFU6UYl0s47Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "PoH5nSTWSBGoiJgs5xwk1g",
                                            "style": "",
                                            "text": "\ud83d\ude03 I do",
                                            "transition": {
                                                "ref": "Rji7w-fySgi9_0S5QHswnA",
                                                "route": "f/s/Rji7w-fySgi9_0S5QHswnA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "kID_nYv2SSmOgkg19emHZg",
                                            "style": "",
                                            "text": "\ud83d\ude41 I don\u2019t",
                                            "transition": {
                                                "ref": "ttA-mQo6R56CjTWQB694Pw",
                                                "route": "f/s/ttA-mQo6R56CjTWQB694Pw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Do you have a photo or screen shot of your token that you can share with me?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Ask for photo",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "del trans.date_prompt",
                    "decisions": [
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.navigation.utterance == \"success\"",
                            "ref": "bqxGzpmjTPukEoAhlD_I4Q",
                            "route": "f/s/bqxGzpmjTPukEoAhlD_I4Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.navigation.utterance == \"error\"",
                            "ref": "88z_FlUhRGOXk29p9smTSg",
                            "route": "f/s/88z_FlUhRGOXk29p9smTSg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.navigation = {}",
                            "guard": "trans.navigation.utterance == \"fail\"",
                            "ref": "Ok9SHTzrTjOvOa292If2GQ",
                            "route": "f/s/Ok9SHTzrTjOvOa292If2GQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = trans.navigation.utterance\r\ntrans.navigation = {}",
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "0VcVHkOVQS6s_um6n-zY8Q",
                    "name": "Call date",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.date_prompt = \"Please enter the purchase date in the following format:/n/n (dd.mm.yyyy)\"\r\ntrans.iso = True",
                        "label": "Reusable: Date Parser",
                        "ref": "8KU22WENSBa_uis6QT7usQ",
                        "route": "f/w/8KU22WENSBa_uis6QT7usQ",
                        "type": "workflow"
                    },
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "trans.ref = trans.created.reference_number",
                            "guard": "trans.created.reference_number",
                            "ref": "BNtLZvyoRYiy5K0nn-DDrQ",
                            "route": "f/s/BNtLZvyoRYiy5K0nn-DDrQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.created.status_code == 204",
                            "ref": "h3DJz-TPS2qZOrCYgIhNlg",
                            "route": "f/s/h3DJz-TPS2qZOrCYgIhNlg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "JmmfAnttToWhQH6paImOyg",
                            "route": "f/s/JmmfAnttToWhQH6paImOyg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Ds_qFr0HSoWTdWtavs_Ygw",
                    "name": "Check fault",
                    "type": "decision",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "perm.customer.voltex is None",
                            "ref": "8UJ4oLxoTBuWi5X32o9fUA",
                            "route": "f/s/8UJ4oLxoTBuWi5X32o9fUA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        {
                            "code": "trans.voltex = \"Voltex meter\"",
                            "guard": "perm.customer.voltex",
                            "ref": "7LCxc2XnRaSYVJ0EYRGFBw",
                            "route": "f/s/7LCxc2XnRaSYVJ0EYRGFBw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.voltex = \"Not a Voltex meter\"",
                            "ref": "7LCxc2XnRaSYVJ0EYRGFBw",
                            "route": "f/s/7LCxc2XnRaSYVJ0EYRGFBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "daBubu13SfenMpfzPIlx4A",
                    "name": "Check meter type",
                    "type": "decision",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "h3DJz-TPS2qZOrCYgIhNlg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"tokens\"",
                            "ref": "bp-lLsVGQL-dwMSkru3lvA",
                            "route": "f/s/bp-lLsVGQL-dwMSkru3lvA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "h3DJz-TPS2qZOrCYgIhNlg",
                            "route": "f/s/h3DJz-TPS2qZOrCYgIhNlg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "IHu2K8KYRAWIIHlGUhB1-Q",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                                                "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "ySels-eDRF-CyIwsL-_74g",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "88z_FlUhRGOXk29p9smTSg",
                                                "route": "f/s/88z_FlUhRGOXk29p9smTSg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Then we\u2019re all done here \u2013 thanks for sharing all these details with me, {{user.username}}.\r\n\r\nI\u2019m passing it onto our team to investigate, so please keep an eye out for an *SMS confirmation* from them. \ud83d\udc40\r\n\r\nIn the meantime, do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Created but no ref",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "BNtLZvyoRYiy5K0nn-DDrQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"tokens\"",
                            "ref": "bp-lLsVGQL-dwMSkru3lvA",
                            "route": "f/s/bp-lLsVGQL-dwMSkru3lvA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "BNtLZvyoRYiy5K0nn-DDrQ",
                            "route": "f/s/BNtLZvyoRYiy5K0nn-DDrQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "JjRo4dokQv633NpRS46djw",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                                                "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "OLlTeU7RS8OplrC807goKg",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "88z_FlUhRGOXk29p9smTSg",
                                                "route": "f/s/88z_FlUhRGOXk29p9smTSg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Then we\u2019re all done here \u2013 thanks for sharing all these details with me, {{user.username}}.\r\n\r\nI\u2019m passing it onto our team to investigate, so please keep an eye out for an *SMS confirmation* from them. \ud83d\udc40\r\n\r\nYour reference number is {{trans.ref}}.\r\n\r\nIn the meantime, do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Done",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "bqxGzpmjTPukEoAhlD_I4Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.name"
                            }
                        ],
                        "transition": {
                            "ref": "e9meIVb7QXODkz4Y_iHi7Q",
                            "route": "f/s/e9meIVb7QXODkz4Y_iHi7Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "bqxGzpmjTPukEoAhlD_I4Q",
                            "route": "f/s/bqxGzpmjTPukEoAhlD_I4Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK{% if user.username %}, {{user.username}}{% endif %}.\r\n\r\nNow I just need you to confirm a few personal details, and we\u2019ll be good to go. \ud83d\udcaa\r\n\r\nFirst, please send me your *full name*."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter full name(s)",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "e9meIVb7QXODkz4Y_iHi7Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.msisdn"
                            }
                        ],
                        "transition": {
                            "ref": "dBDm0NsMSdCmpJc-110hmQ",
                            "route": "f/s/dBDm0NsMSdCmpJc-110hmQ",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "e9meIVb7QXODkz4Y_iHi7Q",
                            "route": "f/s/e9meIVb7QXODkz4Y_iHi7Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "What\u2019s the best number to reach you on?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter number",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "JmmfAnttToWhQH6paImOyg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "JmmfAnttToWhQH6paImOyg",
                            "route": "f/s/JmmfAnttToWhQH6paImOyg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Y_acC6aHRw29gRr4v8Gp7A",
                                            "style": "",
                                            "text": "\ud83d\udd04 Try again",
                                            "transition": {
                                                "ref": "ttA-mQo6R56CjTWQB694Pw",
                                                "route": "f/s/ttA-mQo6R56CjTWQB694Pw",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "-ns1RG4JRLK5C7TjWP1rLg",
                                            "style": "",
                                            "text": "\u27a1\ufe0f No thanks",
                                            "transition": {
                                                "ref": "88z_FlUhRGOXk29p9smTSg",
                                                "route": "f/s/88z_FlUhRGOXk29p9smTSg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry, {{user.username}} \u2013 I'm struggling to connect to log your faulty prepaid token.\r\n\r\nWould you like to *try again*?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "del trans.primer_text",
                    "decisions": [
                        {
                            "guard": "trans.address",
                            "ref": "ER8e4kG8RVqFjArwO1K2Lg",
                            "route": "f/s/ER8e4kG8RVqFjArwO1K2Lg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.utterance == \"menu\"",
                            "ref": "88z_FlUhRGOXk29p9smTSg",
                            "route": "f/s/88z_FlUhRGOXk29p9smTSg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "dBDm0NsMSdCmpJc-110hmQ",
                    "name": "Get address",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.primer_text = \"Next, I just need to get your address.\\n\\nHow would you like to share this with me?\"",
                        "label": "Reusable: Get address",
                        "ref": "hvvxmTYVTEmfV5txhfWDKg",
                        "route": "f/w/hvvxmTYVTEmfV5txhfWDKg",
                        "type": "workflow"
                    },
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "del trans.url\r\ndel trans.text\r\ndel trans.button_1\r\ndel trans.button_2",
                    "decisions": [
                        {
                            "code": "trans.voltex = \"Voltex meter\"\r\nperm.customer.voltex = True\r\ndel trans.button_one",
                            "guard": "trans.button_one",
                            "ref": "7LCxc2XnRaSYVJ0EYRGFBw",
                            "route": "f/s/7LCxc2XnRaSYVJ0EYRGFBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "trans.voltex = \"Not a Voltex meter\"\r\nperm.customer.voltex = False\r\ndel trans.button_two",
                            "guard": "trans.button_two",
                            "ref": "7LCxc2XnRaSYVJ0EYRGFBw",
                            "route": "f/s/7LCxc2XnRaSYVJ0EYRGFBw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "8UJ4oLxoTBuWi5X32o9fUA",
                    "name": "Get voltex image",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/voltex_meter.png\"\r\ntrans.text = \"And is this a Voltex meter (like the one above \ud83d\udc46)?\"\r\ntrans.button_1 = \"\u2705 Yes\"\r\ntrans.button_2 = \"\u274c No\"\r\ndel trans.button_one\r\ndel trans.button_two",
                        "label": "Render: Image",
                        "ref": "le7tQ4smRwKS5z4QMFWu3w",
                        "route": "f/w/le7tQ4smRwKS5z4QMFWu3w",
                        "type": "workflow"
                    },
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "fWGN9i3OSySaKyD__H8CIw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "The account was not found."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "RkU_VwioSeyxgNd6Sihx_Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"cell no.\"",
                            "ref": "bp-lLsVGQL-dwMSkru3lvA",
                            "route": "f/s/bp-lLsVGQL-dwMSkru3lvA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "RkU_VwioSeyxgNd6Sihx_Q",
                            "route": "f/s/RkU_VwioSeyxgNd6Sihx_Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "LI-WKiINQo6re1AH7mnn4Q",
                                            "style": "",
                                            "text": "\ud83d\udc4d Use this one",
                                            "transition": {
                                                "code": "trans.msisdn = perm.msisdn_on_bot",
                                                "ref": "dBDm0NsMSdCmpJc-110hmQ",
                                                "route": "f/s/dBDm0NsMSdCmpJc-110hmQ",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "-RLxK4BfS5O4W8E-BEDcJw",
                                            "style": "",
                                            "text": "\u260e\ufe0f Another number",
                                            "transition": {
                                                "ref": "e9meIVb7QXODkz4Y_iHi7Q",
                                                "route": "f/s/e9meIVb7QXODkz4Y_iHi7Q",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "And is *{{perm.msisdn_on_bot}}* the best number to reach you on, or is there another number?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Phone number",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "aGptSo9IStCbfE1bbsdQWg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "This fault has already been logged."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Repeat call",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"meter\"",
                            "ref": "j-u8TCsWT7awCCHsixRY8A",
                            "route": "f/s/j-u8TCsWT7awCCHsixRY8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"date\"",
                            "ref": "0Q1f7Q9nSj6Hj0szjGQN5A",
                            "route": "f/s/0Q1f7Q9nSj6Hj0szjGQN5A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"cell no.\"",
                            "ref": "e9meIVb7QXODkz4Y_iHi7Q",
                            "route": "f/s/e9meIVb7QXODkz4Y_iHi7Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"photo\"",
                            "ref": "kEEvKnD5SpeFU6UYl0s47Q",
                            "route": "f/s/kEEvKnD5SpeFU6UYl0s47Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"tokens\"",
                            "ref": "Ds_qFr0HSoWTdWtavs_Ygw",
                            "route": "f/s/Ds_qFr0HSoWTdWtavs_Ygw",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "_XIMir78Se6A2KfQkRgHeQ",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.date\r\ndel trans.token\r\ndel trans.name\r\ndel trans.province\r\ndel trans.province_name\r\ndel trans.msisdn\r\ndel trans.utterance\r\ndel trans.address\r\ndel trans.created\r\ndel trans.date_\r\ndel trans.message_id\r\ndel trans.ref\r\ndel trans.vendor\r\ndel trans.sgc\r\ndel trans.tic\r\ndel trans.description\r\ndel trans.voltex",
                            "guard": "trans.utterance == \"sign_out\"",
                            "label": "Users: Change Account",
                            "ref": "nXv5rj_BSlijKOCFyYjR2w",
                            "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.date\r\ndel trans.token\r\ndel trans.name\r\ndel trans.province\r\ndel trans.province_name\r\ndel trans.msisdn\r\ndel trans.utterance\r\ndel trans.address\r\ndel trans.created\r\ndel trans.date_\r\ndel trans.message_id\r\ndel trans.ref\r\ndel trans.vendor\r\ndel trans.sgc\r\ndel trans.tic\r\ndel trans.voltex\r\ndel trans.description",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.date\r\ndel trans.token\r\ndel trans.name\r\ndel trans.province\r\ndel trans.province_name\r\ndel trans.msisdn\r\ndel trans.utterance\r\ndel trans.address\r\ndel trans.created\r\ndel trans.date_\r\ndel trans.message_id\r\ndel trans.ref\r\ndel trans.vendor\r\ndel trans.sgc\r\ndel trans.tic\r\ndel trans.description\r\ndel trans.voltex",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "Fb4EJWjlQPqVBO3gJHLbPw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "0Q1f7Q9nSj6Hj0szjGQN5A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"date\"",
                            "ref": "bp-lLsVGQL-dwMSkru3lvA",
                            "route": "f/s/bp-lLsVGQL-dwMSkru3lvA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "0Q1f7Q9nSj6Hj0szjGQN5A",
                            "route": "f/s/0Q1f7Q9nSj6Hj0szjGQN5A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "xUS5N-IrRpm__V87dP-_EQ",
                                            "style": "",
                                            "text": "\ud83d\udcc5 Today",
                                            "transition": {
                                                "code": "trans.input_date = \"today\"",
                                                "ref": "0VcVHkOVQS6s_um6n-zY8Q",
                                                "route": "f/s/0VcVHkOVQS6s_um6n-zY8Q",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "BzvDFIqqRyaW8JLLoSU5NQ",
                                            "style": "",
                                            "text": "\ud83d\uddd3\ufe0f Another date",
                                            "transition": {
                                                "ref": "0VcVHkOVQS6s_um6n-zY8Q",
                                                "route": "f/s/0VcVHkOVQS6s_um6n-zY8Q",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Can you tell me when you bought the token?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Select date",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "fVPZ8lihTEOsR-hg1-XXTw",
                            "route": "f/s/fVPZ8lihTEOsR-hg1-XXTw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "3AIScyaPTRq4UrUdgo0uEw",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"mime_type\": \"image/png\",\r\n        \"media\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/KRN_token_SGC_code.jpg\"\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "SGC Token Image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "fVPZ8lihTEOsR-hg1-XXTw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.sgc"
                            }
                        ],
                        "transition": {
                            "ref": "JIgIUhwjSzSSU4dmMAjrIA",
                            "route": "f/s/JIgIUhwjSzSSU4dmMAjrIA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "fVPZ8lihTEOsR-hg1-XXTw",
                            "route": "f/s/fVPZ8lihTEOsR-hg1-XXTw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please enter the *group supply code* \u2013 the image shows you where you can find it on the token slip"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Show SGC",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "ajbsOWD8TYStOp8neeVJew",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.tic"
                            }
                        ],
                        "transition": {
                            "ref": "kEEvKnD5SpeFU6UYl0s47Q",
                            "route": "f/s/kEEvKnD5SpeFU6UYl0s47Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ajbsOWD8TYStOp8neeVJew",
                            "route": "f/s/ajbsOWD8TYStOp8neeVJew",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please enter the *tariff index* \u2013 the image shows you where you can find it on the token slip"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Show tariff",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "Rji7w-fySgi9_0S5QHswnA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "file",
                                "output_handler": "attachment",
                                "var": "trans.url"
                            }
                        ],
                        "transition": {
                            "ref": "ttA-mQo6R56CjTWQB694Pw",
                            "route": "f/s/ttA-mQo6R56CjTWQB694Pw",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "SycS31YCTkiBJkDYmijdWA",
                            "route": "f/s/SycS31YCTkiBJkDYmijdWA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "attachment"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Please take a photo and send it to me now.\r\n\r\n_You can also upload a photo you took earlier._"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Take photo",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "default_action": {
                        "transition": {
                            "ref": "ajbsOWD8TYStOp8neeVJew",
                            "route": "f/s/ajbsOWD8TYStOp8neeVJew",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "JIgIUhwjSzSSU4dmMAjrIA",
                    "messages": [
                        {
                            "raw": {
                                "content": "{\r\n    \"type\": \"media\",\r\n    \"media\": {\r\n        \"mime_type\": \"image/png\",\r\n        \"media\": \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/KRN_token_TI.jpg\"\r\n    }\r\n}"
                            },
                            "type": "raw"
                        }
                    ],
                    "name": "Tarrif Image",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "88z_FlUhRGOXk29p9smTSg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "j-u8TCsWT7awCCHsixRY8A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"meter\"",
                            "ref": "bp-lLsVGQL-dwMSkru3lvA",
                            "route": "f/s/bp-lLsVGQL-dwMSkru3lvA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "j-u8TCsWT7awCCHsixRY8A",
                            "route": "f/s/j-u8TCsWT7awCCHsixRY8A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Wqb67EXzQ_uHxx-YIJzdIQ",
                                            "style": "",
                                            "text": "\u2705 That\u2019s correct",
                                            "transition": {
                                                "ref": "daBubu13SfenMpfzPIlx4A",
                                                "route": "f/s/daBubu13SfenMpfzPIlx4A",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "xakcKFtdR_q5XoDFuzbupA",
                                            "style": "",
                                            "text": "\ud83d\udd22 It\u2019s different",
                                            "transition": {
                                                "code": "trans.utterance = \"sign_out\"",
                                                "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                                                "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "d_ZGSaV_TMWT1hBxJFYJVg",
                                            "style": "",
                                            "text": "\ud83d\udd19",
                                            "transition": {
                                                "label": "Tokens: Entrypoint",
                                                "ref": "zETuDg6gTTuSF9vIjOBk3w",
                                                "route": "f/w/zETuDg6gTTuSF9vIjOBk3w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Alright, let\u2019s see if we can get that sorted for you...\r\n\r\nThe meter number I have for you is {{perm.customer.prepaid_meter}}.\r\n\r\nIs that correct?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "This meter",
                    "relatives": [
                        {
                            "location": "/editor/states/5hV5kwyLTHK0yXPTr9PF_g/#state:w0quhu5QTfmyfdjW9zk_bQ",
                            "name": "Render codes"
                        },
                        {
                            "location": "/editor/states/iwxrOjGeRraRi4ohz8ky5Q/#state:F1ID6SIsQpi2h-giF-8XFA",
                            "name": "Render codes"
                        },
                        {
                            "location": "/editor/states/3ohiD9ZiRiiP9kzA1rr1Gg/#state:5WnCBAFcT-ODN1dxd7h3Vw",
                            "name": "Call question"
                        },
                        {
                            "location": "/editor/states/zETuDg6gTTuSF9vIjOBk3w/#state:0ETw_UXQRs-bURqOLf6pKg",
                            "name": "Tokens menu"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "7LCxc2XnRaSYVJ0EYRGFBw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.token"
                            }
                        ],
                        "transition": {
                            "code": "if trans.token[0] not in ['R', 'r']:\r\n    trans.token = \"R\" + trans.token",
                            "ref": "0Q1f7Q9nSj6Hj0szjGQN5A",
                            "route": "f/s/0Q1f7Q9nSj6Hj0szjGQN5A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7LCxc2XnRaSYVJ0EYRGFBw",
                            "route": "f/s/7LCxc2XnRaSYVJ0EYRGFBw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Great!\r\n\r\nNow please enter the token number."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Token value",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "Ok9SHTzrTjOvOa292If2GQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "Fb4EJWjlQPqVBO3gJHLbPw",
                            "route": "f/s/Fb4EJWjlQPqVBO3gJHLbPw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Ok9SHTzrTjOvOa292If2GQ",
                            "route": "f/s/Ok9SHTzrTjOvOa292If2GQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "IlPgsT7zSRmH8d-pFii1bA",
                                            "style": "",
                                            "text": "Yes",
                                            "transition": {
                                                "ref": "0VcVHkOVQS6s_um6n-zY8Q",
                                                "route": "f/s/0VcVHkOVQS6s_um6n-zY8Q",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Tn3m3DfsQpaoVh_sQaPW0Q",
                                            "style": "",
                                            "text": "No",
                                            "transition": {
                                                "ref": "88z_FlUhRGOXk29p9smTSg",
                                                "route": "f/s/88z_FlUhRGOXk29p9smTSg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Would you like to try again entering the date?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Try again",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "trans.attachment = trans.__previous_message_meta__.get(\"whatsapp\", {})",
                    "decisions": [
                        {
                            "code": "trans.url = trans.url.get('url', '')",
                            "ref": "ttA-mQo6R56CjTWQB694Pw",
                            "route": "f/s/ttA-mQo6R56CjTWQB694Pw",
                            "statetype": "api_call",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "ttA-mQo6R56CjTWQB694Pw",
                            "route": "f/s/ttA-mQo6R56CjTWQB694Pw",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "SycS31YCTkiBJkDYmijdWA",
                    "name": "Validate photo",
                    "type": "decision",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "id": "ER8e4kG8RVqFjArwO1K2Lg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.vendor"
                            }
                        ],
                        "transition": {
                            "ref": "3AIScyaPTRq4UrUdgo0uEw",
                            "route": "f/s/3AIScyaPTRq4UrUdgo0uEw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ER8e4kG8RVqFjArwO1K2Lg",
                            "route": "f/s/ER8e4kG8RVqFjArwO1K2Lg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Where did you buy the token?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Vendor",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "fWGN9i3OSySaKyD__H8CIw",
                            "route": "f/s/fWGN9i3OSySaKyD__H8CIw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_.status_code == 409",
                            "ref": "aGptSo9IStCbfE1bbsdQWg",
                            "route": "f/s/aGptSo9IStCbfE1bbsdQWg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "JmmfAnttToWhQH6paImOyg",
                            "route": "f/s/JmmfAnttToWhQH6paImOyg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4iRK3VB_TyKvPqCB_f_c1w",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "yKVQvykuR_Kcwzcjlpu69w",
                    "workflow_name": "Tokens: Not Loading"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "PsMsRhVgSMKhZgvG1QQR4A",
            "id": "HV7mHXrgQAiLI2wSkU65ZA",
            "name": "Tokens: Recode",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "XB7mhUnbSu-k3wG81-BOfA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"tokens\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "XB7mhUnbSu-k3wG81-BOfA",
                            "route": "f/s/XB7mhUnbSu-k3wG81-BOfA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "F2pkzOujQauJ24uYJEyL2A",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                                                "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "tRlS0LsnSGiELq-i0WUTZQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "f1qbg0EcQDObgnea4wm37g",
                                                "route": "f/s/f1qbg0EcQDObgnea4wm37g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "All done!\r\n\r\nThank you for sharing those details with me, {{user.username}}.\r\n\r\nI\u2019ll get someone to look into this for you and get back to you via the cell no. provided \ud83d\udcf1\r\n\r\nIn the meantime, your reference number is {{trans.recode.reference_number}}\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "All done",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "del trans.caller",
                    "decisions": [
                        {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "guard": "trans.done or trans.error_",
                            "ref": "5FdfHVitQfmUk-7sbHJR1Q",
                            "route": "f/s/5FdfHVitQfmUk-7sbHJR1Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route\r\ndel trans.done\r\ndel trans.error_",
                            "guard": "trans.utterance",
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.done\r\ndel trans.error_\r\ndel trans.utterance",
                            "ref": "5FdfHVitQfmUk-7sbHJR1Q",
                            "route": "f/s/5FdfHVitQfmUk-7sbHJR1Q",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "RhZh_NyzRiOerN4ePQun7A",
                    "name": "Answer question",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.navigation = {}\r\ndel trans.route",
                        "label": "Reusable: FAQs",
                        "ref": "vVHPXRDBT16rn44A5A_0VA",
                        "route": "f/w/vVHPXRDBT16rn44A5A_0VA",
                        "type": "workflow"
                    },
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "blob": "{\r\n    \"Header\":{\r\n        \"Verb\":\"create\",\r\n        \"Noun\":\"CUSTOMER PREPAID TOKEN FAULT\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date_,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Payload\":{\r\n        \"Cases\":{\r\n            \"Case\":{\r\n                \"description\":trans.description,\r\n                \"serviceType\":\"FaultyPrepaidTokenCaseED\",\r\n                \"symptom\":\"101\",\r\n                \"Account\":{\r\n                    \"accountNumber\":perm.customer.account\r\n                },\r\n                \"Person\":{\r\n                    \"name\":trans.full_name\r\n                },\r\n                \"ServiceLocation\":{\r\n                    \"mRID\": perm.customer.premises[0][\"mrid\"],\r\n                    \"StreetAddress\":{\r\n                        \"stateOrProvince\":trans.province_name\r\n                    }\r\n                },\r\n                \"Status\":[\r\n                    {\r\n                        \"remark\":\"meterNumber\",\r\n                        \"value\":perm.customer.prepaid_meter\r\n                    },\r\n                    {\r\n                        \"remark\":\"CELL\",\r\n                        \"value\":trans.msisdn\r\n                    }\r\n                ],\r\n                \"WorkRequest\":{\r\n                    \"StreetAddress\":{\r\n                        \"description\":trans.address\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                    "code": "trans.date_ = str(datetime.now())\r\ntrans.message_id = perm.msisdn_on_bot + \"-\" + trans.date_[0:16] + \"-\" + perm.customer[\"account\"]\r\ntrans.description = f\"Meter type: {trans.voltex}, Description: Meter recode\"\r\ntrans.province = trans.province.lower()\r\ntrans.payload = {\r\n    \"Header\":{\r\n        \"Verb\":\"create\",\r\n        \"Noun\":\"CUSTOMER PREPAID TOKEN FAULT\",\r\n        \"Revision\":\"2.00\",\r\n        \"OriginalEventDateTime\":trans.date_,\r\n        \"Source\":\"CHATBOT\",\r\n        \"MessageID\":trans.message_id\r\n    },\r\n    \"Payload\":{\r\n        \"Cases\":{\r\n            \"Case\":{\r\n                \"description\":trans.description,\r\n                \"serviceType\":\"FaultyPrepaidTokenCaseED\",\r\n                \"symptom\":\"101\",\r\n                \"Account\":{\r\n                    \"accountNumber\":perm.customer.account\r\n                },\r\n                \"Person\":{\r\n                    \"name\":trans.full_name\r\n                },\r\n                \"ServiceLocation\":{\r\n                    \"mRID\": perm.customer.premises[0][\"mrid\"],\r\n                    \"StreetAddress\":{\r\n                        \"stateOrProvince\":trans.province_name\r\n                    }\r\n                },\r\n                \"Status\":[\r\n                    {\r\n                        \"remark\":\"meterNumber\",\r\n                        \"value\":perm.customer.prepaid_meter\r\n                    },\r\n                    {\r\n                        \"remark\":\"CELL\",\r\n                        \"value\":trans.msisdn\r\n                    }\r\n                ],\r\n                \"WorkRequest\":{\r\n                    \"StreetAddress\":{\r\n                        \"description\":trans.address\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                    "format": "JSON",
                    "id": "yI1qXMMIQ5yK0RO3u3vaBw",
                    "method": "POST",
                    "name": "API: Token recode",
                    "on_error": {
                        "transition": {
                            "ref": "cPZ33FgfS_Cpoa77Kvgc1g",
                            "route": "f/s/cPZ33FgfS_Cpoa77Kvgc1g",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "a4l26EwtSseQJrpdoE8VZg",
                            "route": "f/s/a4l26EwtSseQJrpdoE8VZg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.recode"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/tokens?token=mock&province={{trans.province}}&account={{perm.customer.account}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "perm.customer.voltex is None",
                            "ref": "J3pkUcxdR-m3vESJt0m6jg",
                            "route": "f/s/J3pkUcxdR-m3vESJt0m6jg",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        {
                            "code": "trans.voltex = \"Voltex meter\"",
                            "guard": "perm.customer.voltex",
                            "ref": "J9ZXwtnLQsy4RuYbKy5tOA",
                            "route": "f/s/J9ZXwtnLQsy4RuYbKy5tOA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.voltex = \"Not a Voltex meter\"",
                            "ref": "laSUNHksT7-WLaHrv2ytyw",
                            "route": "f/s/laSUNHksT7-WLaHrv2ytyw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "g6gfrceGS7Ke2JglKJsBsA",
                    "name": "Check meter type",
                    "type": "decision",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "3CtzNvJ_TJ2AlMocceZbQQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"cell no.\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "3CtzNvJ_TJ2AlMocceZbQQ",
                            "route": "f/s/3CtzNvJ_TJ2AlMocceZbQQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "pKu9kJF_RDeNsWLY4QKPQg",
                                            "style": "",
                                            "text": "Use this number",
                                            "transition": {
                                                "code": "trans.msisdn = perm.msisdn_on_bot",
                                                "ref": "B0HbUv4bQk6UFABAXAA2TA",
                                                "route": "f/s/B0HbUv4bQk6UFABAXAA2TA",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "311UMcDxS5yShr8Kc8SrnQ",
                                            "style": "",
                                            "text": "Use another number",
                                            "transition": {
                                                "ref": "sp3V28JrSSK_03G_cyppJg",
                                                "route": "f/s/sp3V28JrSSK_03G_cyppJg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Can we contact you on this number {{perm.msisdn_on_bot}} or use another number?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Confirm cell",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.recode.reference_number",
                            "ref": "XB7mhUnbSu-k3wG81-BOfA",
                            "route": "f/s/XB7mhUnbSu-k3wG81-BOfA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.recode.status_code == 204",
                            "ref": "2Ku8oOgKRRWQDimXWWp3XQ",
                            "route": "f/s/2Ku8oOgKRRWQDimXWWp3XQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "VRBOUJniSPm0s8C9tk9mDQ",
                            "route": "f/s/VRBOUJniSPm0s8C9tk9mDQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "a4l26EwtSseQJrpdoE8VZg",
                    "name": "Created?",
                    "type": "decision",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "2Ku8oOgKRRWQDimXWWp3XQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"tokens\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "2Ku8oOgKRRWQDimXWWp3XQ",
                            "route": "f/s/2Ku8oOgKRRWQDimXWWp3XQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "uUTaSdwBRyaRot-tf8p1lg",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                                                "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "XhIhgkDYTwWqWcnqIV4y8w",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "f1qbg0EcQDObgnea4wm37g",
                                                "route": "f/s/f1qbg0EcQDObgnea4wm37g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "All done!\r\n\r\nThank you for sharing those details with me, {{user.username}}.\r\n\r\nI\u2019ll get someone to look into this for you and get back to you via the cell no. provided \ud83d\udcf1\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Created but no ref",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "sp3V28JrSSK_03G_cyppJg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.msisdn"
                            }
                        ],
                        "transition": {
                            "ref": "B0HbUv4bQk6UFABAXAA2TA",
                            "route": "f/s/B0HbUv4bQk6UFABAXAA2TA",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "sp3V28JrSSK_03G_cyppJg",
                            "route": "f/s/sp3V28JrSSK_03G_cyppJg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Enter your number below"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Enter number",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "-CD6eR6MS3Wj4onlWSzkIQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"video\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "-CD6eR6MS3Wj4onlWSzkIQ",
                            "route": "f/s/-CD6eR6MS3Wj4onlWSzkIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "v2J5OPqPRCOqXn4yWgAXqw",
                                            "style": "",
                                            "text": "\u2705 Done",
                                            "transition": {
                                                "ref": "0g1RUNehRumlfK6PKpUjAw",
                                                "route": "f/s/0g1RUNehRumlfK6PKpUjAw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "BxBiBpApS4uwOrVzl9ZxSw",
                                            "style": "",
                                            "text": "\ud83d\ude33 Show me how",
                                            "transition": {
                                                "ref": "kyLPprEFTZace8uN5KgPPg",
                                                "route": "f/s/kyLPprEFTZace8uN5KgPPg",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Well that\u2019s easy then! \ud83d\ude03\r\n\r\nOn your meter, enter the first 20 digits on your token."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "First 20",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "J9ZXwtnLQsy4RuYbKy5tOA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.full_name"
                            }
                        ],
                        "transition": {
                            "ref": "sp3V28JrSSK_03G_cyppJg",
                            "route": "f/s/sp3V28JrSSK_03G_cyppJg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "J9ZXwtnLQsy4RuYbKy5tOA",
                            "route": "f/s/J9ZXwtnLQsy4RuYbKy5tOA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "OK, then I\u2019m going to need your full name."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Full name",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "del trans.primer_text",
                    "decisions": [
                        {
                            "code": "del trans.recode",
                            "guard": "trans.address and trans.recode",
                            "ref": "jpRBceLnRHy0pXbD-Nvshw",
                            "route": "f/s/jpRBceLnRHy0pXbD-Nvshw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.address",
                            "ref": "yI1qXMMIQ5yK0RO3u3vaBw",
                            "route": "f/s/yI1qXMMIQ5yK0RO3u3vaBw",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        {
                            "guard": "trans.utterance == \"menu\"",
                            "ref": "f1qbg0EcQDObgnea4wm37g",
                            "route": "f/s/f1qbg0EcQDObgnea4wm37g",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "B0HbUv4bQk6UFABAXAA2TA",
                    "name": "Get address",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.primer_text = \"Next, I just need to get your address.\\n\\nHow would you like to share this with me?\"",
                        "label": "Reusable: Get address",
                        "ref": "hvvxmTYVTEmfV5txhfWDKg",
                        "route": "f/w/hvvxmTYVTEmfV5txhfWDKg",
                        "type": "workflow"
                    },
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "del trans.url\r\ndel trans.text\r\ndel trans.button_1\r\ndel trans.button_2",
                    "decisions": [
                        {
                            "code": "del trans.button_one\r\ntrans.voltex = \"Voltex meter\"",
                            "guard": "trans.button_one",
                            "ref": "J9ZXwtnLQsy4RuYbKy5tOA",
                            "route": "f/s/J9ZXwtnLQsy4RuYbKy5tOA",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.button_two\r\ntrans.voltex = \"Not a Voltex meter\"",
                            "guard": "trans.button_two",
                            "ref": "laSUNHksT7-WLaHrv2ytyw",
                            "route": "f/s/laSUNHksT7-WLaHrv2ytyw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "J3pkUcxdR-m3vESJt0m6jg",
                    "name": "Get voltex image",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/voltex_meter.png\"\r\ntrans.text = \"And is this a Voltex meter (like the one above \ud83d\udc46)?\"\r\ntrans.button_1 = \"\u2705 Yes\"\r\ntrans.button_2 = \"\u274c No\"\r\ndel trans.button_one\r\ndel trans.button_two",
                        "label": "Render: Image",
                        "ref": "le7tQ4smRwKS5z4QMFWu3w",
                        "route": "f/w/le7tQ4smRwKS5z4QMFWu3w",
                        "type": "workflow"
                    },
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "0g1RUNehRumlfK6PKpUjAw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"last\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "0g1RUNehRumlfK6PKpUjAw",
                            "route": "f/s/0g1RUNehRumlfK6PKpUjAw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "AuuyB5BsRd-9RC0wggKxFA",
                                            "style": "",
                                            "text": "\u2705 Done",
                                            "transition": {
                                                "ref": "6NIs6zFTQEasvT53nMyPVw",
                                                "route": "f/s/6NIs6zFTQEasvT53nMyPVw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Now please enter the second 20 digits on your token."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Last 20",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "6NIs6zFTQEasvT53nMyPVw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"help\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "6NIs6zFTQEasvT53nMyPVw",
                            "route": "f/s/6NIs6zFTQEasvT53nMyPVw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "OZ171s3IQWaCaW5dK9N9xQ",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                                                "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "zubWpQInTO2yck-CXtnR3A",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "f1qbg0EcQDObgnea4wm37g",
                                                "route": "f/s/f1qbg0EcQDObgnea4wm37g",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "And finally, you can go ahead and load your prepaid voucher.\r\n\r\nAnd then, {{user.username}}, you\u2019re all done! \u2705\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Load voucher",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "uajFNzXoT8mKqgjRwS9cHw",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "The account was not found."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not found error",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "VRBOUJniSPm0s8C9tk9mDQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There was an error generating a recode reference, please try again later."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Not recoded",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "PsMsRhVgSMKhZgvG1QQR4A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "PsMsRhVgSMKhZgvG1QQR4A",
                            "route": "f/s/PsMsRhVgSMKhZgvG1QQR4A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "T2w4rnnBS3ihpg0XAnJclA",
                                            "style": "",
                                            "text": "\u2705 That\u2019s correct",
                                            "transition": {
                                                "ref": "g6gfrceGS7Ke2JglKJsBsA",
                                                "route": "f/s/g6gfrceGS7Ke2JglKJsBsA",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "1-D5yStPTNefZcWdicaStA",
                                            "style": "",
                                            "text": "\ud83d\udd22 It\u2019s different",
                                            "transition": {
                                                "code": "trans.utterance = \"sign_out\"",
                                                "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                                                "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "6HvmT7k_SDO6B9coxW2E3Q",
                                            "style": "",
                                            "text": "\ud83d\udd19",
                                            "transition": {
                                                "label": "Tokens: Entrypoint",
                                                "ref": "zETuDg6gTTuSF9vIjOBk3w",
                                                "route": "f/w/zETuDg6gTTuSF9vIjOBk3w",
                                                "type": "workflow"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "To recode your meter, you\u2019re going to need a recode token, but don\u2019t worry \u2013 I can help you get that! \r\n\r\nI just need a bit more detail, starting with your meter number...\r\n\r\nI\u2019ve got yours as {{perm.customer.prepaid_meter}} \u2013 is that correct?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Recode meter",
                    "relatives": [
                        {
                            "location": "/editor/states/ehWkPYp5TOyOk2BVu3MpTg/#state:hsyAkiBwS6quOdgxw6xziQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/zETuDg6gTTuSF9vIjOBk3w/#state:0ETw_UXQRs-bURqOLf6pKg",
                            "name": "Tokens menu"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "laSUNHksT7-WLaHrv2ytyw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"token\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "laSUNHksT7-WLaHrv2ytyw",
                            "route": "f/s/laSUNHksT7-WLaHrv2ytyw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ln5VUi6DQB6RmZXokFUY2Q",
                                            "style": "",
                                            "text": "\ud83d\udc4d I have a token",
                                            "transition": {
                                                "code": "trans.recode = True",
                                                "ref": "-CD6eR6MS3Wj4onlWSzkIQ",
                                                "route": "f/s/-CD6eR6MS3Wj4onlWSzkIQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "AdNAGreDQhWdu70CrTrPqQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e I need a token",
                                            "transition": {
                                                "ref": "sp3V28JrSSK_03G_cyppJg",
                                                "route": "f/s/sp3V28JrSSK_03G_cyppJg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "OK, and do you have a recode token or not?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Recode token",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "del trans.button_1",
                    "decisions": [
                        {
                            "guard": "trans.button_one",
                            "ref": "0g1RUNehRumlfK6PKpUjAw",
                            "route": "f/s/0g1RUNehRumlfK6PKpUjAw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "kyLPprEFTZace8uN5KgPPg",
                    "name": "Render video",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.url = \"https://storage.googleapis.com/io-dstv-content-prd-media/namola_media/NAMOLA_ANYWHERE.mp4\"\r\ntrans.text = \"Here you go!\\n\\nLet me know when you\u2019ve loaded those first 20 digits.\"\r\ntrans.button_1 = \"\u2705 Done\"",
                        "label": "Render: Video",
                        "ref": "CDrNhS1KQzaA-KcxIyG_rA",
                        "route": "f/w/CDrNhS1KQzaA-KcxIyG_rA",
                        "type": "workflow"
                    },
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "EkNMXanDREudR8qv1Ln4WQ",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "This fault has already been logged."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Repeat call",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"meter\"",
                            "ref": "PsMsRhVgSMKhZgvG1QQR4A",
                            "route": "f/s/PsMsRhVgSMKhZgvG1QQR4A",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"token\"",
                            "ref": "laSUNHksT7-WLaHrv2ytyw",
                            "route": "f/s/laSUNHksT7-WLaHrv2ytyw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"cell no.\"",
                            "ref": "sp3V28JrSSK_03G_cyppJg",
                            "route": "f/s/sp3V28JrSSK_03G_cyppJg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"sms\"",
                            "ref": "jpRBceLnRHy0pXbD-Nvshw",
                            "route": "f/s/jpRBceLnRHy0pXbD-Nvshw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"tokens\"",
                            "ref": "a4l26EwtSseQJrpdoE8VZg",
                            "route": "f/s/a4l26EwtSseQJrpdoE8VZg",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"video\"",
                            "ref": "-CD6eR6MS3Wj4onlWSzkIQ",
                            "route": "f/s/-CD6eR6MS3Wj4onlWSzkIQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"last\"",
                            "ref": "0g1RUNehRumlfK6PKpUjAw",
                            "route": "f/s/0g1RUNehRumlfK6PKpUjAw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "code": "del trans.route",
                            "guard": "trans.route == \"help\"",
                            "ref": "PsMsRhVgSMKhZgvG1QQR4A",
                            "route": "f/s/PsMsRhVgSMKhZgvG1QQR4A",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"\r\ndel trans.route",
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "5FdfHVitQfmUk-7sbHJR1Q",
                    "name": "Route back",
                    "type": "decision",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans.address\r\ndel trans.full_name\r\ndel trans.msisdn\r\ndel trans.recode\r\ndel trans.province\r\ndel trans.province_name\r\ndel trans.date_\r\ndel trans.message_id\r\ndel trans.voltex\r\ndel trans.description",
                            "guard": "trans.utterance == \"sign_out\"",
                            "label": "Users: Change Account",
                            "ref": "nXv5rj_BSlijKOCFyYjR2w",
                            "route": "f/w/nXv5rj_BSlijKOCFyYjR2w",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.address\r\ndel trans.full_name\r\ndel trans.msisdn\r\ndel trans.recode\r\ndel trans.province\r\ndel trans.province_name\r\ndel trans.date_\r\ndel trans.message_id\r\ndel trans.voltex\r\ndel trans.description",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\ndel trans.utterance\r\ndel trans.address\r\ndel trans.full_name\r\ndel trans.msisdn\r\ndel trans.recode\r\ndel trans.province\r\ndel trans.province_name\r\ndel trans.date_\r\ndel trans.message_id\r\ndel trans.voltex\r\ndel trans.description",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "amQ-ncFcSAm7M_xyrTRCnQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "amQ-ncFcSAm7M_xyrTRCnQ",
                            "route": "f/s/amQ-ncFcSAm7M_xyrTRCnQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "f1qbg0EcQDObgnea4wm37g",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "id": "jpRBceLnRHy0pXbD-Nvshw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "trans.caller == \"sms\"",
                            "ref": "RhZh_NyzRiOerN4ePQun7A",
                            "route": "f/s/RhZh_NyzRiOerN4ePQun7A",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "jpRBceLnRHy0pXbD-Nvshw",
                            "route": "f/s/jpRBceLnRHy0pXbD-Nvshw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "1psa6WF2RL6fH8twLItn3g",
                                            "style": "",
                                            "text": "\ud83d\ude4c Got it!",
                                            "transition": {
                                                "ref": "-CD6eR6MS3Wj4onlWSzkIQ",
                                                "route": "f/s/-CD6eR6MS3Wj4onlWSzkIQ",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Thank you, {{user.username}}!\r\n\r\nYour info is being processed so we can generate a token for you.\r\n\r\nPlease watch out for an SMS and let me know when you\u2019ve got it."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Wait for sms",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.error_.status_code == 404",
                            "ref": "uajFNzXoT8mKqgjRwS9cHw",
                            "route": "f/s/uajFNzXoT8mKqgjRwS9cHw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.error_.status_code == 409",
                            "ref": "EkNMXanDREudR8qv1Ln4WQ",
                            "route": "f/s/EkNMXanDREudR8qv1Ln4WQ",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "VRBOUJniSPm0s8C9tk9mDQ",
                            "route": "f/s/VRBOUJniSPm0s8C9tk9mDQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "cPZ33FgfS_Cpoa77Kvgc1g",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "HV7mHXrgQAiLI2wSkU65ZA",
                    "workflow_name": "Tokens: Recode"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "t3_-4l0rQjy2gWxstE7zCg",
            "id": "-9j98rRnR2i380sGsTgi5Q",
            "name": "Trigger: Fault Update",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "4AP6OpsbQ86f0Uojdn_Ztw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "4AP6OpsbQ86f0Uojdn_Ztw",
                            "route": "f/s/4AP6OpsbQ86f0Uojdn_Ztw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "dg3-oAd7QPK7TgHxXpUuvA",
                                            "style": "",
                                            "text": "\u2705 Keep me posted",
                                            "transition": {
                                                "code": "trans.run = 12\r\ntrans.follow_up = True",
                                                "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                                                "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "o06gKSRaTLyiCbmTdxqsXA",
                                            "style": "",
                                            "text": "\u274c Stop auto-updates",
                                            "transition": {
                                                "ref": "dFEvzeOeT7CVsUIvpY9Zwg",
                                                "route": "f/s/dFEvzeOeT7CVsUIvpY9Zwg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Sorry about the wait, {{user.username}}!\r\n\r\nOur technicians are on it and investigating your issue. I\u2019ll update you as soon as I have more information."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "12 hours",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "wu9r9hulQq20VmsUfXjCCQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "wu9r9hulQq20VmsUfXjCCQ",
                            "route": "f/s/wu9r9hulQq20VmsUfXjCCQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "qzZJjxLmR-qzRrPBk_Hhkw",
                                            "style": "",
                                            "text": "\u2705 Keep me posted",
                                            "transition": {
                                                "code": "trans.run = 16\r\ntrans.follow_up = True",
                                                "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                                                "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "p3ssjtJmSi6SJTlzfQ69iw",
                                            "style": "",
                                            "text": "\u274c Stop auto-updates",
                                            "transition": {
                                                "ref": "dFEvzeOeT7CVsUIvpY9Zwg",
                                                "route": "f/s/dFEvzeOeT7CVsUIvpY9Zwg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I know it\u2019s been a while since you reported your fault, {{user.username}}\r\n\r\nRight now, Eskom\u2019s technicians are doing everything in their power to fix it. I\u2019ll be in touch with further updates."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "16 hours",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "39YUEsYPQgGjHou43L5XTw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "39YUEsYPQgGjHou43L5XTw",
                            "route": "f/s/39YUEsYPQgGjHou43L5XTw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "DOEcG_VLRLaAk2Osf3jAjA",
                                            "style": "",
                                            "text": "\u2705 Keep me posted",
                                            "transition": {
                                                "code": "trans.run = 20\r\ntrans.follow_up = True",
                                                "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                                                "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "e_j34BV1QCqv6DBjw9sqbw",
                                            "style": "",
                                            "text": "\u274c Stop auto-updates",
                                            "transition": {
                                                "ref": "dFEvzeOeT7CVsUIvpY9Zwg",
                                                "route": "f/s/dFEvzeOeT7CVsUIvpY9Zwg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I know this is frustrating, {{user.username}},\u00a0 but I still don\u2019t have any news for you. \ud83d\ude15\r\n\r\nEskom\u2019s technicians are working on numerous faults in your area at the moment.\r\n\r\nBut rest assured, they are aware of your fault and will do their best to resolve it as soon as possible."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "20 hours",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "vLlk9wTVQe6X7XzKli_j_Q",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "vLlk9wTVQe6X7XzKli_j_Q",
                            "route": "f/s/vLlk9wTVQe6X7XzKli_j_Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "DGPdtINMQrepgeSHfdTOVg",
                                            "style": "",
                                            "text": "\u2705 Keep me posted",
                                            "transition": {
                                                "code": "trans.run = 4\r\ntrans.follow_up = True",
                                                "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                                                "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "MwQOWUVvQmeXIBWn12xPRA",
                                            "style": "",
                                            "text": "\u274c Stop auto-updates",
                                            "transition": {
                                                "code": "del trans.reference\r\ndel trans.run",
                                                "ref": "dFEvzeOeT7CVsUIvpY9Zwg",
                                                "route": "f/s/dFEvzeOeT7CVsUIvpY9Zwg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Hi {{user.username}}!\r\n\r\nJust checking in to let you know that the status of the fault you logged hasn\u2019t changed yet, but I\u2019ll give you an update as soon as possible."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "4 hours",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "G7av2B4ZTUO6ayD3ipIlSQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "G7av2B4ZTUO6ayD3ipIlSQ",
                            "route": "f/s/G7av2B4ZTUO6ayD3ipIlSQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "ay3DXew3RoKTUp7QEeksmQ",
                                            "style": "",
                                            "text": "\u2705 Keep me posted",
                                            "transition": {
                                                "code": "trans.run = 8\r\ntrans.follow_up = True",
                                                "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                                                "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "fgaYr4UFSnuXGe4MKC4W4w",
                                            "style": "",
                                            "text": "\u274c Stop auto-updates",
                                            "transition": {
                                                "ref": "dFEvzeOeT7CVsUIvpY9Zwg",
                                                "route": "f/s/dFEvzeOeT7CVsUIvpY9Zwg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Me again, {{user.username}}.\r\n\r\nI still don\u2019t have an update for you, but the Eskom team is aware of your fault and will get to it as soon as they can. \ud83d\udcaa"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "8 hours",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.answered = True",
                    "format": null,
                    "id": "wkllLjbbQ8CCi5pMEC8-IA",
                    "method": "DELETE",
                    "name": "API: Delete job",
                    "on_error": {
                        "transition": {
                            "ref": "6rN1wurzRDWgwDCitRKssw",
                            "route": "f/s/6rN1wurzRDWgwDCitRKssw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "code": "perm.job = {}",
                            "ref": "6rN1wurzRDWgwDCitRKssw",
                            "route": "f/s/6rN1wurzRDWgwDCitRKssw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.deleted"
                    },
                    "resource": "{{const.MIDDLEWARE}}/hsm/jobs?token=mock&project=eskom-426109&location=europe-west1&job_name={{perm.job.name}}",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "auth": {
                        "name": "",
                        "type": null
                    },
                    "code": "trans.reference = trans.message.reference_number\r\ntrans.status = trans.message.status\r\ntrans.run = trans.message.run\r\nif not trans.answered:\r\n    if not perm.run_counter:\r\n        perm.run_counter = 0\r\n    perm.run_counter += 1\r\n    trans.run += (perm.run_counter * 4)",
                    "format": null,
                    "id": "TJNTL2F8RWGw2hkXVIQ8CA",
                    "method": "GET",
                    "name": "API: Get fault",
                    "on_error": {
                        "transition": {
                            "ref": "xICbdVZYT-aXjUD3DyJPEw",
                            "route": "f/s/xICbdVZYT-aXjUD3DyJPEw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.error_"
                    },
                    "on_success": {
                        "transition": {
                            "ref": "4CRKkPEoT464hjz0dXPsOA",
                            "route": "f/s/4CRKkPEoT464hjz0dXPsOA",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "var": "trans.fault"
                    },
                    "resource": "{{const.MIDDLEWARE}}/faults/?token=mock&case={{trans.reference}}&source=CHATBOT",
                    "retries": 0,
                    "retry": false,
                    "timeout": 60,
                    "type": "api_call",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "code": "if not trans.utterance:\r\n    trans.utterance = \"menu\"",
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "u23Sa5N1QjSB8WCJTccKuw",
                    "name": "Call survey",
                    "type": "wflow_call",
                    "wflow": {
                        "label": "Reusable: Survey",
                        "ref": "k9FkumKURI-9pzhvj1E_rw",
                        "route": "f/w/k9FkumKURI-9pzhvj1E_rw",
                        "type": "workflow"
                    },
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "guard": "trans.fault.cases and (trans.fault.last == trans.status)",
                            "ref": "RogFPI4jTkC6N48YTSanfw",
                            "route": "f/s/RogFPI4jTkC6N48YTSanfw",
                            "statetype": "decision",
                            "type": "state"
                        },
                        {
                            "code": "trans.fault_text = trans.fault.last",
                            "guard": "trans.fault.cases",
                            "ref": "TrK8xHQ2SwqltVojT_jRXg",
                            "route": "f/s/TrK8xHQ2SwqltVojT_jRXg",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "YFoZE4R-SW2OK43veLKqQA",
                            "route": "f/s/YFoZE4R-SW2OK43veLKqQA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "4CRKkPEoT464hjz0dXPsOA",
                    "name": "Check fault",
                    "type": "decision",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "YFoZE4R-SW2OK43veLKqQA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "YFoZE4R-SW2OK43veLKqQA",
                            "route": "f/s/YFoZE4R-SW2OK43veLKqQA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "Ju7FNP2QShWXcPxacWmHsQ",
                                            "style": "",
                                            "text": "\ud83d\udd04 Try again",
                                            "transition": {
                                                "ref": "TJNTL2F8RWGw2hkXVIQ8CA",
                                                "route": "f/s/TJNTL2F8RWGw2hkXVIQ8CA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "gABxXZrWTtmV4V7hba3EmQ",
                                            "style": "",
                                            "text": "\u23f9\ufe0f No thanks",
                                            "transition": {
                                                "ref": "y3HXOurKSJmHtpufVUAr6A",
                                                "route": "f/s/y3HXOurKSJmHtpufVUAr6A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{{trans.error_}}\r\n{{trans.fault}}\r\n\r\nI ran into some issues trying to check the status of fault {{trans.reference}}.\r\n\r\nShould I try again?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Failure",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "code": "trans.status = trans.fault.last",
                    "decisions": [
                        {
                            "guard": "trans.run == 4",
                            "ref": "vLlk9wTVQe6X7XzKli_j_Q",
                            "route": "f/s/vLlk9wTVQe6X7XzKli_j_Q",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.run == 8",
                            "ref": "G7av2B4ZTUO6ayD3ipIlSQ",
                            "route": "f/s/G7av2B4ZTUO6ayD3ipIlSQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.run == 12",
                            "ref": "4AP6OpsbQ86f0Uojdn_Ztw",
                            "route": "f/s/4AP6OpsbQ86f0Uojdn_Ztw",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.run == 16",
                            "ref": "wu9r9hulQq20VmsUfXjCCQ",
                            "route": "f/s/wu9r9hulQq20VmsUfXjCCQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.run == 20",
                            "ref": "39YUEsYPQgGjHou43L5XTw",
                            "route": "f/s/39YUEsYPQgGjHou43L5XTw",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "Lq8MESGzSgyq2gMz_3CCkg",
                            "route": "f/s/Lq8MESGzSgyq2gMz_3CCkg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "RogFPI4jTkC6N48YTSanfw",
                    "name": "How many hours?",
                    "type": "decision",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "description": "Incoming status follow up message from a cloud function, to start the follow up workflow.",
                    "enabled": true,
                    "id": "t3_-4l0rQjy2gWxstE7zCg",
                    "name": "Incoming status change",
                    "resource": "incoming-status-follow-up",
                    "response": "",
                    "sample": "{\r\n    \"channel_id\":\"880ab227-e755-4898-8373-0e7430d0ea8d\",\r\n    \"user_id\":\"27724990102\",\r\n    \"data\":{\r\n        \"reference_number\":\"2758732421\",\r\n        \"status\":\"Dispatched\"\r\n    }\r\n}",
                    "transition": {
                        "ref": "TJNTL2F8RWGw2hkXVIQ8CA",
                        "route": "f/s/TJNTL2F8RWGw2hkXVIQ8CA",
                        "statetype": "api_call",
                        "type": "state"
                    },
                    "type": "api_trigger",
                    "uri": "https://engine.eskom.qa.helm.africa/api/project/QianU0V7Tx-g2PBqe0TysA/incoming-status-follow-up",
                    "var": "trans.message",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "dFEvzeOeT7CVsUIvpY9Zwg",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "No problem! \ud83d\udc4d\r\n\r\nI\u2019ll stop sending you auto-updates  now. If you\u2019d like to follow up again later, you can tap below and use your reference number{% if trans.reference %}: *{{trans.reference}}*{% endif %}."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "I will stop",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "Lq8MESGzSgyq2gMz_3CCkg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Lq8MESGzSgyq2gMz_3CCkg",
                            "route": "f/s/Lq8MESGzSgyq2gMz_3CCkg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "D5_n4R9SS0y_w1eQPoyvtg",
                                            "style": "",
                                            "text": "\ud83d\udd0d Follow up",
                                            "transition": {
                                                "code": "trans.self_follow_up",
                                                "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                                                "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019m so sorry about this, {{user.username}}!\r\n\r\nThe issue is still being attended to and we haven\u2019t been able to resolve your fault yet.\r\n\r\n\u26a0\ufe0f Please note that auto-updates will stop now, but you can tap below tomorrow if you\u2019d like to receive further updates."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "No more updates",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "TrK8xHQ2SwqltVojT_jRXg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "TrK8xHQ2SwqltVojT_jRXg",
                            "route": "f/s/TrK8xHQ2SwqltVojT_jRXg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "uvV96Uz4Q1WM0cJwoTywww",
                                            "style": "",
                                            "text": "\ud83d\udc4d\ufe0f Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                                                "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                                                "statetype": "api_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "WwwmsIzVQ6uPy7k9AkJ1Xw",
                                            "style": "",
                                            "text": "\ud83d\udc4e\ufe0f No, I\u2019m good",
                                            "transition": {
                                                "ref": "7-GOsnY5SWGYnNqHfRaMFw",
                                                "route": "f/s/7-GOsnY5SWGYnNqHfRaMFw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "{{trans.fault_text}}\r\n\r\nDo you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Render update",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.run\r\ndel trans.status\r\ndel trans.deleted\r\ndel trans.message\r\ndel trans.self_follow_up\r\ndel trans.follow_up\r\ndel trans.run\r\ndel trans.fault_text\r\ndel trans.answered\r\ndel trans.run\r\ndel trans.run_counter",
                            "guard": "trans.self_follow_up",
                            "label": "Faults: Reference",
                            "ref": "7VWvlCENT4ugIiEMF6BXJg",
                            "route": "f/w/7VWvlCENT4ugIiEMF6BXJg",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.fault\r\ndel trans.deleted\r\ndel trans.message\r\ndel trans.self_follow_up\r\ndel trans.follow_up\r\ndel trans.fault_text\r\ntrans.answered = False\r\nperm.run_counter = 0",
                            "guard": "trans.follow_up",
                            "label": "HSMs: Create Job",
                            "ref": "H_RFVrXCSn6dETRtfkUhUw",
                            "route": "f/w/H_RFVrXCSn6dETRtfkUhUw",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans.follow_up\r\ndel trans.self_follow_up\r\ndel trans.fault\r\ndel trans.message\r\ndel trans.status\r\ndel trans.deleted\r\ndel trans.reference_number\r\ndel trans.run\r\ndel trans.fault_text\r\ndel trans.answered\r\ndel trans.run\r\ndel trans.run_counter",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\n\r\ndel trans.utterance\r\ndel trans.follow_up\r\ndel trans.self_follow_up\r\ndel trans.fault\r\ndel trans.status\r\ndel trans.message\r\ndel trans.message\r\ndel trans.reference_number\r\ndel trans.run\r\ndel trans.fault_text\r\ndel trans.answered\r\ndel trans.run\r\ndel trans.run_counter",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "6rN1wurzRDWgwDCitRKssw",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "id": "7-GOsnY5SWGYnNqHfRaMFw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7-GOsnY5SWGYnNqHfRaMFw",
                            "route": "f/s/7-GOsnY5SWGYnNqHfRaMFw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "oKql4u_gTOewYQ2nJVygKA",
                                            "style": "",
                                            "text": "\ud83d\udc4d\ufe0f Sure",
                                            "transition": {
                                                "ref": "u23Sa5N1QjSB8WCJTccKuw",
                                                "route": "f/s/u23Sa5N1QjSB8WCJTccKuw",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "0x7xrK-ORwqYXqK2qvKRAQ",
                                            "style": "",
                                            "text": "\ud83d\udc4e\ufe0f Not today",
                                            "transition": {
                                                "ref": "y3HXOurKSJmHtpufVUAr6A",
                                                "route": "f/s/y3HXOurKSJmHtpufVUAr6A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Great!\r\n\r\nDo you perhaps have a minute to give me some feedback so we can improve your experience?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Survey primer",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "wkllLjbbQ8CCi5pMEC8-IA",
                            "route": "f/s/wkllLjbbQ8CCi5pMEC8-IA",
                            "statetype": "api_call",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "y3HXOurKSJmHtpufVUAr6A",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                },
                {
                    "code": "",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "ref": "YFoZE4R-SW2OK43veLKqQA",
                            "route": "f/s/YFoZE4R-SW2OK43veLKqQA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "xICbdVZYT-aXjUD3DyJPEw",
                    "name": "Which error?",
                    "type": "decision",
                    "workflow_id": "-9j98rRnR2i380sGsTgi5Q",
                    "workflow_name": "Trigger: Fault Update"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "nDa3xpiBRNusrp3dQHxX4A",
            "id": "loAZFG-kSZWNZxewg7p0Fw",
            "name": "Unvalidated: Entrypoint",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "id": "xddDKL5CRHWMXEQl6PWDtQ",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.alternate"
                            }
                        ],
                        "transition": {
                            "code": "user.work_phone_number = trans.alternate\r\ndel trans.alternate",
                            "ref": "7BEU-ukFTreJ4KHT1bDLeg",
                            "route": "f/s/7BEU-ukFTreJ4KHT1bDLeg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "xddDKL5CRHWMXEQl6PWDtQ",
                            "route": "f/s/xddDKL5CRHWMXEQl6PWDtQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "-dxNmu6lTGmn0zTZew9G-A",
                                            "style": "",
                                            "text": "\ud83d\udc4e No",
                                            "transition": {
                                                "ref": "7BEU-ukFTreJ4KHT1bDLeg",
                                                "route": "f/s/7BEU-ukFTreJ4KHT1bDLeg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Got it! Do you have an alternative number I can use to get hold of you?\r\n\r\nIf you don\u2019t, you can just press \"\ud83d\udc4e No\"."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Alternate",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "0X_EwKefRgWhDF6idTLfJg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "0X_EwKefRgWhDF6idTLfJg",
                            "route": "f/s/0X_EwKefRgWhDF6idTLfJg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "jpcbVQvKSserrs8EGk3Bqw",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes, I am",
                                            "transition": {
                                                "ref": "9DhGebcsSvGNBGevB1QDfg",
                                                "route": "f/s/9DhGebcsSvGNBGevB1QDfg",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "q5RB2A4TSQWrgtbWdy3K1A",
                                            "style": "",
                                            "text": "\ud83d\udc4e No, I\u2019m not",
                                            "transition": {
                                                "ref": "auWq7CeyQ3eXMg_c6ex4yw",
                                                "route": "f/s/auWq7CeyQ3eXMg_c6ex4yw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Great, and are you physically at this address right now?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Are you there?",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "Zvk9DDLPQmqprJaBPiaZMA",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "<Cannot move past this point without an account number>"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Blocked",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.button_one",
                            "guard": "trans.button_one",
                            "ref": "arLlrA6xTEqxHE0eeEiWrA",
                            "route": "f/s/arLlrA6xTEqxHE0eeEiWrA",
                            "statetype": "response",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "del trans.button_one",
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "nmvOhPDVS0qXQkYpPYofcw",
                    "name": "Call image",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.text = \"Don\u2019t worry \u2013 I\u2019ll show you what to look for. \ud83d\udc47\\n\\nPlease let me know when you\u2019ve got the number. \"\r\ntrans.url = \"https://storage.googleapis.com/io-europe-west1-eskom-bot-qa-media/images/Pole_Image_v1.jpg\"\r\ntrans.button_1 = \"\ud83d\ude04 Got it!\"",
                        "label": "Render: Image",
                        "ref": "le7tQ4smRwKS5z4QMFWu3w",
                        "route": "f/w/le7tQ4smRwKS5z4QMFWu3w",
                        "type": "workflow"
                    },
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "9DhGebcsSvGNBGevB1QDfg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.cell"
                            }
                        ],
                        "transition": {
                            "code": "user.cell_phone_number = trans.cell\r\ndel trans.cell",
                            "ref": "xddDKL5CRHWMXEQl6PWDtQ",
                            "route": "f/s/xddDKL5CRHWMXEQl6PWDtQ",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "9DhGebcsSvGNBGevB1QDfg",
                            "route": "f/s/9DhGebcsSvGNBGevB1QDfg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Now, please send me the cell phone number where you can be reached."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Cell",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "7BEU-ukFTreJ4KHT1bDLeg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.email"
                            }
                        ],
                        "transition": {
                            "code": "user.email = trans.email\r\ndel trans.email",
                            "ref": "QhFgTAuQRsuo2wcADfaAzg",
                            "route": "f/s/QhFgTAuQRsuo2wcADfaAzg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "7BEU-ukFTreJ4KHT1bDLeg",
                            "route": "f/s/7BEU-ukFTreJ4KHT1bDLeg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Next up, please send me your email address."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Email",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "gKCvM5TxSbWZ9op6nV0QrA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "gKCvM5TxSbWZ9op6nV0QrA",
                            "route": "f/s/gKCvM5TxSbWZ9op6nV0QrA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "s4yQg3vMSguPIXYJGfqQiQ",
                                            "style": "",
                                            "text": "\ud83d\ude04 I do",
                                            "transition": {
                                                "ref": "arLlrA6xTEqxHE0eeEiWrA",
                                                "route": "f/s/arLlrA6xTEqxHE0eeEiWrA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "0tfBrCePQ42yVJT7o-XEHA",
                                            "style": "",
                                            "text": "\ud83d\ude15 I don\u2019t",
                                            "transition": {
                                                "ref": "nmvOhPDVS0qXQkYpPYofcw",
                                                "route": "f/s/nmvOhPDVS0qXQkYpPYofcw",
                                                "statetype": "wflow_call",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Final question...\r\n\r\nDo you know what the transformer or pole number for your supply source is?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Final question",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "code": "del trans.primer_text",
                    "decisions": [
                        {
                            "code": "trans.temp = {\r\n    \"address\": trans.address\r\n}\r\n\r\ndel trans.address",
                            "guard": "trans.address",
                            "ref": "0X_EwKefRgWhDF6idTLfJg",
                            "route": "f/s/0X_EwKefRgWhDF6idTLfJg",
                            "statetype": "response",
                            "type": "state"
                        },
                        {
                            "guard": "trans.utterance == \"menu\"",
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "MAq7ahzZS664DBAm5yuV1w",
                    "name": "Get address",
                    "type": "wflow_call",
                    "wflow": {
                        "code": "trans.primer_text = \"OK, \" + user.profile + \" \u2013 I also need the address that is linked to your meter.\\n\\nWould you like to type it out or send me a pin? \"",
                        "label": "Reusable: Get address",
                        "ref": "hvvxmTYVTEmfV5txhfWDKg",
                        "route": "f/w/hvvxmTYVTEmfV5txhfWDKg",
                        "type": "workflow"
                    },
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "xeR1tDpZR0iEgQSBWv7ZGg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "xeR1tDpZR0iEgQSBWv7ZGg",
                            "route": "f/s/xeR1tDpZR0iEgQSBWv7ZGg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "e4lg-rVgTNWjjSfHaT2rZg",
                                            "style": "",
                                            "text": "\ud83d\udc4d Yes please",
                                            "transition": {
                                                "code": "trans.utterance = \"menu\"",
                                                "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                                                "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "R1l3IxUPQPekrtGNlkpDnw",
                                            "style": "",
                                            "text": "\ud83d\udc4e No thanks",
                                            "transition": {
                                                "ref": "z88XjeY5TnWzo4Ld8wt-og",
                                                "route": "f/s/z88XjeY5TnWzo4Ld8wt-og",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "That\u2019s it!\r\n\r\nThanks again for helping me with all this info, {{user.username}}.\r\n\r\nOnce it\u2019s been validated, you will receive an SMS, so keep an eye out in the next day or two.\r\n\r\nIn the meantime, do you need help with anything else?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "INDEX:UNVALIDATED_DONE",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "zsz5IaorQraSc6IBWR98Tw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.id"
                            }
                        ],
                        "transition": {
                            "code": "user.phone_number = trans.id\r\ndel trans.id",
                            "ref": "ur2rojxnRHuXhbYtbj2t7w",
                            "route": "f/s/ur2rojxnRHuXhbYtbj2t7w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "zsz5IaorQraSc6IBWR98Tw",
                            "route": "f/s/zsz5IaorQraSc6IBWR98Tw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Excellent!\r\n\r\nFirst, I need your ID number, so we can link it to your account.\r\n\r\nPlease enter it now."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "INDEX:UNVALIDATED_START",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "nDa3xpiBRNusrp3dQHxX4A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "code": "del trans.utterance",
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "nDa3xpiBRNusrp3dQHxX4A",
                            "route": "f/s/nDa3xpiBRNusrp3dQHxX4A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "2MKjmDoYRzehySA8VyQ2kw",
                                            "style": "",
                                            "text": "\ud83e\udd13 Sure",
                                            "transition": {
                                                "ref": "zsz5IaorQraSc6IBWR98Tw",
                                                "route": "f/s/zsz5IaorQraSc6IBWR98Tw",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "2EVltiNMS-qTDE7-WGx9kg",
                                            "style": "",
                                            "text": "\ud83e\udee3\ufe0f\ufe0f Maybe later",
                                            "transition": {
                                                "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                                                "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "bToxsxFwSounwbyvWTJqYA",
                                            "style": "",
                                            "text": "\u26a1\ufe0f Outages",
                                            "transition": {
                                                "ref": "Tiowkex0QX62kE2iJq308A",
                                                "route": "f/s/Tiowkex0QX62kE2iJq308A",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "Well, this is awkward...\r\n\r\nI know you have an Eskom meter, but your details need to be validated on our system first.\r\n\r\nThis may take a day or two, but we can start the process right away \u2013 shall we do it?\r\n\r\n\u26a0\ufe0f If you need to report an emergency right away, you can click on \u26a1\ufe0f Outages below to do so."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Intro",
                    "relatives": [
                        {
                            "location": "/editor/states/WTTD9JUbSsuDI4RPlcFp0w/#state:V4q5oR9CQjqrED4FzM-GRg",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/WTTD9JUbSsuDI4RPlcFp0w/#state:075TpCJcRIOSqBvr_BSrzw",
                            "name": "Unvalidated"
                        }
                    ],
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "ur2rojxnRHuXhbYtbj2t7w",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.profile"
                            }
                        ],
                        "transition": {
                            "code": "user.profile = trans.profile",
                            "ref": "MAq7ahzZS664DBAm5yuV1w",
                            "route": "f/s/MAq7ahzZS664DBAm5yuV1w",
                            "statetype": "wflow_call",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "ur2rojxnRHuXhbYtbj2t7w",
                            "route": "f/s/ur2rojxnRHuXhbYtbj2t7w",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Step 1 done! \u2705\r\n\r\nNext I\u2019m going to need you to send me your name and surname."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Name",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "Tiowkex0QX62kE2iJq308A",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "Tiowkex0QX62kE2iJq308A",
                            "route": "f/s/Tiowkex0QX62kE2iJq308A",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "FmbBw8xtR2CQ9iSgjtVb8A",
                                            "style": "",
                                            "text": "\u2757Continue",
                                            "transition": {
                                                "ref": "Zvk9DDLPQmqprJaBPiaZMA",
                                                "route": "f/s/Zvk9DDLPQmqprJaBPiaZMA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "mnqg2DUZTlqD35sRzS-Wgg",
                                            "style": "",
                                            "text": "\ud83d\udd0d Follow up",
                                            "transition": {
                                                "code": "trans.utterance = \"follow_up\"",
                                                "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                                                "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                                                "statetype": "decision",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "I\u2019ve got you, {{user.username}}.\r\n\r\nWould you like to report a new outage or follow up on one you reported earlier?\r\n\r\n\u26a0\ufe0f I can only assist you with real emergencies, for example, if there\u2019s a fire or electrocution risk."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Outages",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "QhFgTAuQRsuo2wcADfaAzg",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.utterance"
                            }
                        ],
                        "transition": {
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "QhFgTAuQRsuo2wcADfaAzg",
                            "route": "f/s/QhFgTAuQRsuo2wcADfaAzg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "buttons": [
                                        {
                                            "button_guard": "",
                                            "id": "EWw-XDXxQYmdHZoCkYZnNA",
                                            "style": "",
                                            "text": "\ud83c\udfe1 I\u2019m the owner",
                                            "transition": {
                                                "code": "trans.temp.update({\"owner\": True})",
                                                "ref": "gKCvM5TxSbWZ9op6nV0QrA",
                                                "route": "f/s/gKCvM5TxSbWZ9op6nV0QrA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        },
                                        {
                                            "button_guard": "",
                                            "id": "Q2JdUwC-QEuiXKAZ1ImWfw",
                                            "style": "",
                                            "text": "\ud83c\udfe1\ufe0f\ufe0f I\u2019m a tenant",
                                            "transition": {
                                                "code": "trans.temp.update({\"owner\": False})",
                                                "ref": "gKCvM5TxSbWZ9op6nV0QrA",
                                                "route": "f/s/gKCvM5TxSbWZ9op6nV0QrA",
                                                "statetype": "response",
                                                "type": "state"
                                            },
                                            "type": "transition"
                                        }
                                    ],
                                    "style": "",
                                    "text": "We\u2019re almost done, {{user.username}} \u2013 thank you so much for your patience!\r\n\r\nAre you the owner or the tenant of the premises?"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Owner",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "code": "",
                    "decisions": [
                        {
                            "code": "del trans.utterance\r\ndel trans._\r\ntrans.navigation = {}",
                            "guard": "trans.utterance == \"follow_up\"",
                            "label": "Faults: Reference",
                            "ref": "7VWvlCENT4ugIiEMF6BXJg",
                            "route": "f/w/7VWvlCENT4ugIiEMF6BXJg",
                            "type": "workflow"
                        },
                        {
                            "code": "del trans.utterance\r\ndel trans._\r\ntrans.navigation = {}",
                            "guard": "trans.utterance == \"menu\"",
                            "label": "Menu: Main",
                            "ref": "JfhDWc6UTFaa-pwepw3hrA",
                            "route": "f/w/JfhDWc6UTFaa-pwepw3hrA",
                            "type": "workflow"
                        }
                    ],
                    "default_action": {
                        "transition": {
                            "code": "trans.navigation = {\r\n    \"utterance\": trans.utterance\r\n}\r\ndel trans._\r\ndel trans.utterance",
                            "label": "NLU: Route or Answer",
                            "ref": "E0w11JgoRRaVa3B6VYeFUw",
                            "route": "f/w/E0w11JgoRRaVa3B6VYeFUw",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "vAzVxhNURL-qaHtj6kxcJQ",
                    "name": "Route or answer",
                    "type": "decision",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "default_action": {
                        "transition": {
                            "code": "trans.utterance = \"menu\"",
                            "ref": "vAzVxhNURL-qaHtj6kxcJQ",
                            "route": "f/s/vAzVxhNURL-qaHtj6kxcJQ",
                            "statetype": "decision",
                            "type": "state"
                        },
                        "type": "continue"
                    },
                    "id": "z88XjeY5TnWzo4Ld8wt-og",
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Then I guess that\u2019s it for now.\r\n\r\nFeel free to tap below to let me know if I can help with anything else."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Thank you",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "arLlrA6xTEqxHE0eeEiWrA",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans.transformer"
                            }
                        ],
                        "transition": {
                            "code": "trans.temp.update({\"transformer\": trans.transformer})\r\nperm.address = trans.temp\r\n\r\ndel trans.transformer\r\ndel trans.temp",
                            "ref": "xeR1tDpZR0iEgQSBWv7ZGg",
                            "route": "f/s/xeR1tDpZR0iEgQSBWv7ZGg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "arLlrA6xTEqxHE0eeEiWrA",
                            "route": "f/s/arLlrA6xTEqxHE0eeEiWrA",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "Fantastic!\r\n\r\nPlease enter it now."
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "Transformer",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                },
                {
                    "id": "auWq7CeyQ3eXMg_c6ex4yw",
                    "input": {
                        "extractors": [
                            {
                                "extractor": "set",
                                "output_handler": "text",
                                "var": "trans._"
                            }
                        ],
                        "transition": {
                            "ref": "9DhGebcsSvGNBGevB1QDfg",
                            "route": "f/s/9DhGebcsSvGNBGevB1QDfg",
                            "statetype": "response",
                            "type": "state"
                        },
                        "transition_bad": {
                            "ref": "auWq7CeyQ3eXMg_c6ex4yw",
                            "route": "f/s/auWq7CeyQ3eXMg_c6ex4yw",
                            "statetype": "response",
                            "type": "state"
                        },
                        "type": "text"
                    },
                    "messages": [
                        {
                            "pages": [
                                {
                                    "style": "",
                                    "text": "There\u2019s some information I need you to confirm when you\u2019re at the address.\r\n\r\nTap below when you are there later, then we\u2019ll continue. \ud83d\ude0a"
                                }
                            ],
                            "type": "plain"
                        }
                    ],
                    "name": "You need to be there",
                    "tag": "",
                    "type": "response",
                    "workflow_id": "loAZFG-kSZWNZxewg7p0Fw",
                    "workflow_name": "Unvalidated: Entrypoint"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        },
        {
            "created_at": "Sep. 19, 2024, 05:30 PM",
            "default_state_id": "lqKD-BcoSrGNGhlBd1i1-Q",
            "id": "nXv5rj_BSlijKOCFyYjR2w",
            "name": "Users: Change Account",
            "projectver_id": "QianU0V7Tx-g2PBqe0TysA",
            "states": [
                {
                    "code": "log_out_time = datetime.utcnow()\r\naccount = perm.customer.account\r\n\r\nif perm.log_in_information and perm.log_in_information.get(account):\r\n    perm.log_in_information[account].append(f\"logout-{log_out_time}\")\r\nelse:\r\n    perm.log_in_information = {\r\n        account: [f\"logout-{log_out_time}\"]\r\n    }\r\n",
                    "decisions": [],
                    "default_action": {
                        "transition": {
                            "label": "Login: Entrypoint",
                            "ref": "OzxkVsL4TLanlQ6VqszbSg",
                            "route": "f/w/OzxkVsL4TLanlQ6VqszbSg",
                            "type": "workflow"
                        },
                        "type": "continue"
                    },
                    "id": "lqKD-BcoSrGNGhlBd1i1-Q",
                    "name": "Log history",
                    "relatives": [
                        {
                            "location": "/editor/states/mjd3QiqzTbCvvtZ4lZw-xw/#state:_P18nXOoQlKF86Xkj4mSqw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/ZGZGOPpkSH6LbhlJyF42wQ/#state:scm9NoWGS4--oGIxzC9kdw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/JkmlFYZERWmRYegDFq0ZgA/#state:4VdMEbpXTWO7jLuWZdoM3Q",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/bp6ck4mlTIONv-Q7YF2hSQ/#state:voMe5c1cT2u40PcZlE777w",
                            "name": "Failure"
                        },
                        {
                            "location": "/editor/states/DK7u0cfPTxiY6jEW9uNKPA/#state:lKMmoQTwTr2yycS3WMY-Ew",
                            "name": "Not found"
                        },
                        {
                            "location": "/editor/states/PXi9vnq7Qa6-Rfxp4YpgFw/#state:K6JIDWKoSG6usR68S6PANg",
                            "name": "Route"
                        },
                        {
                            "location": "/editor/states/yKVQvykuR_Kcwzcjlpu69w/#state:Fb4EJWjlQPqVBO3gJHLbPw",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/HV7mHXrgQAiLI2wSkU65ZA/#state:amQ-ncFcSAm7M_xyrTRCnQ",
                            "name": "Route or answer"
                        },
                        {
                            "location": "/editor/states/tKvsMyspQ2y0UBJH3bSN-w/#state:2ax-VPjRSYKC_Q-pX-8M1w",
                            "name": "Menu options"
                        }
                    ],
                    "type": "decision",
                    "workflow_id": "nXv5rj_BSlijKOCFyYjR2w",
                    "workflow_name": "Users: Change Account"
                }
            ],
            "updated_at": "Sep. 19, 2024, 05:30 PM"
        }
    ]
}
